add_namespace = cat
add_namespace = cat_diplo
add_namespace = cat_debug
add_namespace = cat_news

#show the trotsky tree
country_event = {
	id = cat_debug.1
	title = cat_debug.1.t
	desc = cat_debug.1.d
	picture = x
	is_triggered_only = yes
	
	option = {
		name = cat_debug.1.o1
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		mark_focus_tree_layout_dirty = yes
		set_politics = {
			ruling_party = revolutionary_socialist
		}
		promote_character = {
			character = CAT_lluis_rabell
			ideology = trotskyist
		}
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "Revolutionary Workers' Party 'La Aurora'"
			name = "La Aurora"
		}
		set_cosmetic_tag = cat_trots
		set_country_flag = cat_debug
	}
}
#show the christdem tree
country_event = {
	id = cat_debug.2
	title = cat_debug.1.t
	desc = cat_debug.1.d
	picture = x
	is_triggered_only = yes
	
	option = {
		name = cat_debug.1.o1
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_nazis
		clr_country_flag = cat_la_auroras
		clr_country_flag = cnt_fai_irp
		mark_focus_tree_layout_dirty = yes
		set_politics = {
			ruling_party = centrist
		}
		promote_character = {
			character = CAT_laura_borras
			ideology = christian_democrat
		}
		set_country_flag = cat_debug
	}
}
#show the nazi tree
country_event = {
	id = cat_debug.3
	title = cat_debug.1.t
	desc = cat_debug.1.d
	picture = x
	is_triggered_only = yes
	
	option = {
		name = cat_debug.1.o1
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cnt_fai_irp
		mark_focus_tree_layout_dirty = yes
		promote_character = {
			character = CAT_pedro_varela_geiss
			ideology = revolutionary_nazi
		}
		set_party_name = {
			ideology = national_bolshevik
			long_name = "National Salvation for Catalonia"
			name = "National Salvation"
		}
		set_politics = {
			ruling_party = national_bolshevik
			elections_allowed = no
			last_election = "1935.12.17"
			election_frequency = 48
		}
		set_cosmetic_tag = nazi_catalonia
		set_country_flag = cat_debug
		hidden_effect = {
			add_field_marshal_role = {
				Character = CAT_pedro_varela_geiss_general
				traits={ politically_connected media_personality harsh_leader inspirational_leader offensive_doctrine }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Ernesto_Mila
				traits={ old_guard politically_connected media_personality skilled_staffer expert_delegator organisational_leader defensive_doctrine }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Jose_Eduardo_Chapela_Herrero
				traits={ inflexible_strategist trait_reckless }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Jesus_Palacios_Tapias
				traits={ politically_connected media_personality skilled_staffer old_guard trait_engineer scavenger }
				skill=3
				attack_skill=2
				defense_skill=3
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Marc_de_Cacqueray_Valmenier
				traits={ international_volunteer trait_reckless media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Cuevas_Silvestre
				traits={ organizer trickster infantry_leader }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Carmen_Martin_Padial
				traits={ trickster politically_connected }
				skill=2
				attack_skill=1
				defense_skill=1
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Franco_Freda
				traits={ international_volunteer old_guard inflexible_strategist politically_connected war_hero trait_cautious }
				skill=3
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Stefano_Delle_Chiaie
				traits={ international_volunteer old_guard brilliant_strategist politically_connected war_hero trait_cautious harsh_leader engineer_officer infantry_officer }
				skill=3
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Juan_Antonio_Llopart
				traits={ media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Pablo_Pena
				traits={ politically_connected war_hero trait_reckless media_personality }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=1
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Inigo_Perez_de_Herrasti
				traits={ old_guard war_hero media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_naval_commander_role = {
				Character = CAT_Jose_Maria_Ruiz_Puerta
				traits={ gentlemanly spotter }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=2
			}
			retire_character = CAT_Rafael_Comas
			retire_character = CAT_Miguel_Angel_Villarroya
			retire_character = CAT_Eric_Bellot_des_Minieres
			retire_character = CAT_Jean_Marc_Rouillan
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Bernard_Janvier
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Isidre_Molas_general
			retire_character = CAT_Teresa_Laplana
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Ricard_de_Vargas_Golarons
			retire_character = CAT_Guillem_Agullo
			retire_character = CAT_Alfonso_Alvarez
			retire_character = CAT_Martin_Paradelo
			retire_character = CAT_Fidel_Manrique
			retire_character = CAT_Ignacio_Fernandez_Toxo
			retire_character = CAT_Stuart_Christie
			retire_character = CAT_Tomas_Sayes_i_Jato
			retire_character = CAT_Nunia_Cadenes
			retire_character = CAT_Jordi_Boix
			retire_character = CAT_Jordi_Olle
			retire_character = CAT_Joan_Unio
			retire_character = CAT_Josep_Milan
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez_later
			retire_character = CAT_Miquel_Esquius_i_Mique
			retire_character = CAT_Joan_Carles_Molinero
			retire_character = CAT_Xavier_Vilaro_i_Camps
			retire_character = CAT_Joan_Portals
			retire_character = CAT_Eduard_Sallent_i_Pena
			retire_character = CAT_pedro_garrido_general
			retire_character = CAT_Angel_Gonzalo
			retire_character = CAT_Jose_Luis_Tovar
			retire_character = CAT_Pedro_Pizarro
			retire_character = CAT_Daniel_Baena
			retire_character = CAT_Pedro_Alfonso_Casado
			retire_character = CAT_Jordi_Verger
			retire_character = CAT_Francisco_Barreiro
			retire_character = CAT_J_Reina
		}
	}
}
#restore normal cnt-fai tree
country_event = {
	id = cat_debug.4
	title = cat_debug.1.t
	desc = cat_debug.1.d
	picture = x
	is_triggered_only = yes
	
	option = {
		name = cat_debug.1.o1
		clr_country_flag = cat_fall_of_anarchy
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		mark_focus_tree_layout_dirty = yes
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "National Confederation of Labour-Iberian Anarchist Federation"
			name = "CNT-FAI"
		}
		set_politics = {
			ruling_party = revolutionary_socialist
			elections_allowed = no
			last_election = "1935.12.17"
			election_frequency = 48
		}
		drop_cosmetic_tag = yes
	}
}

#catalonia requests military aid
country_event = {
	id = cat.1
	title = cat.1.t
	desc = cat.1.d
	picture = catalonia_requests_aid

	is_triggered_only = yes

	option = { #yes
		name = cat.1.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat.2
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = cat_aided_us
			}
		}
		CAT = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 150
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 25
				producer = ROOT
			}
		}
		add_ai_strategy = {
			type = send_volunteers_desire
			id = CAT
			value = 200
		}
		set_country_flag = cat_send_volunteers_to_catalonia
	}
	option = { #no
		ai_chance = {base = 30}
		name = cat.1.o2
	}
}
#country agrees to send aid
country_event = {
	id = cat.2
	title = cat.2.t
	desc = cat.2.d
	picture = catalonia_requests_aid

	is_triggered_only = yes

	option = {
		name = cat.2.o1
	}
}
#catalonia requests armor
country_event = {
	id = cat.3
	title = cat.3.t
	desc = cat.3.d
	picture = catalonia_new_tanks_from_germany

	is_triggered_only = yes

	option = { #yes
		ai_chance = {base = 80}
		name = cat.3.o1
		CAT = {
			country_event = {
				id = cat.4
			}
		}
		send_equipment = {
			equipment = heavy_tank_chassis
			amount = 1000
			target = CAT
		}
	}
	option = { #no
		ai_chance = {base = 20}
		name = cat.3.o2
		CAT = {
			country_event = {
				id = cat.5
			}
		}
	}
}
#germany sends armor division
country_event = {
	id = cat.4
	title = cat.4.t
	desc = cat.4.d
	picture = catalonia_new_tanks_from_germany

	is_triggered_only = yes

	option = { #yes
		name = cat.4.o1
		division_template = {
			name = "Panzerbrigade"
			
			regiments = {
				heavy_armor = { x = 0 y = 0 }
				heavy_armor = { x = 0 y = 1 }
				heavy_armor = { x = 0 y = 2 }
				motorized = { x = 1 y = 0 }
				motorized = { x = 1 y = 1 }
				motorized = { x = 1 y = 2 }
				motorized = { x = 2 y = 0 }
			}
			
			support = {
				artillery = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				anti_air = { x = 0 y = 2 }
			}
		}
		165 = {
			create_unit = {
				division = "name = \"Thälmann Column\" division_template = \"Panzerbrigade\" start_experience_factor = 1 start_equipment_factor = 1"
				owner = CAT
			}
		}
	}
}
#germany doesn't send armor
country_event = {
	id = cat.5
	title = cat.5.t
	desc = cat.5.d
	picture = catalonia_no_german_tanks

	is_triggered_only = yes

	option = { #yes
		name = cat.5.o1
		army_experience = 15
	}
}
#puigdemont united front
country_event = {
	id = cat.6
	title = cat.6.t
	desc = cat.6.d
	picture = catalonia_united_front_formed

	is_triggered_only = yes

	option = { #yes
		name = cat.6.o1
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#catalonia requests further aid
country_event = {
	id = cat.7
	title = cat.7.t
	desc = cat.7.d
	picture = catalonia_even_more_assistance

	is_triggered_only = yes

	option = { #send economic aid
		name = cat.7.o1
		ai_chance = {base = 25}
		CAT = {
			country_event = {
				id = cat.8
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = cat_aided_us
			}
		}
	}
	option = { #send military aid
		name = cat.7.o2
		ai_chance = {base = 50}
		CAT = {
			country_event = {
				id = cat.9
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = cat_aided_us
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 150
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 25
				producer = ROOT
			}
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = CAT
			value = 200
		}

	}
	option = { #no
		ai_chance = {base = 25}
		name = cat.7.o3
	}
}
#country agrees to send aid
country_event = {
	id = cat.8
	title = cat.8.t
	desc = cat.8.d
	picture = catalonia_economic_assistance

	is_triggered_only = yes

	option = {
		name = cat.8.o1
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
}
#country agrees to send military aid
country_event = {
	id = cat.9
	title = cat.9.t
	desc = cat.9.d
	picture = catalonia_military_assistance

	is_triggered_only = yes

	option = {
		name = cat.9.o1
	}
}
#anarchists protest increased ties
country_event = {
	id = cat.10
	title = cat.10.t
	desc = cat.10.d
	picture = catalonia_anarchists_upsetti

	is_triggered_only = yes

	option = {
		name = cat.10.o1
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#eu advisors arrive
country_event = {
	id = cat.11
	title = cat.11.t
	desc = cat.11.d
	picture = catalonia_foreign_legion_friends

	is_triggered_only = yes

	option = {
		name = cat.11.o1
	}
}
#catalan nationalists mobilize in valencia for Spain
country_event = {
	id = cat.12
	title = cat.12.t
	desc = cat.12.d
	picture = catalonia_insurgency_in_spain

	is_triggered_only = yes

	option = {
		name = cat.12.o1
	}
}
#catalan nationalists mobilize in the balearics for Spain
country_event = {
	id = cat.13
	title = cat.13.t
	desc = cat.13.d
	picture = catalonia_insurgency_in_spain

	is_triggered_only = yes

	option = {
		name = cat.13.o1
	}
}
#spaniards sabotage spanish supplies
country_event = {
	id = cat.14
	title = cat.14.t
	desc = cat.14.d
	picture = catalonia_spanish_sabotage_on_spain

	is_triggered_only = yes

	option = {
		name = cat.14.o1
	}
}
#anarchists join the front
country_event = {
	id = cat.15
	title = cat.15.t
	desc = cat.15.d
	picture = catalonia_new_anarchist_militias

	is_triggered_only = yes

	option = {
		name = cat.15.o1
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#liberal nationalists join the front
country_event = {
	id = cat.16
	title = cat.16.t
	desc = cat.16.d
	picture = catalonia_ciu_alliance

	is_triggered_only = yes

	option = {
		name = cat.16.o1
	}
}
#international volunteers join the fight
country_event = {
	id = cat.17
	title = cat.17.t
	desc = cat.17.d
	picture = catalonia_new_interbrigades

	is_triggered_only = yes

	option = {
		name = cat.17.o1
	}
}

#National Popular Front Occupies Government Buildings in Barcelona
country_event = {
	id = cat.18
	title = cat.18.t
	desc = cat.18.d
	picture = catalonia_revolt_begins

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = cat.18.o1
		set_variable = {
		   var = catalonia_unity_variable
		   value = 8
		}
		hidden_effect = {
			country_event = {
				id = cat.19
				days = 4
			}
		}
	}
}
#Guardia Civil Evacuates Political Prisoners into Spain
country_event = {
	id = cat.19
	title = cat.19.t
	desc = cat.19.d
	picture = catalonia_prisoner_evacuations
	
	fire_only_once = yes
	is_triggered_only = yes

	option = { #We must free our political leadership before it's too late
		name = cat.19.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.20
				days = 4
			}
		}
	}
	
	option = { #We can bolster our forces by breaking out militant strikers
		name = cat.19.o2
		hidden_effect = {
			country_event = {
				id = cat.21
				days = 4
			}
		}
	}
}
#Catalan Forces Liberate Centre Penitenciari Obert de Tarragona
country_event = {
	id = cat.20
	title = cat.20.t
	desc = cat.20.d
	picture = catalonia_tarragona_prison_liberation

	is_triggered_only = yes

	option = {
		name = cat.20.o1
		add_stability = 0.05
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

#Barcelona Prisons Busted Open
country_event = {
	id = cat.21
	title = cat.21.t
	desc = cat.21.d
	picture = catalonia_barcelona_prison_liberation

	is_triggered_only = yes

	option = { #
		name = cat.21.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		165 = {
			create_unit = {
				division = "name = \"'Els Emancipats' CNT Brigade\" division_template = \"Militia\" start_experience_factor = 0.6 start_equipment_factor = 0.9"
				owner = CAT
				allow_spawning_on_enemy_provs = yes
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

#National Popular Front Debates Seizing Private Bank Accounts
country_event = {
	id = cat.22
	title = cat.22.t
	desc = cat.22.d
	picture = catalonia_bank_account_seizures

	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		NOT = {
			has_country_flag = catalonia_coup_begins_flag
		}
		date > 2010.6.15
		date < 2010.7.15
	}

	option = { #Seize the Wealth and Redistribute It
		name = cat.22.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.23
				days = 10
			}
		}
	}
	
	option = { #Take Only from the Wealthy and From Unionists
		name = cat.22.o2
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		hidden_effect = {
			country_event = {
				id = cat.24
				days = 10
			}
		}
	}
	
	option = { #We will pay back every Pesata after liberation
		name = cat.22.o3
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.25
				days = 10
			}
		}
	}
}

#Bureaucracy buckles under the Demands of Fiscal Redistribution
country_event = {
	id = cat.23
	title = cat.23.t
	desc = cat.23.d
	picture = catalonia_economic_anarchist_redistribution

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = cat.23.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.05
		}
		add_timed_idea = {
			idea = idea_cat_all_resources_to_the_front
			days = 200
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Exodus of Wealthy Inhabitants from Barcelona
country_event = {
	id = cat.24
	title = cat.24.t
	desc = cat.24.d
	picture = catalonia_bourgeois_exodus

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = cat.24.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
		add_timed_idea = {
			idea = idea_cat_measured_redistribution
			days = 200
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Sales of War Bonds Contested by CNT Militias
country_event = {
	id = cat.25
	title = cat.25.t
	desc = cat.25.d
	picture = catalonia_failed_marketing_campaign

	is_triggered_only = yes

	option = {
		name = cat.25.o1
		add_stability = -0.05
		add_popularity = {
			ideology = liberal
			popularity = 0.03
		}
		add_timed_idea = {
			idea = idea_cat_disrupted_war_bond_sales
			days = 200
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Frontline Commanders Report on Increasing Numbers of Prisoners of War
country_event = {
	id = cat.26
	title = cat.26.t
	desc = cat.26.d
	picture = catalonia_pow_camps_what_do

	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		NOT = {
			has_country_flag = catalonia_coup_begins_flag
		}
		date > 2010.7.10
		date < 2010.8.10
	}

	option = { #Listen to the CNT's proposition
		name = cat.26.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.27
				days = 14
			}
		}
	}
	
	option = { #We are right to not unnerve our sponsors
		name = cat.26.o2
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.28
				days = 14
			}
		}
	}
}
#Numerous Spanish Conscripts Defect to the CNT
country_event = {
	id = cat.27
	title = cat.27.t
	desc = cat.27.d
	picture = catalonia_enticing_defections

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = cat.27.o1
		add_manpower = 20000
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Prisoner of War Camps Overflowing
country_event = {
	id = cat.28
	title = cat.28.t
	desc = cat.28.d
	picture = catalonia_humanitarian_prisons

	is_triggered_only = yes

	option = {
		name = cat.28.o1
		add_political_power = -50
		add_offsite_building = { type = arms_factory level = 1 }
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Municipal Governments Come into Conflict with the CNT 
country_event = {
	id = cat.29
	title = cat.29.t
	desc = cat.29.d
	picture = catalonia_struggle_with_dual_power

	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		NOT = {
			has_country_flag = catalonia_coup_begins_flag
		}
		date > 2010.8.7
		date < 2010.9.7
	}

	option = { #The Municipal Governments have Primacy
		name = cat.29.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.30
				days = 10
			}
		}
	}
	
	option = { #Grant Dual Authority, we can sort this out after the war 
		name = cat.29.o2
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		hidden_effect = {
			country_event = {
				id = cat.31
				days = 10
			}
		}
	}
	
	option = { #The Federations Represent the Will of the Working Class
		name = cat.29.o3
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.260
				days = 10
			}
		}
	}
}
#Municipal Administrations Struggle to Enforce Decrees
country_event = {
	id = cat.30
	title = cat.30.t
	desc = cat.30.d
	picture = catalonia_municipal_governments_in_charge

	is_triggered_only = yes

	option = {
		name = cat.30.o1
		add_popularity = {
			ideology = communist
			popularity = 0.03
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.03
		}
		add_timed_idea = {
			idea = idea_cat_municipal_governments_dominate
			days = 150
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}
#Joint Administrative Commissions Temporarily Established across Liberated Territory
country_event = {
	id = cat.31
	title = cat.31.t
	desc = cat.31.d
	picture = catalonia_dual_power_for_the_moment

	is_triggered_only = yes

	option = {
		name = cat.31.o1
		add_ideas = idea_cat_division_of_power
		set_country_flag = catalonia_dual_power_flag
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

#election day
country_event = {
	id = cat.32
	title = cat.32.t
	desc = cat.32.d
	picture = catalonia_election_day

	is_triggered_only = yes

	option = { #puigdemont stays
		name = cat.32.o1
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.1
		}
		set_country_flag = cat_elections_were_held
		set_country_flag = cat_puigdemont_won_the_election
		complete_national_focus = CAT_first_elections
		complete_national_focus = CAT_moderate_socialist_path
		hidden_effect = {
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			add_corps_commander_role = {
				Character = CAT_Josep_Lluis_Trapero_Alvarez_later
				traits={ trait_cautious infantry_leader trickster expert_improviser urban_assault_specialist media_personality inflexible_strategist war_hero }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=4
			}
		}
		load_focus_tree = generic_focus
	}
	option = { #republican left
		name = cat.32.o2
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.1
		}
		set_country_flag = cat_elections_were_held
		set_country_flag = cat_republican_left_won_the_election
		complete_national_focus = CAT_first_elections
		complete_national_focus = CAT_republican_left
		load_focus_tree = generic_focus
		hidden_effect = {
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			add_naval_commander_role = {
				Character = CAT_Jordi_Boix
				traits={ seawolf gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=3
				coordination_skill=2
			}
			add_naval_commander_role = {
				Character = CAT_Jordi_Olle
				traits={ bold gunnery_expert }
				skill=2
				attack_skill=3
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Joan_Unio
				traits={ old_guard brilliant_strategist trait_cautious offensive_doctrine fast_planner }
				skill=3
				attack_skill=3
				defense_skill=3
				planning_skill=4
				logistics_skill=3
			}
			add_field_marshal_role = {
				Character = CAT_Josep_Milan
				traits={ old_guard inflexible_strategist trait_cautious logistics_wizard thorough_planner }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Josep_Lluis_Trapero_Alvarez_later
				traits={ trait_cautious infantry_leader trickster expert_improviser urban_assault_specialist media_personality inflexible_strategist war_hero }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Miquel_Esquius_i_Mique
				traits={ politically_connected career_officer harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=1
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Eduard_Sallent_i_Pena
				traits={ infantry_officer organizer adaptable }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Carles_Molinero
				traits={ career_officer commando }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Xavier_Vilaro_i_Camps
				traits={ career_officer organizer skilled_staffer trait_cautious }
				skill=2
				attack_skill=1
				defense_skill=2
				planning_skill=2
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Portals
				traits={ old_guard cavalry_officer cavalry_leader engineer_officer }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=4
				logistics_skill=1
			}
		}
	}
	option = { #democratic convergence
		name = cat.32.o3
		set_politics = {
			ruling_party = liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.1
		}
		set_country_flag = cat_elections_were_held
		set_country_flag = cat_democratic_convergence_of_catalonia_won
		complete_national_focus = CAT_first_elections
		complete_national_focus = CAT_liberal_path
		load_focus_tree = generic_focus
		hidden_effect = {
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			add_naval_commander_role = {
				Character = CAT_Jordi_Boix
				traits={ seawolf gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=3
				coordination_skill=2
			}
			add_naval_commander_role = {
				Character = CAT_Jordi_Olle
				traits={ bold gunnery_expert }
				skill=2
				attack_skill=3
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Joan_Unio
				traits={ old_guard brilliant_strategist trait_cautious offensive_doctrine fast_planner }
				skill=3
				attack_skill=3
				defense_skill=3
				planning_skill=4
				logistics_skill=3
			}
			add_field_marshal_role = {
				Character = CAT_Josep_Milan
				traits={ old_guard inflexible_strategist trait_cautious logistics_wizard thorough_planner }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Josep_Lluis_Trapero_Alvarez_later
				traits={ trait_cautious infantry_leader trickster expert_improviser urban_assault_specialist media_personality inflexible_strategist war_hero }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Miquel_Esquius_i_Mique
				traits={ politically_connected career_officer harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=1
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Eduard_Sallent_i_Pena
				traits={ infantry_officer organizer adaptable }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Carles_Molinero
				traits={ career_officer commando }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Xavier_Vilaro_i_Camps
				traits={ career_officer organizer skilled_staffer trait_cautious }
				skill=2
				attack_skill=1
				defense_skill=2
				planning_skill=2
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Portals
				traits={ old_guard cavalry_officer cavalry_leader engineer_officer }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=4
				logistics_skill=1
			}
		}
	}
	option = { #citizens
		name = cat.32.o4
		set_politics = {
			ruling_party = national_conservative
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.1
		}
		set_country_flag = cat_elections_were_held
		set_country_flag = cat_citizens_won_the_election
		complete_national_focus = CAT_first_elections
		complete_national_focus = CAT_national_conservative_path
		load_focus_tree = generic_focus
		hidden_effect = {
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			add_naval_commander_role = {
				Character = CAT_Jordi_Boix
				traits={ seawolf gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=3
				coordination_skill=2
			}
			add_naval_commander_role = {
				Character = CAT_Jordi_Olle
				traits={ bold gunnery_expert }
				skill=2
				attack_skill=3
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Joan_Unio
				traits={ old_guard brilliant_strategist trait_cautious offensive_doctrine fast_planner }
				skill=3
				attack_skill=3
				defense_skill=3
				planning_skill=4
				logistics_skill=3
			}
			add_field_marshal_role = {
				Character = CAT_Josep_Milan
				traits={ old_guard inflexible_strategist trait_cautious logistics_wizard thorough_planner }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Josep_Lluis_Trapero_Alvarez_later
				traits={ trait_cautious infantry_leader trickster expert_improviser urban_assault_specialist media_personality inflexible_strategist war_hero }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Miquel_Esquius_i_Mique
				traits={ politically_connected career_officer harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=1
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Eduard_Sallent_i_Pena
				traits={ infantry_officer organizer adaptable }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Carles_Molinero
				traits={ career_officer commando }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Xavier_Vilaro_i_Camps
				traits={ career_officer organizer skilled_staffer trait_cautious }
				skill=2
				attack_skill=1
				defense_skill=2
				planning_skill=2
				logistics_skill=4
			}
			add_corps_commander_role = {
				Character = CAT_Joan_Portals
				traits={ old_guard cavalry_officer cavalry_leader engineer_officer }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=4
				logistics_skill=1
			}
		}
	}
}
#hispanophones protest linguistic unity doctrine
country_event = {
	id = cat.33
	title = cat.33.t
	desc = cat.33.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.33.o1
	}
}
#people's party demands greater representation in government
country_event = {
	id = cat.34
	title = cat.34.t
	desc = cat.34.d
	picture = x

	trigger = {
		nationalist > 0.4
		tag = CAT
		is_puppet = no
		NOT = {
			has_government = nationalist
		}
		OR = {
			has_idea = idea_cat_francoist_law_enforcement
			has_idea = idea_cat_francoist_law_enforcement_2
		}
		always = no
	}
	
	fire_only_once = yes

	option = {
		name = cat.34.o1
		hidden_effect = {
			country_event = {
				id = cat.35
				days = 5
			}
		}
	}
}
#suspicious civil guard movements sited
country_event = {
	id = cat.35
	title = cat.35.t
	desc = cat.35.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.35.o1
		hidden_effect = {
			country_event = {
				id = cat.36
				days = 7
			}
		}
	}
}
#civil guard overthrows the government
country_event = {
	id = cat.36
	title = cat.36.t
	desc = cat.36.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.36.o1
		set_politics = {
			ruling_party = nationalist
			elections_allowed = no
		}
		complete_national_focus = CAT_end_national_experiment
		set_country_flag = cat_the_civil_guard_seized_power
		clr_country_flag = cat_elections_were_held
		add_field_marshal_role = {
			Character = CAT_pedro_garrido_general
			traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
			skill=4
			attack_skill=5
			defense_skill=4
			planning_skill=5
			logistics_skill=2
		}
		add_field_marshal_role = {
			Character = CAT_Angel_Gonzalo
			traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
			skill=3
			attack_skill=2
			defense_skill=4
			planning_skill=3
			logistics_skill=3
		}
	}
}

#natbol


#state of emergency





country_event = {
	id = cat.37
	title = cat.37.t
	desc = cat.37.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.37.o1
		hidden_effect = {
			set_variable = {
				var = repleft_auth_var
				value = 0
			}
		}
	}
}

#national unity government

country_event = {
	id = cat.38
	title = cat.38.t
	desc = cat.38.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.38.o1
		set_country_flag = cat_nb_unity
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.02
		}
		add_political_power = -50

		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = -1
			}
		}
	}
}

#no time for divisions

country_event = {
	id = cat.39
	title = cat.39.t
	desc = cat.39.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.39.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.05
		}
		add_stability = -0.1
		add_political_power = 250

		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = 1
			}
		}
	}
}

#redistribution and nationalization


country_event = {
	id = cat.40
	title = cat.40.t
	desc = cat.40.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.40.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.02
		}
		random_owned_state = {add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
		}
	}
		add_timed_idea = {
			idea = idea_cat_redistrubution_moderate
			days = 730
		}
	}

		
	
	option = {
		name = cat.40.o2
		add_popularity = {
			ideology = nationalist
			popularity = 0.1
		}

		random_owned_state = {add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
		}
	}
	add_timed_idea = {
		idea = idea_cat_redistrubution_medium
		days = 730
	}

		
	}

	option = {
		name = cat.40.o3
		add_popularity = {
			ideology = nationalist
			popularity = 0.15
		}
	
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = 1
			}
		}
		random_owned_state = {add_building_construction = {
			type = industrial_complex
			level = 5
			instant_build = yes
		}
			add_extra_state_shared_building_slots = 5
		}
		add_timed_idea = {
			idea = idea_cat_redistrubution_large
			days = 730
		}
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = 1
			}
		}

	}
	}
	
	#negotiate with cnt fai

country_event = {
	id = cat.41
	title = cat.41.t
	desc = cat.41.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.41.o1
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = -1
			}
		}
		
	}
}

#attack cnt fai

country_event = {
	id = cat.42
	title = cat.42.t
	desc = cat.42.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.42.o1
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = 1
			}
		}
		
	}
}

#true republicanism

country_event = {
	id = cat.43
	title = cat.43.t
	desc = cat.43.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.43.o1
		
		
	}
}


# tear down institutions

country_event = {
	id = cat.44
	title = cat.44.t
	desc = cat.44.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.44.o1
		
		
	}
}


#restore our language

country_event = {
	id = cat.45
	title = cat.45.t
	desc = cat.45.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.45.o1
		
		
	}
}


#free press results in critism of government

country_event = {
	id = cat.46
	title = cat.46.t
	desc = cat.46.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.46.o1
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = -1
			}
		}
		
	}
}

#anti government press banned

country_event = {
	id = cat.47
	title = cat.47.t
	desc = cat.47.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.47.o1
		hidden_effect = {
			add_to_variable = {
				var = repleft_auth_var
				value = 1
			}
		}
		
	}
}

#catalonia triomphant authoritarian

country_event = {
	id = cat.48
	title = cat.48.t
	desc = cat.48.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.48.o1
		set_country_flag = cat_natbol_auth
		
	}
}

#catalonia triomphant moderate

country_event = {
	id = cat.49
	title = cat.49.t
	desc = cat.49.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.49.o1
		set_country_flag = cat_natbol_libs
		
	}
}

#continue national leadership

country_event = {
	id = cat.50
	title = cat.50.t
	desc = cat.50.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.50.o1
		add_stability = -0.1
		add_war_support = -0.1
		
	}
}

#restoration of democracy
country_event = {
	id = cat.51
	title = cat.51.t
	desc = cat.51.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.51.o1
		add_stability = -0.1
		add_war_support = -0.1
		
	}
}


#cnt fai


#trial of the leninists
country_event = {
	id = cat.52
	title = cat.52.t
	desc = cat.52.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.52.o1
		
		
	}
}

#people's war against francoists

country_event = {
	id = cat.53
	title = cat.53.t
	desc = cat.53.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.53.o1
		
		
	}
}

#an offer to the liberals
country_event = {
	id = cat.54
	title = cat.54.t
	desc = cat.54.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.54.o1
		
		
	}
}

#stop anti-clericals

country_event = {
	id = cat.55
	title = cat.55.t
	desc = cat.55.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.55.o1
		
		remove_ideas = idea_cat_anti_clerical_riots
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.04
		}
		
	}

	
	option = {
		name = cat.55.o2
		remove_ideas = idea_cat_anti_clerical_riots
		add_timed_idea = {
			idea = idea_cat_anti_clerical_riots_2
			days = 365
		}
		
	}
}

#justice for the opressed


country_event = {
	id = cat.56
	title = cat.56.t
	desc = cat.56.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.56.o1
		remove_ideas = idea_cat_red_black_terror
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.04
		}
		
	}

	option = {
		name = cat.56.o2
		remove_ideas = idea_cat_red_black_terror
		add_timed_idea = {
			idea = idea_cat_red_black_terror_2
			days = 365
		}
		
	}

}

#handle extraotiations

country_event = {
	id = cat.57
	title = cat.57.t
	desc = cat.57.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.57.o1
		remove_ideas = idea_cat_uncoordinated_redistribution
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.04
		}
		
	}

	option = {
		name = cat.57.o2
		remove_ideas = idea_cat_uncoordinated_redistribution
		add_timed_idea = {
			idea = idea_cat_uncoordinated_redistribution_2
			days = 365
		}
		
		
	}
}


#abolish the police
country_event = {
	id = cat.58
	title = cat.58.t
	desc = cat.58.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.58.o1
		
		
	}
}

#mujeres libres
country_event = {
	id = cat.59
	title = cat.59.t
	desc = cat.59.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.59.o1
		
		
	}
}

#abolished homework

country_event = {
	id = cat.60
	title = cat.60.t
	desc = cat.60.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.60.o1
		
		
	}
}

#anti nationalism campgain

country_event = {
	id = cat.61
	title = cat.61.t
	desc = cat.61.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.61.o1
		
		
	}
}

#failure

#failed to conquer iberia in time chain
#protests descend on barcelona
country_event = {
	id = cat.62
	title = cat.62.t
	desc = cat.62.d
	picture = x

	is_triggered_only = yes

	trigger = {
		tag = CAT
		has_war = yes
	}

	option = {
		name = cat.62.o1
		add_war_support = -0.15

		hidden_effect = {
			country_event = {
				id = cat.63
				days = 7
			}
			set_party_name = {
				ideology = centrist
				long_name = "Democratic Union of Catalonia"
				name = "Democratic Union"
			}
		}
		
		
	}
}

#anti-war protests disrupt supplies
country_event = {
	id = cat.63
	title = cat.63.t
	desc = cat.63.d
	picture = x

	is_triggered_only = yes


	option = {
		name = cat.63.o1
		ai_chance = {
			base = 40
		}
		country_event = {
			id = cat.64
			days = 1
		}
	}

	option = {
		name = cat.63.o2
		ai_chance = {
			base = 60
		}
	}
}

#la aurora millitias subdues protests

country_event = {
	id = cat.64
	title = cat.64.t
	desc = cat.64.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.64.o1
		
		add_days_mission_timeout = {
			mission = liberate_iberia
			days = 70
		}
		set_country_flag = cnt_fai_auroras_help
		add_political_power = -100
		
		
	}

	
}

#protests reach new heights
country_event = {
	id = cat.65
	title = cat.65.t
	desc = cat.65.d
	picture = x
	
	is_triggered_only = yes
	
	#offer consessions
	option = {
		name = cat.65.o1
		ai_chance = {
			base = 45
		}
		country_event = {
			id = cat.66
			days = 3
		}
	}
	
	#push without them
	option = {
		name = cat.65.o2
		ai_chance = {
			base = 55
		}
		hidden_effect = {
			country_event = {
				id = cat.69
				days = 8
			}
		}
	}
}

#inter syndicate alliances break down
country_event = {
	id = cat.66
	title = cat.66.t
	desc = cat.66.d
	picture = x
	
	is_triggered_only = yes
	
	option = {
		name = cat.66.o1
		add_political_power = -200
		hidden_effect = {
			country_event = {
				id = cat.67
				days = 2
			}
		}
	}
}

#liberals demand end of war 

country_event = {
	id = cat.67
	title = cat.67.t
	desc = cat.67.d
	picture = x

	is_triggered_only = yes

	
	#accept
	option = {
		name = cat.67.o1

		add_popularity = {
			ideology = centrist
			popularity = 0.1
		} 
		hidden_effect = {
			country_event = {
				id = cat.68
				days = 2
			}
		}
	}

	#never 
	option = {
		name = cat.67.o2
		add_popularity = {
			ideology = centrist
			popularity = 0.1
		} 
		hidden_effect = {
			country_event = {
				id = cat.71
				days = 5
			}
		}
	}
}

#christian democrats come to power

country_event = {
	id = cat.68
	title = cat.68.t
	desc = cat.68.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.68.o1	
		set_politics = {
			ruling_party = centrist
		}
		promote_character = {
			character = CAT_laura_borras
			ideology = christian_democrat
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_return_of_christian_democrats
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}

			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}

			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
	}
}

#la auroras millitias occupy leadership offices

country_event = {
	id = cat.69
	title = cat.69.t
	desc = cat.69.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.69.o1
		add_manpower = -20
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
		add_war_support = -0.1
		hidden_effect = {
			country_event = {
				id = cat.70
				days = 2
			}
		}
		
		
	}
}

#la aurora declares new governent

country_event = {
	id = cat.70
	title = cat.70.t
	desc = cat.70.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.70.o1		
		set_politics = {
			ruling_party = revolutionary_socialist
		}
		promote_character = {
			character = CAT_lluis_rabell
			ideology = trotskyist
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_la_aurora_shines
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "Revolutionary Workers' Party 'La Aurora'"
			name = "La Aurora"
		}
		set_cosmetic_tag = cat_trots
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT		
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}

			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}

			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
	}
}


#non syndicate miliitas consolidate . war on the street. mention nazis in loc

country_event = {
	id = cat.71
	title = cat.71.t
	desc = cat.71.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.71.o1
		
		add_stability = -0.1
		add_political_power = -100
		add_popularity = {
			ideology = national_bolshevik
			popularity = 0.01
		}
	
		hidden_effect = {
			promote_character = {
				character = CAT_pedro_varela_geiss
				ideology = revolutionary_nazi
			}
			set_party_name = {
				ideology = national_bolshevik
				long_name = "National Salvation for Catalonia"
				name = "National Salvation"
			}
			country_event = {
				id = cat.72
				days = 3
			}
		}
		
		
	}
}

#la auroa overwhelmed
country_event = {
	id = cat.72
	title = cat.72.t
	desc = cat.72.d
	picture = x

	is_triggered_only = yes

	
  #order millitary to return

	option = {
		name = cat.72.o1
		hidden_effect = {
			country_event = {
				id = cat.73
				days = 3
			}
		}
	}

	#order last stand
	option = {
		name = cat.72.o2
		
		add_stability = -0.1
		add_political_power = -100
		hidden_effect = {
			country_event = {
				id = cat.75
				days = 3
			}
		}
	}
}

#millitary doesent arive in time

country_event = {
	id = cat.73
	title = cat.73.t
	desc = cat.73.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.73.o1
		
		hidden_effect = {
			country_event = {
			id = cat.74
			days = 1
			}
		}
	}
}

#christdems come to power

country_event = {
	id = cat.74
	title = cat.74.t
	desc = cat.74.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.74.o1
		set_politics = {
			ruling_party = centrist
		}
		promote_character = {
			character = CAT_laura_borras
			ideology = christian_democrat
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_return_of_christian_democrats
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}	
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}
		
			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}
		
			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
	}
}

#la aurora forces overwhelmed 

country_event = {
	id = cat.75
	title = cat.75.t
	desc = cat.75.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.75.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.1
		}
		add_popularity = {
			ideology = national_bolshevik
			popularity = 0.1
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.76
				days = 1
			}
		}
		
		
	}
}

#nazis declare end of revolution

country_event = {
	id = cat.76
	title = cat.76.t
	desc = cat.76.d
	picture = x

	is_triggered_only = yes

	

	option = {
		name = cat.76.o1
		set_politics = {
			ruling_party = national_bolshevik
		}
		every_country = {
			limit = {
				has_defensive_war_with = CAT
			}
			white_peace = CAT
		}
		if = {
			limit = { 
				POR = {
					exists = no
				}
			}
			release = POR
		}
	
		if = {
			limit = { 
				BSQ = {
					exists = no
				}
			}
			release = BSQ
		}
	
		if = {
			limit = { 
				GAL = {
					exists = no
				}
			}
			release = GAL
		}
		every_owned_state = {
			limit = {
				OR = {
					is_core_of = SPN
					is_core_of = SPR
					is_core_of = ATA
					is_core_of = ALU
					is_core_of = CAI
				}
				NOT = {
					is_core_of = CAT
				}
			}
			transfer_state_to = SPN
			add_core_of = SPN
		}
		every_state = {
			limit = {
				is_claimed_by = CAT
				OR = {
					is_core_of = SPR
					is_core_of = SPN
					is_core_of = GAL
					is_core_of = BSQ
					is_core_of = POR
					is_core_of = CAI
					is_core_of = ALU
					is_core_of = ATA
				}
				NOT = {
					state = 167
				}
				NOT = {
					state = 177
				}
			}
			remove_claim_by = CAT
		}
		hidden_effect = {
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
		hidden_effect = {
			country_event = {
				id = cat.77
				days = 2
			}
		}
		
		
	}
}

#anti-fascist protesters remain
country_event = {
	id = cat.77
	title = cat.77.t
	desc = cat.77.d
	picture = x

	is_triggered_only = yes

	
   #eliminate worst agitators
	option = {
		name = cat.77.o1

		add_political_power = -100
		hidden_effect = {
			country_event = {
				id = cat.78
				days = 4
			}
		}
		
	}

	#let them cook
	option = {
		name = cat.77.o2
		
		hidden_effect = {
			country_event = {
				id = cat.79
				days = 3
			}
		}
		
	}
}

#nazis fire on protestors, secure power

country_event = {
	id = cat.78
	title = cat.78.t
	desc = cat.78.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.78.o1

		add_popularity = {
			ideology = centrist
			popularity = -0.05
		}
		add_popularity = {
			ideology = national_bolshevik
			popularity = 0.05
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_nazis
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_revolution_of_spirit
		add_ideas = {
			idea_cat_broad_salvation_front
		}
		set_cosmetic_tag = nazi_catalonia
		hidden_effect = {
			add_field_marshal_role = {
				Character = CAT_pedro_varela_geiss_general
				traits={ politically_connected media_personality harsh_leader inspirational_leader offensive_doctrine }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Ernesto_Mila
				traits={ old_guard politically_connected media_personality skilled_staffer expert_delegator organisational_leader defensive_doctrine }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Jose_Eduardo_Chapela_Herrero
				traits={ inflexible_strategist trait_reckless }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Jesus_Palacios_Tapias
				traits={ politically_connected media_personality skilled_staffer old_guard trait_engineer scavenger }
				skill=3
				attack_skill=2
				defense_skill=3
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Marc_de_Cacqueray_Valmenier
				traits={ international_volunteer trait_reckless media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Cuevas_Silvestre
				traits={ organizer trickster infantry_leader }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Carmen_Martin_Padial
				traits={ trickster politically_connected }
				skill=2
				attack_skill=1
				defense_skill=1
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Franco_Freda
				traits={ international_volunteer old_guard inflexible_strategist politically_connected war_hero trait_cautious }
				skill=3
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Stefano_Delle_Chiaie
				traits={ international_volunteer old_guard brilliant_strategist politically_connected war_hero trait_cautious harsh_leader engineer_officer infantry_officer }
				skill=3
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Juan_Antonio_Llopart
				traits={ media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Pablo_Pena
				traits={ politically_connected war_hero trait_reckless media_personality }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=1
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Inigo_Perez_de_Herrasti
				traits={ old_guard war_hero media_personality }
				skill=1
				attack_skill=1
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_naval_commander_role = {
				Character = CAT_Jose_Maria_Ruiz_Puerta
				traits={ gentlemanly spotter }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=2
			}
			retire_character = CAT_Rafael_Comas
			retire_character = CAT_Miguel_Angel_Villarroya
			retire_character = CAT_Eric_Bellot_des_Minieres
			retire_character = CAT_Jean_Marc_Rouillan
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Bernard_Janvier
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Isidre_Molas_general
			retire_character = CAT_Teresa_Laplana
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Ricard_de_Vargas_Golarons
			retire_character = CAT_Guillem_Agullo
			retire_character = CAT_Alfonso_Alvarez
			retire_character = CAT_Martin_Paradelo
			retire_character = CAT_Fidel_Manrique
			retire_character = CAT_Ignacio_Fernandez_Toxo
			retire_character = CAT_Stuart_Christie
			retire_character = CAT_Tomas_Sayes_i_Jato
			retire_character = CAT_Nunia_Cadenes
			retire_character = CAT_Jordi_Boix
			retire_character = CAT_Jordi_Olle
			retire_character = CAT_Joan_Unio
			retire_character = CAT_Josep_Milan
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez_later
			retire_character = CAT_Miquel_Esquius_i_Mique
			retire_character = CAT_Joan_Carles_Molinero
			retire_character = CAT_Xavier_Vilaro_i_Camps
			retire_character = CAT_Joan_Portals
			retire_character = CAT_Eduard_Sallent_i_Pena
			retire_character = CAT_pedro_garrido_general
			retire_character = CAT_Angel_Gonzalo
			retire_character = CAT_Jose_Luis_Tovar
			retire_character = CAT_Pedro_Pizarro
			retire_character = CAT_Daniel_Baena
			retire_character = CAT_Pedro_Alfonso_Casado
			retire_character = CAT_Jordi_Verger
			retire_character = CAT_Francisco_Barreiro
			retire_character = CAT_J_Reina
		}
	}
}

#protesters overrun government

country_event = {
	id = cat.79
	title = cat.79.t
	desc = cat.79.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.79.o1

		add_popularity = {
			ideology = centrist
			popularity = 0.1
		}
		set_politics = {
			ruling_party = centrist
		}
		promote_character = {
			character = CAT_laura_borras
			ideology = christian_democrat
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_return_of_christian_democrats
		
	}


}

#terrorist attack in barcelona

country_event = {
	id = cat.80
	title = cat.80.t
	desc = cat.80.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.80.o1

		add_war_support = -0.1
		add_stability = -0.1
		hidden_effect = {
			country_event = {
				id = cat.81
				days = 3
			}
		}
		
	}


}
#syndicate investigation turns up empty
country_event = {
	id = cat.81
	title = cat.81.t
	desc = cat.81.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.81.o1

		
		hidden_effect = {
			country_event = {
				id = cat.82
				days = 2
			}
		}
		
	}


}

#protestors demand government change

country_event = {
	id = cat.82
	title = cat.82.t
	desc = cat.82.d
	picture = x

	is_triggered_only = yes

	
  
	#supress the protests
	option = {
		name = cat.82.o1
		ai_chance = {
			base = 40
		}
		hidden_effect = {
			country_event = {
				id = cat.83
				days = 2
			}
		}
		
	}

	#all they have is talk
	option = {
		name = cat.82.o2
		ai_chance = {
			base = 60
		}
		hidden_effect = {
			country_event = {
				id = cat.83
				days = 2
			}
		}
		
	}


}

#protests dramatically increase
country_event = {
	id = cat.83
	title = cat.83.t
	desc = cat.83.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.83.o1

		add_popularity = {
			ideology = centrist
			popularity = 0.1
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.84
				days = 6
			}
		}
		
	}


}

#new republic declared
country_event = {
	id = cat.84
	title = cat.84.t
	desc = cat.84.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.84.o1

		set_politics = {
			ruling_party = centrist
		}
		promote_character = {
			character = CAT_laura_borras
			ideology = christian_democrat
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_return_of_christian_democrats
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}	
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}
		
			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}
		
			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
		hidden_effect = {
			country_event = {
				id = cat.85
				days = 50
			}
		}
	}
}

#nazis revealed to be behind bombings, aressted centrist

country_event = {
	id = cat.85
	title = cat.85.t
	desc = cat.85.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.85.o1

		add_political_power = 100
		
	}


}

#second terrorist attack


country_event = {
	id = cat.86
	title = cat.86.t
	desc = cat.86.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.86.o1
		hidden_effect = {
			country_event = {
				id = cat.87
				days = 5
			}
		}
	}
}

#la aurora links terror attacks with nazis , nazis aressted
#la auroras public opinion soars, cnt fai attempts to take credit
country_event = {
	id = cat.87
	title = cat.87.t
	desc = cat.87.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.87.o1
		hidden_effect = {
			country_event = {
				id = cat.88
				days = 5
			}
		}
	}
}

#la aurora begs cnt fai to step down
country_event = {
	id = cat.88
	title = cat.88.t
	desc = cat.88.d
	picture = x

	is_triggered_only = yes

	
  #we have failed our comrades and the revolution
	option = {
		name = cat.88.o1
		hidden_effect = {
			country_event = {
				id = cat.89
				days = 5
			}
		}
	}

	#but the peoples revolution is near!
	option = {
		name = cat.88.o2
		hidden_effect = {
			country_event = {
				id = cat.90
				days = 5
			}
		}
	}
}



#cnt fai cedes power to la aurora

country_event = {
	id = cat.89
	title = cat.89.t
	desc = cat.89.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.89.o1
		set_politics = {
			ruling_party = revolutionary_socialist
		}
		promote_character = {
			character = CAT_lluis_rabell
			ideology = trotskyist
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_la_aurora_shines
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "Revolutionary Workers' Party  'La Aurora'"
			name = "La Aurora"
		}
		set_cosmetic_tag = cat_trots
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}	
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}
		
			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}
		
			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
	}
}

#la aurora militiants join democratic protests

country_event = {
	id = cat.90
	title = cat.90.t
	desc = cat.90.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.90.o1
		hidden_effect = {
			country_event = {
				id = cat.91
				days = 3
			}
		}
	}
}
#la aurora militans and democratic militians storm leadership offices
country_event = {
	id = cat.91
	title = cat.91.t
	desc = cat.91.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.91.o1
		hidden_effect = {
			country_event = {
				id = cat.92
				days = 1
			}
		}
	}
}
#la aurora wins leadership, sues for peace, democratic union demands elections

country_event = {
	id = cat.92
	title = cat.92.t
	desc = cat.92.d
	picture = x

	is_triggered_only = yes

	
  
	option = {
		name = cat.92.o1
		promote_character = {
			character = CAT_lluis_rabell
			ideology = trotskyist
		}
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "Revolutionary Workers' Party  'La Aurora'"
			name = "La Aurora"
		}
		set_cosmetic_tag = cat_trots
		hidden_effect = {
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 167
						}
						has_completed_focus = CAT_integrate_valencians
					}
				}
				uncomplete_national_focus = {
					focus = CAT_integrate_valencians
					uncomplete_children = yes
					refund_political_power = no
				}
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							owns_state = 177
						}
						has_completed_focus = CAT_mediterranean_spot
					}
				}
				uncomplete_national_focus = {
					focus = CAT_mediterranean_spot
					uncomplete_children = yes
					refund_political_power = no
				}
			}	
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				white_peace = CAT
			}
			if = {
				limit = { 
					POR = {
						exists = no
					}
				}
				release = POR
			}
		
			if = {
				limit = { 
					BSQ = {
						exists = no
					}
				}
				release = BSQ
			}
		
			if = {
				limit = { 
					GAL = {
						exists = no
					}
				}
				release = GAL
			}
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = SPN
						is_core_of = SPR
						is_core_of = ATA
						is_core_of = ALU
						is_core_of = CAI
					}
					NOT = {
						is_core_of = CAT
					}
				}
				transfer_state_to = SPN
				add_core_of = SPN
			}
			every_state = {
				limit = {
					is_claimed_by = CAT
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = BSQ
						is_core_of = POR
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = ATA
					}
					NOT = {
						state = 167
					}
					NOT = {
						state = 177
					}
				}
				remove_claim_by = CAT
			}
			every_country = {
				limit = {
					has_defensive_war_with = CAT
				}
				every_country = {
					limit = {
						is_in_faction_with = CAT
					}
					white_peace = PREV
				}
			}
			leave_faction = yes
		}
		hidden_effect = {
			country_event = {
				id = cat.93
				days = 7
			}
			
		}
	
	}
}

#la auroras agrees to elections

country_event = {
	id = cat.93
	title = cat.93.t
	desc = cat.93.d
	picture = x

	is_triggered_only = yes

	
  
	#la aurora
	option = {
		name = cat.93.o1
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_la_aurora_shines
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}

		
	}
	#democratic union
	option = {
		name = cat.93.o2
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_christdem
		clr_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_return_of_christian_democrats
		drop_cosmetic_tag = yes
		set_politics = {
			ruling_party = centrist
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.1
		}
	}
}

#hey player delcare war soon ok
country_event = {
	id = cat.94
	title = cat.94.t
	desc = cat.94.d
	picture = x

	is_triggered_only = yes
	trigger = {
		CAT = {
			NOT = {
				OR = {
				has_completed_focus = CAT_liberate_castillans
				has_completed_focus = CAT_free_portugal
				has_completed_focus = CAT_collectivize_paellas
				has_completed_focus = CAT_emancipate_the_basque
				}
			}
		}
	}
	

	option = {
		name = cat.94.o1
		add_political_power = -100
	}
}

#syndicates begin withdrawing support , cnt crumbling
country_event = {
	id = cat.95
	title = cat.95.t
	desc = cat.95.d
	picture = x

	is_triggered_only = yes
	

	option = {
		name = cat.95.o1
		hidden_effect = {
			country_event = {
				id = cat.96
				days = 7
			}
			
		}
	}
}

#renegade syndicates back la aurora

country_event = {
	id = cat.96
	title = cat.96.t
	desc = cat.96.d
	picture = x

	is_triggered_only = yes
	

	option = {
		name = cat.96.o1
		hidden_effect = {
			country_event = {
				id = cat.97
				days = 4
			}
			
		}
	}
}

#la aurora deposes cnt fai

country_event = {
	id = cat.97
	title = cat.97.t
	desc = cat.97.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat.97.o1
		set_politics = {
			ruling_party = revolutionary_socialist
		}
		promote_character = {
			character = CAT_lluis_rabell
			ideology = trotskyist
		}
		set_country_flag = cat_fall_of_anarchy
		set_country_flag = cat_la_auroras
		clr_country_flag = cat_nazis
		clr_country_flag = cat_christdem
		clr_country_flag = cnt_fai_irp
		clr_country_flag = cat_anarchists_took_over
		mark_focus_tree_layout_dirty = yes
		complete_national_focus = cat_fall_of_anarchy
		complete_national_focus = cat_la_aurora_shines
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = "Revolutionary Workers' Party 'La Aurora'"
			name = "La Aurora"
		}
		set_cosmetic_tag = cat_trots	
	}
}
#modsoc events


#party program for independence
country_event = {
	id = cat.98
	title = cat.98.t
	desc = cat.98.d
	picture = x

	is_triggered_only = yes
	

	option = {
		name = cat.98.o1			
	}
}

#party program for democracy

country_event = {
	id = cat.99
	title = cat.99.t
	desc = cat.99.d
	picture = x

	is_triggered_only = yes
	
	option = {
		name = cat.99.o1
	}
}

#meeting with carles riera modsoc
country_event = {
	id = cat.100
	title = cat.100.t
	desc = cat.100.d
	picture = x		
	is_triggered_only = yes	
	option = {
		name = cat.100.o1	
	}
}
#anti-unionist campgain
country_event = {
	id = cat.101
	title = cat.101.t
	desc = cat.101.d
	picture = x
	is_triggered_only = yes
	option = {
		name = cat.101.o1	
	}
}
#freedom fighter to law enfornment program
country_event = {
	id = cat.102
	title = cat.102.t
	desc = cat.102.d
	picture = x
	is_triggered_only = yes	
	option = {
		name = cat.102.o1	
	}
}
#club of few speech
country_event = {
	id = cat.103
	title = cat.103.t
	desc = cat.103.d
	picture = x

	is_triggered_only = yes	
	option = {
		name = cat.103.o1	
	}
}
#catalonia requests deeper ties to the eu
country_event = {
	id = cat.104
	title = cat.104.t
	desc = cat.104.d
	picture = x

	is_triggered_only = yes		
	option = {
		name = cat.104.o1
		ai_chance = {
			base = 100
		}
		from = {
			country_event = {
				id = cat.105
				days = 3
			}
		}		
	}
	option = {
		name = cat.104.o1
		from = {
			country_event = {
				id = cat.106
				days = 3
			}
		}			
	}
}
#EU accepts
country_event = {
	id = cat.105
	title = cat.105.t
	desc = cat.105.d
	picture = x
	is_triggered_only = yes	
	option = {
		name = cat.105.o1
		add_ideas = idea_eu_observer
	}
}
#eu rejects
country_event = {
	id = cat.106
	title = cat.106.t
	desc = cat.106.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.106.o1		
	}
}
#buisness owners protest taxations (cringe of them tbh)
country_event = {
	id = cat.107
	title = cat.107.t
	desc = cat.107.d
	picture = x
	
	is_triggered_only = yes
		
	
	option = {
		name = cat.107.o1
	}
}

country_event = { #PSUC Incorporates Ecosocialism into Party Charter
	id = cat.108
	title = cat.108.t
	desc = cat.108.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.108.o1
	}
}
#struggle fullfilled
country_event = {
	id = cat.109
	title = cat.109.t
	desc = cat.109.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.109.o1
	}
}
#unity democratic national bloc
country_event = {
	id = cat.110
	title = cat.110.t
	desc = cat.110.d
	picture = x
	is_triggered_only = yes
	option = {
		name = cat.110.o1	
	}
}
#communist hardliners grumbling
country_event = {
	id = cat.111
	title = cat.11.t
	desc = cat.111.d
	picture = x

	trigger = {
		tag = CAT
		is_puppet = no
		has_country_leader = {
			name = "Carles Puigdemont"
		}
		has_government = communist
		check_variable = {
			var = dissatisfaction_cat
			value = 3
			compare = equals 
		}
	}
	fire_only_once = yes
	
	option = {
		name = cat.111.o1	
	}
}
#hardliners being making their moves
country_event = {
	id = cat.112
	title = cat.112.t
	desc = cat.112.d
	picture = x
			
	trigger = {
		tag = CAT
		is_puppet = no
		has_government = communist
		has_country_leader = {
			name = "Carles Puigdemont"
		}
		check_variable = {
			var = dissatisfaction_cat
			value = 4
			compare = greater_than_or_equals
		}
	}
				
	fire_only_once = yes
			
	option = {
		name = cat.112.o1
		hidden_effect = {
			country_event = {
				id = cat.113
				days = 3
			}
		}	
	}
}
#Puigdemont overthrown
country_event = {
	id = cat.113
	title = cat.113.t
	desc = cat.113.d
	picture = x
			
	fire_only_once = yes
	is_triggered_only = yes
			
	option = {
		name = cat.113.o1
		set_party_name = { 
			ideology = communist
			long_name = CAT_communist_party_hardliner_long
			name = CAT_communist_party_hardliner
		}
		add_country_leader_role = {
			character = CAT_Joan_Josep_Nuet
			promote_leader = yes
			country_leader = {
				ideology = leninist
			}
		}	
	}
}
#co opt anarchists
country_event = {
	id = cat.114
	title = cat.114.t
	desc = cat.114.d
	picture = x
			
	fire_only_once = yes
	is_triggered_only = yes
			
	option = {
		name = cat.114.o1
		hidden_effect = {
			add_to_variable = {
				var = dissatisfaction_cat
				value = 1
			}
		}
	}
}
#controlled unions
country_event = {
	id = cat.115
	title = cat.115.t
	desc = cat.115.d
	picture = x
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = cat.115.o1	
	}
}
#the question of past foundations
country_event = {
	id = cat.116
	title = cat.116.t
	desc = cat.116.d
	picture = x
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = cat.116.o1
		hidden_effect = {
			add_to_variable = {
				var = dissatisfaction_cat
				value = 1
			}
		}	
	}
	option = {
		name = cat.116.o2	
	}
}
#the question of managment 	
country_event = {
	id = cat.117
	title = cat.117.t
	desc = cat.117.d
	picture = x
	fire_only_once = yes
	is_triggered_only = yes
			
	option = {
		name = cat.117.o1
		hidden_effect = {
			add_to_variable = {
				var = dissatisfaction_cat
				value = 1
			}
		}
	}

	option = {
		name = cat.117.o2
	}
}

#ministry of truth
country_event = {
	id = cat.118
	title = cat.118.t
	desc = cat.118.d
	picture = x
	fire_only_once = yes		
	is_triggered_only = yes
	option = {
		name = cat.118.o1
		hidden_effect = {
			add_to_variable = {
				var = dissatisfaction_cat
				value = 1
			}
		}	
	}
	option = {
		name = cat.118.o2	
	}
}

#elections to the confederal plenary assembly
country_event = {
	id = cat.119
	title = cat.119.t
	desc = cat.119.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.119.o1
		hidden_effect = {
			country_event = {
				id = cat.120
				days = 14
			}
		}
	}
}
#moderates and liberals elected to assembly
country_event = {
	id = cat.120
	title = cat.120.t
	desc = cat.120.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.120.o1
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = CAT_revsoc_idealist_anarchism_long
			name = CAT_revsoc_idealist_anarchism
		}
		set_party_name = {
			ideology = new_democrat
			long_name = CAT_newdem_anarchism_long
			name = CAT_newdem_anarchism
		}
		promote_character = {
			character = CAT_carlos_silva
			ideology = labourist
		}
		hidden_effect = {
			country_event = {
				id = cat.121
				days = 5
			}
		}
	}
}
#10th congress of the cnt
country_event = {
	id = cat.121
	title = cat.121.t
	desc = cat.121.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.121.o1
		hidden_effect = {
			country_event = {
				id = cat.122
				days = 4
			}
		}
	}
}
#plenary assemblies challenge rieras spokespersonship
country_event = {
	id = cat.122
	title = cat.122.t
	desc = cat.122.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.122.o1
		hidden_effect = {
			country_event = {
				id = cat.123
				days = 3
			}
		}
	}
}
#riera and the cnt announce election for spokesperson
country_event = {
	id = cat.123
	title = cat.123.t
	desc = cat.123.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.123.o1
		hidden_effect = {
			country_event = {
				id = cat.124
				days = 14
			}
		}
	}
}
#cnt spokesperson election
country_event = {
	id = cat.124
	title = cat.124.t
	desc = cat.124.d
	picture = x
	
	is_triggered_only = yes
		
	option = { #idealists
		name = cat.124.o1
		set_country_flag = cat_idealist_elected_cnt_spokesperson
		complete_national_focus = CAT_the_idealists
	}
	option = { #renovators
		name = cat.124.o2
		set_country_flag = cat_renovator_elected_cnt_spokesperson
		complete_national_focus = CAT_the_renovators
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = CAT_revsoc_renovator_anarchism_long
			name = CAT_revsoc_renovator_anarchism
		}
		promote_character = {
			character = CAT_jose_manuel_munoz_poliz
			ideology = syndicalism
		}
	}
	option = { #centralists
		name = cat.124.o3
		set_country_flag = cat_centralist_elected_cnt_spokesperson
		complete_national_focus = CAT_the_centralisers
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
			last_election = "1935.12.17"
			election_frequency = 48
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.20
		}
	}
}
#peoples tribunals
country_event = {
	id = cat.125
	title = cat.125.t
	desc = cat.125.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.125.o1
	}
}
#renovators divorce the fai
country_event = {
	id = cat.126
	title = cat.126.t
	desc = cat.126.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.126.o1
	}
}
#end of consensus democracy
country_event = {
	id = cat.127
	title = cat.127.t
	desc = cat.127.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.127.o1
	}
}
#counter revolutionaries marginalized
country_event = {
	id = cat.128
	title = cat.128.t
	desc = cat.128.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.128.o1
	}
}
#newdem anarchists save the church
country_event = {
	id = cat.129
	title = cat.129.t
	desc = cat.129.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.129.o1
	}
}
#strengthen the plenary assemblies
country_event = {
	id = cat.130
	title = cat.130.t
	desc = cat.130.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.130.o1
	}
}
#newdems divorce the fai
country_event = {
	id = cat.131
	title = cat.131.t
	desc = cat.131.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.131.o1
	}
}
#confederal police created
country_event = {
	id = cat.132
	title = cat.132.t
	desc = cat.132.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.132.o1
	}
}
#fai faces trial
country_event = {
	id = cat.133
	title = cat.133.t
	desc = cat.133.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.133.o1
	}
}
#puigdemont meets with the CNT-FAI
country_event = {
	id = cat.134
	title = cat.134.t
	desc = cat.134.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.134.o1
	}
}
#cnt-fai offices seized
country_event = {
	id = cat.135
	title = cat.135.t
	desc = cat.135.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.135.o1
	}
}
#national popular front with anarchists
country_event = {
	id = cat.136
	title = cat.136.t
	desc = cat.136.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.136.o1
	}
}
#national popular front without anarchists
country_event = {
	id = cat.137
	title = cat.137.t
	desc = cat.137.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.137.o1
	}
}
#national popular front adds the liberals
country_event = {
	id = cat.138
	title = cat.138.t
	desc = cat.138.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.138.o1
	}
}
#supervision not censorship
country_event = {
	id = cat.139
	title = cat.139.t
	desc = cat.139.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.139.o1
	}
}
#build upon past foundations
country_event = {
	id = cat.140
	title = cat.140.t
	desc = cat.140.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		trigger = {
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
		}
		name = cat.140.o1
		add_ideas = {
			idea_cat_mixed_economy
		}
		set_country_flag = cat_flag_mixed_economy
		add_to_variable = { 
			cat_hardliner_anger = 1 
		}
		custom_effect_tooltip = cat_this_will_anger_the_hardliners
	}
	option = {
		name = cat.140.o2
		add_ideas = {
			idea_cat_planned_economy
		}
	}
}
#hardliner coup
country_event = {
	id = cat.141
	title = cat.141.t
	desc = cat.141.d
	picture = x
	
	trigger = {
		has_country_leader = {
			name = "Carles Puigdemont"
			ruling_only = yes
		}
		check_variable = {
			var = cat_hardliner_anger
			value = 4
			compare = greater_than_or_equals
		}
	}
	mean_time_to_happen = {
		days = 30
	}
	
	fire_only_once = yes
		
	option = {
		name = cat.141.o1
		set_country_flag = cat_hardliners_in_power
		add_country_leader_role = {
			character = CAT_Joan_Josep_Nuet
			promote_leader = yes
			country_leader = {
				ideology = leninist
			}
		}
	}
}
#question of management
country_event = {
	id = cat.142
	title = cat.142.t
	desc = cat.142.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		trigger = {
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
		}
		name = cat.142.o1
		add_ideas = {
			idea_apc_workers_self_management
		}
		add_to_variable = { 
			cat_hardliner_anger = 1 
		}
		custom_effect_tooltip = cat_this_will_anger_the_hardliners
	}
	option = {
		name = cat.142.o2
		add_ideas = {
			idea_cat_technocratic_rule
		}
	}
}
#ministry of public safety
country_event = {
	id = cat.143
	title = cat.143.t
	desc = cat.143.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		trigger = {
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
		}
		name = cat.143.o1
		add_ideas = {
			idea_cat_softball_ministry_of_public_safety
		}
		add_to_variable = { 
			cat_hardliner_anger = 1 
		}
		custom_effect_tooltip = cat_this_will_anger_the_hardliners
	}
	option = {
		name = cat.143.o2
		add_ideas = {
			idea_cat_hardliner_ministry_of_public_safety
		}
	}
}
#establishment of cooperatives
country_event = {
	id = cat.144
	title = cat.144.t
	desc = cat.144.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.144.o1
	}
}
#sindic de greuges
country_event = {
	id = cat.145
	title = cat.145.t
	desc = cat.145.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.145.o1
	}
}
#SEAT
country_event = {
	id = cat.146
	title = cat.146.t
	desc = cat.146.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.146.o1
	}
}
#ruhr experts
country_event = {
	id = cat.147
	title = cat.147.t
	desc = cat.147.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.147.o1
	}
}
#comarcal people's councils
country_event = {
	id = cat.148
	title = cat.148.t
	desc = cat.148.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.148.o1
	}
}
#expunge francoist legacy
country_event = {
	id = cat.149
	title = cat.149.t
	desc = cat.149.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.149.o1
	}
}
#end partys guiding role
country_event = {
	id = cat.150
	title = cat.150.t
	desc = cat.150.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.150.o1
	}
}
#cooperate with unions no anarchists
country_event = {
	id = cat.151
	title = cat.151.t
	desc = cat.151.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.151.o1
	}
}
#cooperate with unions yes anarchists
country_event = {
	id = cat.152
	title = cat.152.t
	desc = cat.152.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.152.o1
	}
}
#spaniards move to Catalonia for leftist spain
country_event = {
	id = cat.153
	title = cat.153.t
	desc = cat.153.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.153.o1
	}
}
#spaniards move to Catalonia for rightist spain
country_event = {
	id = cat.154
	title = cat.154.t
	desc = cat.154.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.154.o1
	}
}
#catalonia rejoins spain
country_event = {
	id = cat.155
	title = cat.155.t
	desc = cat.155.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.155.o1
		IF = {
			limit = {
				tag = SPR
				NOT = {
					has_country_flag = spr_integrated_catalan_civil_guard
				}
			}
			add_field_marshal_role = {
				Character = SPR_pedro_garrido_general
				traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
				skill=4
				attack_skill=5
				defense_skill=4
				planning_skill=5
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = SPR_Angel_Gonzalo
				traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=3
			}
			add_naval_commander_role = {
				Character = SPR_J_Reina
				traits={ old_guard_navy gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=3
			}
			add_corps_commander_role = {
				Character = SPR_Jose_Luis_Tovar
				traits={ organizer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = SPR_Pedro_Pizarro
				traits={ trickster infantry_officer trait_reckless }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPR_Daniel_Baena
				traits={ trait_cautious brilliant_strategist armor_officer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = SPR_Pedro_Alfonso_Casado
				traits={ career_officer engineer_officer trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPR_Jordi_Verger
				traits={ organizer adaptable harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=3
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPR_Francisco_Barreiro
				traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=4
				logistics_skill=2
			}
			set_country_flag = spr_integrated_catalan_civil_guard
		}
		IF = {
			limit = {
				tag = SPN
				NOT = {
				has_country_flag = spr_integrated_catalan_civil_guard
				}
			}
			add_field_marshal_role = {
				Character = SPN_pedro_garrido_general
				traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
				skill=4
				attack_skill=5
				defense_skill=4
				planning_skill=5
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = SPN_Angel_Gonzalo
				traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=3
			}
			add_naval_commander_role = {
				Character = SPN_J_Reina
				traits={ old_guard_navy gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=3
			}
			add_corps_commander_role = {
				Character = SPN_Jose_Luis_Tovar
				traits={ organizer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = SPN_Pedro_Pizarro
				traits={ trickster infantry_officer trait_reckless }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPN_Daniel_Baena
				traits={ trait_cautious brilliant_strategist armor_officer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = SPN_Pedro_Alfonso_Casado
				traits={ career_officer engineer_officer trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPN_Jordi_Verger
				traits={ organizer adaptable harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=3
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = SPN_Francisco_Barreiro
				traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=4
				logistics_skill=2
			}
			set_country_flag = spr_integrated_catalan_civil_guard
		}
	}
}
#catalonia is gonna reunite spain
country_event = {
	id = cat.156
	title = cat.156.t
	desc = cat.156.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.156.o1
	}
}
#the 1976 constitution
country_event = {
	id = cat.157
	title = cat.157.t
	desc = cat.157.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.157.o1
	}
}
#restoration of the monarchy
country_event = {
	id = cat.158
	title = cat.158.t
	desc = {
		text = cat.158.d1
		trigger = {
			OR = {
				AND = {
					country_exists = SPR
					SPR = {
						NOT = {
							has_country_flag = spr_felipe_is_dead
						}
					}
				}
				AND = {
					country_exists = SPN
					SPN = {
						NOT = {
							has_country_flag = spr_felipe_is_dead
						}
					}
				}
			}
		}
	}
	desc = {
		text = cat.158.d2
		trigger = {
			OR = {
				AND = {
					country_exists = SPR
					SPR = {
						has_country_flag = spr_felipe_is_dead
					}
				}
				AND = {
					country_exists = SPN
					SPN = {
						has_country_flag = spr_felipe_is_dead
					}
				}
			}
		}
	}
	picture = x
	
	is_triggered_only = yes
		
	option = { #felipe
		name = cat.158.o1
		trigger = {
			NOT = {
				SPR = {
					has_country_flag = spr_felipe_is_dead
				}
			}
			NOT = {
				SPN = {
					has_country_flag = spr_felipe_is_dead
				}
			}
		}
		set_country_flag = cat_felipe_catalonia
		CAT_felipe_vi = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader={
					ideology=absolute_monarchist
					expire="1.1.1.1"
					id=-1
				}
			}
		}
		set_party_name = {
			ideology = monarchist
			long_name = "Bourbon-Anjou"
			name = "Bourbon-Anjou"
		}
	}
	option = { #enrique
		name = cat.158.o2
		set_country_flag = cat_carlist_catalonia
	}
}
#catalonia is at war with France, do we claim roussillon
country_event = {
	id = cat.159
	title = cat.159.t
	desc = cat.159.d
	picture = x
	
	trigger = {
		tag = CAT
		663 = {
			NOT = {
				is_claimed_by = CAT
			}
		}
		has_war_with = FRA
		surrender_progress < 0.05
	}
	
	fire_only_once = yes
		
	option = { #claim roussillon
		name = cat.159.o1
		ai_chance = {
			base = 75
		}
		663 = {
			add_claim_by = CAT
		}
		add_war_support = -0.05
	}
	option = { #don't claim roussillon
		name = cat.159.o2
		ai_chance = {
			base = 25
		}
	}
}
#federal state
country_event = {
	id = cat.160
	title = cat.160.t
	desc = cat.160.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.160.o1
	}
}
#unitary state
country_event = {
	id = cat.161
	title = cat.161.t
	desc = cat.161.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.161.o1
	}
}
#play the bugle
country_event = {
	id = cat.162
	title = cat.162.t
	desc = cat.162.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.162.o1
	}
}
#redemption through reconstruction
country_event = {
	id = cat.163
	title = cat.163.t
	desc = cat.163.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.163.o1
	}
}
#workers self management
country_event = {
	id = cat.164
	title = cat.164.t
	desc = cat.164.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.164.o1
	}
}
#abolished civil codes
country_event = {
	id = cat.165
	title = cat.165.t
	desc = cat.165.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.165.o1
	}
}
#anarchist demilitarization
country_event = {
	id = cat.166
	title = cat.166.t
	desc = cat.166.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.166.o1
	}
}
#absorb opposition syndicates
country_event = {
	id = cat.167
	title = cat.167.t
	desc = cat.167.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.167.o1
	}
}
#greater autonomy to local syndicates
country_event = {
	id = cat.168
	title = cat.168.t
	desc = cat.168.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.168.o1
	}
}
#interfederal unions
country_event = {
	id = cat.169
	title = cat.169.t
	desc = cat.169.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.169.o1
	}
}

country_event = { #Unified Socialist Party Establishes the Office of Honorary President
	id = cat.170
	title = cat.170.t
	desc = cat.170.d
	picture = x
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = cat.170.o1
		set_country_flag = psuc_honorary_president_flag
	}
}

country_event = { #Parliament Passes Motion Condemning Totalitarian Ideologies
	id = cat.171
	title = cat.171.t
	desc = cat.171.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.171.o1
	}
}

country_event = { #Paramilitaries Integrated into Army Command Structure
	id = cat.172
	title = cat.172.t
	desc = cat.172.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.172.o1 
	}
}

country_event = { #Business Leaders Question Puigdemont's Tax Policy
	id = cat.173
	title = cat.173.t
	desc = cat.173.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.173.o1
		add_popularity = {
			ideology = liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.03
		}
	}
}

country_event = { #Right to Education in Catalan Enshrined
	id = cat.174
	title = cat.174.t
	desc = cat.174.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.174.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
	}
}

country_event = { #Urban Redevelopment Begins Across Catalonia
	id = cat.175
	title = cat.175.t
	desc = cat.175.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.175.o1
	}
}

country_event = { #Unified Socialist Party Elects Puigdemont Honorary Lifetime President
	id = cat.176
	title = cat.176.t
	desc = cat.176.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		has_country_flag = psuc_honorary_president_flag
		NOT = {
			has_country_leader = {
				character = CAT_carles_puigdemont
				ruling_only = yes
			}
		}
	}
	
	option = {
		name = cat.176.o1
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
	}
}

country_event = { #Small Liberal Parties Join Democratic Convergence
	id = cat.177
	title = cat.177.t
	desc = cat.177.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.176.o1
	}
}

country_event = { #Artur Mas Meets with Joan Puigcercos
	id = cat.178
	title = cat.178.t
	desc = cat.178.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.178.o1
	}
}

country_event = { #Artur Mas Meets with Carrisoza Torres
	id = cat.179
	title = cat.179.t
	desc = cat.179.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.179.o1
	}
}

country_event = { #National Labour Board Established
	id = cat.180
	title = cat.180.t
	desc = cat.180.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.180.o1
		hidden_effect = {
			country_event = {
				id = cat.181
				days = 67
			}
		}
	}
}

country_event = { #CNT Splits Over Participation on the National Labour Board
	id = cat.181
	title = cat.181.t
	desc = cat.181.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.181.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.07
		}
	}
}

country_event = { #Labour Movement Divided over Minimum Wage
	id = cat.182
	title = cat.182.t
	desc = cat.182.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.182.o1
	}
}

country_event = { #Democratic Convergence Adds Anti-Totalitarianism to Party Charter
	id = cat.183
	title = cat.183.t
	desc = cat.183.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.183.o1
	}
}

country_event = { #New Company Law Passed by Government
	id = cat.184
	title = cat.184.t
	desc = cat.184.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.184.o1
	}
}

country_event = { #Agricultural Subsidies Reinvigorate Pyreneean Communities
	id = cat.185
	title = cat.185.t
	desc = cat.185.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.185.o1
	}
}

country_event = { #Labour Agitation in Working Hours Outlawed
	id = cat.186
	title = cat.186.t
	desc = cat.186.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.186.o1
		hidden_effect = {
			country_event = {
				id = cat.187
				days = 7
			}
		}
	}
}

country_event = { #CNT Calls for Strikes in Protest of New Labour Law
	id = cat.187
	title = cat.187.t
	desc = cat.187.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.187.o1
		add_ideas = idea_cat_cnt_on_strike
	}
}

country_event = { #Requirements for Lawful Strikes Increased
	id = cat.188
	title = cat.188.t
	desc = cat.188.d 
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.188.o1
		hidden_effect = {
			country_event = {
				id = cat.189
				days = 14
			}
		}
	}
}

country_event = { #CNT Strike Found Unlawful
	id = cat.189
	title = cat.189.t
	desc = cat.189.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.189.o1
		remove_ideas = idea_cat_cnt_on_strike
		add_timed_idea = {
			idea = idea_cat_cnt_wildcat_strikes
			days = 255
		}
	}
}

country_event = { #Protests Emerge in Val d'Aran over Independence
	id = cat.190
	title = cat.190.t
	desc = cat.190.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2011.2.1
		date < 2011.2.30
		always = no
	}
	
	option = {
		name = cat.190.o1 
		add_political_power = -25
		hidden_effect = {
			country_event = {
				id = cat.191
				days = 16
			}
		}
	}
}

country_event = { #Aranese Protesters Gather Petitions for Secession
	id = cat.191
	title = cat.191.t
	desc = cat.191.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Let's try not to offend anybody
		name = cat.191.o1
		trigger = {
			has_government = national_conservative
		}
		add_political_power = 5
		hidden_effect = {
			country_event = {
				id = cat.192
				days = 14
			}
		}
	}
	
	option = { #Go to Aran and meet the people
		name = cat.191.o2
		trigger = {
			OR = {
				has_government = national_conservative
				has_government = new_democrat
				has_government = revolutionary_socialist
			}
		}
		add_political_power = -15
		hidden_effect = {
			country_event = {
				id = cat.199
				days = 5
			}
		}
	}
	
	option = { #The borders of Catalonia are inviolable
		name = cat.191.o3
		trigger = {
			NOT = {
				has_government = national_conservative
			}
		}
		add_political_power = -15
		hidden_effect = {
			country_event = {
				id = cat.x
				days = 3
			}
		}
	}
}

country_event = { #Vielha e Mijaran City Council Urges Government to Acknowledge Petition
	id = cat.192
	title = cat.192.t
	desc = cat.192.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.192.o1
		add_political_power = -15
		add_popularity = {
			ideology = new_democrat
			popularity = 0.01
		}
		hidden_effect = {
			country_event = {
				id = cat.193
				days = 5
			}
		}
	}
}

country_event = { #Protesters Fill Centre of Vielha e Mijaran
	id = cat.193
	title = cat.193.t 
	desc = cat.193.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.193
		add_political_power = -30
		hidden_effect = {
			country_event = {
				id = cat.194
				days = 7
			}
		}
	}
}

country_event = { #Socialist Party of Catalonia Criticises Government Inaction
	id = cat.194
	title = cat.194.t
	desc = cat.194.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.194.o1
		add_stability = -0.03
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.195
				days = 5
			}
		}
	}
}

country_event = { #Pro-Spanish Voices Endorse Aranese Protests 
	id = cat.195
	title = cat.195.t
	desc = cat.195.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Side with the Unionists
		name = cat.195.o1
		hidden_effect = {
			country_event = {
				id = cat.196
				days = 4
			}
		}
	}
	
	option = { #Side with the Catalan Nationalists
		name = cat.195.o2
		hidden_effect = {
			country_event = {
				id = cat.197
				days = 4
			}
		}
	}
}

country_event = { #Catalan Nationalists Protest Against 'National Betrayal'
	id = cat.196
	title = cat.196.t
	desc = cat.196.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.196.o1
		add_political_power = -100
		add_popularity = {
			ideology = national_conservative
			popularity = -0.1
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.198
				days = 4
			}
		}
	}
}

country_event = { #Spanish Unionists Protest Against 'Democratic Betrayal'
	id = cat.197
	title = cat.197.t
	desc = cat.197.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.197
		add_political_power = -100
		add_popularity = {
			ideology = national_conservative
			popularity = -0.1
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.15
		}
		add_popularity = {
			ideology = fascist
			popularity = 0.02
		}
		hidden_effect = {
			country_event = {
				id = cat.198
				days = 4
			}
		}
	}
}

country_event = { #Parliament of Catalonia Passes Compromise on Autonomy
	id = cat.198
	title = cat.198.t
	desc = cat.198.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.198
		add_ideas = idea_cat_compromise_on_autonomy
		add_popularity = {
			ideology = national_conservative
			popularity = -0.05
		}
	}
}

country_event = { #Aranese Community Leaders Request Referendum on Affiliation
	id = cat.199
	title = cat.199.t
	desc = cat.199.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Syndicalize the Valley Instead
		name = cat.199.o1
		trigger = {
			has_government = revolutionary_socialist
		}
		hidden_effect = {
			country_event = {
				id = cat.200
				days = 9
			}
		}
	}
	
	option = { #Let's work on an alternative
		name = cat.199.o2
		hidden_effect = {
			country_event = {
				id = cat.210
				days = 7
			}
		}
	}
}

country_event = { #Public Meetings on Autonomy Held in Val d'Aran
	id = cat.200
	title = cat.200.t
	desc = cat.200.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Flood the Valley with Activists
		name = cat.200.o1
		hidden_effect = {
			country_event = {
				id = cat.201
				days = 14
			}
		}
	}
	
	option = { #Reach out to our local supporters
		name = cat.200.o2
		hidden_effect = {
			country_event = {
				id = cat.206
				days = 10
			}
		}
	}
}

country_event = { #Aranese Citizens Express Discontent with Sheer Numbers of CNT Activists
	id = cat.201
	title = cat.201.t 
	desc = cat.201.d
	picture = x 
	
	fire_only_once = yes 
	is_triggered_only = yes
	
	option = {
		name = cat.201.o1
		add_political_power = -15
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.202
				days = 7
			}
		}
	}
}

country_event = { #CNT Organizers Establish Federations in Aran 
	id = cat.202
	title = cat.202.t
	desc = cat.202.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.202.o1
		add_stability = 0.01
		hidden_effect = {
			country_event = {
				id = cat.203
				days = 5
			}
		}
	}
}

country_event = { #Aranese Federations Reaffirm Petition for Secession
	id = cat.203
	title = cat.203.t
	desc = cat.203.d
	picture = x
	
	fire_only_once = yes 
	is_triggered_only = yes
	
	option = {
		name = cat.203.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.204
				days = 8
			}
		}
	}
}

country_event = { #[ROOT.GetLeader] Meets with Aranese Federations
	id = cat.204
	title = cat.204.t
	desc = cat.204.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.204.o1
		add_political_power = 15
		set_country_flag = catalonia_aran_settled_down_anarchist
	}
}

country_event = { #Val d'Aran Settles Down
	id = cat.205
	title = cat.205.t
	desc = cat.205.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		has_country_flag = catalonia_aran_settled_down_anarchist
		has_completed_focus = CAT_liberation_comes_to_iberia
	}
	
	option = {
		name = cat.205.o1
		add_stability = 0.01
	}
}

country_event = { #Aranese Leftists Begin Federalising the Valley
	id = cat.206
	title = cat.206.t
	desc = cat.206.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.206.o1
		add_political_power = 15
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.207
				days = 4
			}
		}
	}
}

country_event = { #Unitad d'Aran Endorses Syndicalization
	id = cat.207
	title = cat.207.t
	desc = cat.207.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.207.o1
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.208
				days = 12
			}
		}
	}
}

country_event = { #Aranese Independence Referendum Scheduled in a Year
	id = cat.208
	title = cat.208.t
	desc = cat.208.d 
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.208.o1
		hidden_effect = {
			country_event = {
				id = cat.209
				days = 365
			}
		}
	}
}

country_event = { #Aranese Federations Vote to Remain in the Free Confederation
	id = cat.209
	title = cat.209.t
	desc = cat.209.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.209.o1
		add_political_power = 25
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
	}
}

country_event = { #[ROOT.GetLeader] Offers to Restore Local Autonomy
	id = cat.210
	title = cat.210.t
	desc = cat.210.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Go further and promise them language autonomy as well
		name = cat.210.o1
		trigger = {
			has_government = new_democrat
		}
		hidden_effect = {
			country_event = {
				id = cat.211
				days = 7
			}
		}
	}
	
	option = { #Normal response
		name = Cat.210.o2 
		hidden_effect = {
			country_event = {
				id = cat.214
				days = 21
			}
		}
	}
}

country_event = { #Aranese Community Agrees to ERC Offer
	id = cat.211
	title = cat.211.t
	desc = cat.211.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.211.o1
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.212
				days = 4
			}
		}
	}
}

country_event = { #Protests in Val d'Aran Die Down
	id = cat.212
	title = cat.212.t
	desc = cat.212.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.212.o1
		add_political_power = 25
		set_country_flag = catalonia_aran_calmed_down_newdem
	}
}

country_event = { #ERC Wins Overwhelmingly in Aranese Council Elections
	id = cat.213
	title = cat.213.t
	desc = cat.213.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2015.5.1
		date < 2011.5.30
		has_country_flag = catalonia_aran_calmed_down_newdem
		has_country_leader = {
			name = "Oriol Junqueras"
			ruling_only = yes
		}
	}
	
	option = {
		name = cat.213
		add_political_power = 10
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
	}
}

country_event = { #Autonomy Bill Passes Through Parliament
	id = cat.214
	title = cat.214.t
	desc = cat.214.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.214.o1
		add_political_power = -15
		add_stability = 0.03
		hidden_effect = {
			country_event = {
				id = cat.215
				days = 10
			}
		}
	}
}

country_event = { #Val d'Aran Passes Revised Tax Code
	id = cat.215
	title = cat.215.t
	desc = cat.215.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.215.o1
		hidden_effect = {
			country_event = {
				id = cat.216
				days = 500
			}
		}
	}
}

country_event = { #Aranese Economy Recovers
	id = cat.216
	title = cat.216.t
	desc = cat.216.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.216.o1
		add_popularity = {
			ideology = ROOT
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.217
				days = 54
			}
		}
	}
}

country_event = { #Spanish Unionists Ponder Applying for Autonomy for 'Tabàrnia'
	id = cat.217
	title = cat.217.t
	desc = cat.217.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.217.o1
		add_political_power = -1
		add_popularity = {
			ideology = national_conservative
			popularity = 0.03
		}
	}
}

country_event = { #Catalan Government Refutes Aranese Protest Movement
	id = cat.218
	title = cat.218.t
	desc = cat.218.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.218.o1
		add_political_power = 5
		add_popularity = {
			ideology = ROOT
			popularity = 0.05
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.219
				days = 4
			}
		}
	}
}

country_event = { #Aranese Farmers Block the Vielha Tunnel
	id = cat.219
	title = cat.219.t
	desc = cat.219.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = { #Attempt to Negotiate with the Farmers
		name = cat.219.o1
		add_political_power = -50
		hidden_effect = {
			country_event = {
				id = cat.220
				days = 5
			}
		}
	}
	
	option = { #Disperse them with force
		name = cat.219.o1
		add_political_power = -50
		hidden_effect = {
			country_event = {
				id = cat.227
				days = 3
			}
		}
	}
}

country_event = { #Farmers Demand Val d'Aran be Returned to Spain
	id = cat.220
	title = cat.220.t
	desc = cat.220.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #That is unacceptable, we must find a different solution
		name = cat.220.o1 
		add_popularity = {
			ideology = nationalist
			popularity = 0.01
		}
		hidden_effect = {
			country_event = {
				id = cat.221
				days = 6
			}
		}
	}
}

country_event = { #Executive Council Debates the Aranese Situation
	id = cat.221
	title = cat.221.t
	desc = cat.221.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Subsidise the Valley Until Tourists Return
		name = cat.221.o1
		hidden_effect = {
			country_event = {
				id = cat.222
				days = 6
			}
		}
	}
	
	option = { #Detach the Aranese Economy from Castille
		name = cat.221.o2
		hidden_effect = {
			country_event = {
				id = cat.224
				days = 10
			}
		}
	}
}

country_event = { #Subsidy Proposal Meets Tepidly Positive Reactions
	id = cat.222
	title = cat.222.t
	desc = cat.222.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.222.o1
		add_political_power = -15
		add_popularity = {
			ideology = ROOT
			popularity = 0.01
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.01
		}
		hidden_effect = {
			country_event = {
				id = cat.223
				days = 7
			}
		}
	}
}

country_event = { #Aranese Community Leaders Accept Subsidy Proposal
	id = cat.223
	title = cat.223.t
	desc = cat.223.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.223.o1
		add_timed_idea = {
			idea = idea_cat_aranese_subsidies
			days = 1095
		}
	}
}

country_event = { #Lumber Mills Reopen in Val d'Aran
	id = cat.224
	title = cat.224.t
	desc = cat.224.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.224.o1
		add_political_power = -15
		hidden_effect = {
			country_event = {
				id = cat.225
				days = 42
			}
		}
	}
}

country_event = { #Aranese Economy Shows Signs of Recovery
	id = cat.225
	title = cat.225.t
	desc = cat.225.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.225.o1
		add_ideas = idea_cat_aranese_economic_reconstruction
		hidden_effect = {
			country_event = {
				id = cat.226
				days = 800
			}
		}
	}
}

country_event = { #Aran Notícies Reports Broad Support for [ROOT.GetNameDef]
	id = cat.226
	title = cat.226.t
	desc = cat.226.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.226.o1
		remove_ideas = idea_cat_aranese_economic_reconstruction
	}
}

country_event = { #Catalan Army Clashes with Farmers in Vielha Tunnel
	id = cat.227
	title = cat.227.t
	desc = cat.227.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.227.o1
		add_stability = -0.03
		hidden_effect = {
			country_event = {
				id = cat.228
				days = 2
			}
		}
	}
}

country_event = { #Mayor of Vielha e Mijaran Denounces the Government
	id = cat.228
	title = cat.228.t
	desc = cat.228.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.228.o1
		add_popularity = {
			ideology = ROOT
			popularity = -0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.229
				days = 5
			}
		}
	}
}

country_event = { #Aranese Protesters Call Upon Spanish Intervention
	id = cat.229
	title = cat.229.t
	desc = cat.229.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.229.o1
		add_war_support = 0.03
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.230
				days = 2
			}
		}
	}
}

country_event = { #Martial Law declared in Val d'Aran
	id = cat.230
	title = cat.230.t
	desc = cat.230.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.230.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.07
		}
		if = {
			limit = {
				country_exists = SPR
			}
			reverse_add_opinion_modifier = {
				target = SPR
				modifier = drama
			}
		}
		if = {
			limit = {
				country_exists = SPN
			}
			reverse_add_opinion_modifier = {
				target = SPN
				modifier = drama
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.231
				days = 547
			}
		}
	}
}

country_event = { #Civilian Rule over Val d'Aran Restored
	id = cat.231
	title = cat.231.t
	desc = cat.231.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.231.o1
		add_stability = 0.03
	}
}

country_event = { #Voting on a National Anthem
	id = cat.232
	title = cat.232.t
	desc = {
        trigger = {
            has_government = revolutionary_socialist
        }
        text = cat.232.d1
    }
    desc = {
        trigger = {
            NOT = { has_government = revolutionary_socialist }
        }
        text = cat.232.d2
    }
	picture = catalonia_national_anthem_choice
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2010.11.1
		date < 2010.11.30
		NOT = {
			has_government = nationalist
		}
	}
	
	option = { #Els Segadors
		name = cat.232.o1
		trigger = {
            NOT = { has_government = revolutionary_socialist }
        }
		add_political_power = 10
		add_popularity = {
			ideology = liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = communist
			popularity = 0.03
		}
	}
	
	option = { #Cant de la Senyera
		name = cat.232.o2
		trigger = {
            NOT = { has_government = revolutionary_socialist }
        }
		add_war_support = 0.02
		add_popularity = {
			ideology = national_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.03
		}
		add_popularity = {
			ideology = nationalist
			popularity = -0.03
		}
	}
	
	option = { #Hijos del Pueblo
		name = cat.232.o3
		trigger = {
            has_government = revolutionary_socialist
        }
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
	}
	
	option = { #A Las Barricadas
		name = cat.232.o4
		trigger = {
            has_government = revolutionary_socialist
        }
		add_war_support = 0.05
		add_popularity = {
			ideology = communist
			popularity = -0.03
		}
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		add_popularity = {
			ideology = centrist 
			popularity = -0.03
		}
		add_popularity = {
			ideology = national_conservative
			popularity = -0.03
		}
	}
}

country_event = { #Citizens' Party Disagrees over Future Direction of the Party
	id = cat.233
	title = cat.233.t
	desc = cat.233.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2011.3.1
		date < 2011.3.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = national_conservative
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Sentiments favour a more hardline course and a closer alliance with the People's Party
		name = cat.233.o1
		CAT_Matias_Alonso_Ruiz = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = reactionary
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative 
			popularity = 0.01
		}
		add_popularity = {
			ideology = nationalist 
			popularity = 0.02
		}
	}
	
	option = { #The future of the Citizens' Party lies in the business community
		name = cat.233.o2 
		CAT_Jose_Maria_Espejo_Saavedra_Conesa = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = fiscal_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative 
			popularity = 0.02
		}
		add_popularity = {
			ideology = centrist 
			popularity = 0.02
		}
	}
	
	option = { #Greater Efforts need to be made to reach out to the Independents 
		name = cat.233.o3
		CAT_Jose_Domingo_Domingo = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = european_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative 
			popularity = 0.04
		}
	}
}

country_event = { #Infighting Spreads Through Democratic Convergence
	id = cat.234
	title = cat.234.t
	desc = cat.234.d 
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2011.8.1
		date < 2011.8.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = liberal
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #The party must stay true to its nationalist roots
		name = cat.234.o1
		CAT_Jordi_Turull = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = left_libertarian
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.04
		}
	}
	
	option = { #A new, more progressive direction is needed 
		name = cat.234.o2
		CAT_Marta_Pascal = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = social_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.02
		}
	}
}

country_event = { #Joan Puigcercos Ousted as Leader of the ERC
	id = cat.235
	title = cat.235.t
	desc = cat.235.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2012.5.1
		date < 2012.5.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = new_democrat
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = {
		name = cat.235.o1
		add_popularity = {
			ideology = new_democrat
			popularity = -0.04
		}
		CAT_Oriol_Junqueras = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
	}
}

country_event = { #Carles Puigdemont Calls for New Leadership of the PSUC
	id = cat.236
	title = cat.236.t
	desc = { #Valencia is owned
		text = cat.236.d1
		trigger = {
			controls_state = 167
		}
	}
	desc = { #Valencia is not owned
		text = cat.236.d2
		trigger = {
			NOT = {
				controls_state = 167
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2014.3.1
		date < 2014.3.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = moderate_socialist
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Jordi Sanchez, the Heir Apparent, is selected
		name = cat.236.o1
		CAT_Jordi_Sanchez = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = progressive
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_political_power = 10
	}
	
	option = { #Antoni Comin Strikes from the Left
		name = cat.236.o2
		CAT_Antoni_Comin = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = democratic_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = communist
			popularity = 0.02
		}
	}
	
	option = { #The Valencian Left Asserts Itself
		name = cat.236.o3
		trigger = {
			controls_state = 167
		}
		CAT_Enric_Morera_i_Catala = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = progressive
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
		set_country_flag = catalonia_psuc_renamed_flag
		set_party_name = {
			ideology = moderate_socialist
			long_name = CAT_psuc_modsoc_valencia_long
			name = CAT_psuc_modsoc_valencia
		}
	}
	
	option = { #The Ecosocialist Current Triumphs
		name = cat.236.o4
		trigger = {
			controls_state = 167
		}
		CAT_Monica_Oltra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = eco_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.04
		}
	}
}

country_event = { #The 2014 General Election
	id = cat.237
	title = cat.237.t
	desc = cat.237.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2014.12.1
		date < 2014.12.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_country_flag = cat_the_civil_guard_seized_power
				AND = {
					is_puppet = yes
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = national_bolshevik
						has_government = monarchist
						has_government = nationalist
						has_government = fascist
					}
				}
			}
		}
		always = no
	}
	
	option = { #The PSUC
		name = cat.237.o1
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.25
		}
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #The ERC
		name = cat.237.o2
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.25
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Democratic Convergence
		name = cat.237.o3
		set_politics = {
			ruling_party = liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.25
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Citizens of Catalonia
		name = cat.237.o4
		set_politics = {
			ruling_party = national_conservative
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.25
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_libs
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_nats
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				NOT = {
					AND = {
						has_country_flag = CAT_dealt_with_libs
						has_country_flag = CAT_dealt_with_nats
					}
				}
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.03
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.02
			}
		}
		#Placeholder for ministers
	}
}

country_event = { #Murmors in the Right Wing of Democratic Convergence
	id = cat.238
	title = cat.238.t
	desc = { 
		text = cat.238.d1
		trigger = {
			has_government = liberal
		}
	}
	desc = { 
		text = cat.238.d2
		trigger = {
			NOT = {
				has_government = liberal
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2016.3.1
		has_country_flag = cat_elections_were_held
		NOT = {
			has_idea = idea_cat_francoist_law_enforcement
			OR = {
				has_country_flag = cat_the_civil_guard_seized_power
				AND = {
					is_puppet = yes
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = national_bolshevik
						has_government = monarchist
						has_government = nationalist
						has_government = fascist
					}
				}
			}
		}
		always = no
	}
	
	option = {
		name = cat.238.o1
		trigger = {
			NOT = {
				has_government = liberal
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.239
				days = 41
			}
		}
	}
	
	option = { #What sort of compromise can keep Torras on board? 
		name = cat.238.o2
		trigger = {
			has_government = liberal
		}
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.240
				days = 7
			}
		}
	}
	
	option = { #He's going too far, expel him before he causes anymore trouble
		name = cat.238.o3
		trigger = {
			has_government = liberal
		}
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.243
				days = 14
			}
		}
	}
}

country_event = { #Party of Catalan Democracy Formed
	id = cat.239
	title = cat.239.t
	desc = cat.239.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.239.o1
		CAT_Quim_Torra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = national_liberal
					expire="1.1.1.1"
				}
			}
		}
		set_party_name = {
			ideology = nationalist
			long_name = CAT_catalan_democrats_long
			name = CAT_catalan_democrats
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.15
		}
		set_country_flag = catalonia_democratic_convergence_split_flag
	}
}

country_event = { #Quim Torra Demands Support for Monolingual Policies
	id = cat.240
	title = cat.240.t
	desc = cat.240.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #We must concede for the sake of party unity
		name = cat.240.o1
		if = {
			limit = {
				has_idea = idea_cat_catalan_multicultiralism
			}
			swap_ideas = {
				remove_idea = idea_cat_catalan_multicultiralism
				add_idea = idea_cat_monolingual_policies
			}
		}
		if = {
			limit = {
				has_idea = idea_cat_language_revival
			}
			swap_ideas = {
				remove_idea = idea_cat_language_revival
				add_idea = idea_cat_monolingual_policies
			}
		}
		if = {
			limit = {
				has_idea = idea_cat_official_billingualism
			}
			swap_ideas = {
				remove_idea = idea_cat_official_billingualism
				add_idea = idea_cat_monolingual_policies
			}
		}
		if = {
			limit = {
				has_idea = idea_cat_official_billingualism_two
			}
			swap_ideas = {
				remove_idea = idea_cat_official_billingualism_two
				add_idea = idea_cat_monolingual_policies
			}
		}
		else_if = {
			add_ideas = idea_cat_monolingual_policies
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.241
				days = 7
			}
		}
	}
	
	option = { #Torra's gone mad, we cannot possibly accept that.
		name = cat.240.o2
		add_stability = 0.03
		hidden_effect = {
			country_event = {
				id = cat.242
				days = 10
			}
		}
	}
}

country_event = { #Protests Erupt in Coastal Catalonia against New Language Policies
	id = cat.241
	title = cat.241.t
	desc = cat.241.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.241.o1 
		add_popularity = {
			ideology = national_conservative
			popularity = 0.1
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
	}
}

country_event = { #Nationalist Stalwarts Walk out of the Government
	id = cat.242
	title = cat.242.t
	desc = cat.242.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.242.o1
		add_political_power = -100
		CAT_Quim_Torra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = national_liberal
					expire="1.1.1.1"
				}
			}
		}
		set_party_name = {
			ideology = nationalist
			long_name = CAT_catalan_democrats_long
			name = CAT_catalan_democrats
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.2
		}
		set_country_flag = catalonia_democratic_convergence_split_flag
	}
}

country_event = { #Nationalist Split Contained
	id = cat.243
	title = cat.243.t
	desc = cat.243.d 
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.243.o1
		CAT_Quim_Torra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = national_liberal
					expire="1.1.1.1"
				}
			}
		}
		set_party_name = {
			ideology = nationalist
			long_name = CAT_catalan_democrats_long
			name = CAT_catalan_democrats
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.1
		}
		set_country_flag = catalonia_democratic_convergence_split_flag
	}
}

country_event = { #Citizens Party Embraces Right-Wing Turn
	id = cat.244
	title = cat.244.t
	desc = { #Valencia is owned
		text = cat.244.d1
		trigger = {
			controls_state = 167
		}
	}
	desc = { #Valencia is not owned
		text = cat.244.d2
		trigger = {
			NOT = {
				controls_state = 167
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2015.7.1
		date < 2015.7.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = national_conservative
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #The Rightwards Turn succeeds
		name = cat.244.o1
		CAT_Jordi_Canas_Perez = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = reactionary
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = fascist
			popularity = 0.01
		}
	}
	
	option = { #The Rightwards turn is rejected
		name = cat.244.o1
		trigger = {
			controls_state = 167
		}
		CAT_Carolina_Punset = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = european_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.02
		}
		add_popularity = {
			ideology = nationalist
			popularity = -0.02
		}
	}
}

country_event = { #Leadership Pickings in Democratic Convergence
	id = cat.245
	title = cat.245.t 
	desc = { #Balearics are owned
		text = cat.245.d1
		trigger = {
			controls_state = 177
		}
	}
	desc = { #Balearics are not owned
		text = cat.245.d2
		trigger = {
			NOT = {
				controls_state = 177
			}
		}
	}
	picture = x
	
	fire_only_once = yes 
	trigger = {
		tag = CAT
		date > 2015.1.1
		date < 2015.1.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = liberal
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { 
		name = cat.245.o1
		CAT_Angels_Chacon = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = social_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.02
		}
	}
	
	option = {
		name = cat.245.o2
		trigger = {
			controls_state = 852
		}
		CAT_Xavier_Espot_Zamora = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = left_libertarian
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.04
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
	}
	
	option = {
		name = cat.245.o3
		trigger = {
			controls_state = 177
		}
		CAT_Jaume_Font_Barcelo = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = left_libertarian
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.02
		}
	}
}

country_event = { #New Left Faction Rises in the PSUC
	id = cat.246
	title = cat.246.t
	desc = cat.246.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2017.2.1
		date < 2017.2.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = moderate_socialist
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #The Old Left Holds On
		name = cat.246.o1
		CAT_Elisenda_Alamany = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = democratic_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = communist
			popularity = 0.02
		}
	}
	
	option = { #The New Left Succeeds
		name = cat.246.o2
		CAT_Marta_Ribas_Frias = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = eco_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.02
		}
	}
}

country_event = { #Oriol Junqueras Comes Under Fire in the ERC
	id = cat.247
	title = cat.247.t
	desc = { #Valencia are owned
		text = cat.247.d1
		trigger = {
			controls_state = 167
		}
	}
	desc = { #Valencia are not owned
		text = cat.247.d2
		trigger = {
			NOT = {
				controls_state = 167
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2018.5.1
		date < 2018.5.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = new_democrat
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #A more conciliatory line is needed
		name = cat.247.o1
		CAT_Pere_Aragones = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.02
		}
	}
	
	option = { #Junqueras Neglected to Develop the proper economic policies
		name = cat.247.o2
		CAT_Elisenda_Paluzie = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = labour_revisionist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
	}
	
	option = { #Junqueras failed to branch out to the other parts of Catalonia
		name = cat.247.o2
		trigger = {
			controls_state = 167
		}
		CAT_Augusti_Cerda_i_Argent = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.02
		}
	}
}

country_event = { #The 2018 General Election
	id = cat.248
	title = cat.248.t
	desc = { #PDC broke off
		text = cat.248.d1
		trigger = {
			has_country_flag = catalonia_democratic_convergence_split_flag
		}
	}
	desc = { #PDC didn't break off
		text = cat.248.d2
		trigger = {
			NOT = {
				has_country_flag = catalonia_democratic_convergence_split_flag
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2018.12.1
		date < 2018.12.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_country_flag = cat_the_civil_guard_seized_power
				AND = {
					is_puppet = yes
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = national_bolshevik
						has_government = monarchist
						has_government = nationalist
						has_government = fascist
					}
				}
			}
		}
		always = no
	}
	
	option = { #The PSUC
		name = cat.248.o1
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.25
		}
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #The ERC
		name = cat.248.o2
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.25
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Democratic Convergence
		name = cat.248.o3
		set_politics = {
			ruling_party = liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.25
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Citizens of Catalonia
		name = cat.248.o4
		set_politics = {
			ruling_party = national_conservative
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.25
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_libs
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_nats
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				NOT = {
					AND = {
						has_country_flag = CAT_dealt_with_libs
						has_country_flag = CAT_dealt_with_nats
					}
				}
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.03
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.02
			}
		}
		#Placeholder for ministers
	}
	
	option = { #Party of Catalan Democracy
		name = cat.248.o5
		trigger = {
			has_country_flag = catalonia_democratic_convergence_split_flag
		}
		set_politics = {
			ruling_party = nationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.25
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		#Placeholder for ministers
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalan_republic_nationalist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalan_republic_nationalist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalan_republic_nationalist_cosmetic
			}
		}
	}
}
	
country_event = { #Catalan Democrat Split Tears Further Divisions in Democratic Convergence
	id = cat.249
	title = cat.249.t
	desc = cat.249.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2019.7.1
		date < 2019.7.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = liberal
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Liberalism needs to reconnect with its intellectual roots
		name = cat.249.o1
		CAT_Maria_Dolors_Feliu_i_Torrent = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = left_libertarian
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.02
		}
	}
	
	option = { #The party got too myopic, and needs to connect with its Catalanist roots
		name = cat.249.o1
		CAT_Oriol_Pujol = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = social_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.04
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.01
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.01
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.01
		}
	}
}

country_event = { #Catalan Democrats Oust Quim Torras over Personal Disputes
	id = cat.250
	title = cat.250.t
	desc = cat.250.d 
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2020.3.1
		date < 2020.3.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = nationalist
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Torras' personality may have been too crass but his line was correct 
		name = cat.250.o1
		CAT_Miriam_Nogueras = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = national_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.04
		}
	}
	
	option = { #A new, culturally oriented line is needed
		name = cat.250.o2
		CAT_Jordi_Cuixart = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = national_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
	}
}

country_event = { #ERC Struggles to Fill Gap left by Oriol Junqueras
	id = cat.251
	title = cat.251.t
	desc = cat.251.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2020.10.1
		date < 2020.10.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = new_democrat
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Stronger ties are needed with the nationalist movement
		name = cat.251.o1
		CAT_Marta_Vilalta = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.01
		}
	}
	
	option = { #Stronger ties are needed with liberal democratic forces
		name = cat.251.o2
		CAT_Roger_Torrent = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.02
		}
	}
}

country_event = { #The Future of the PSUC Hotly Debated
	id = cat.252
	title = cat.252.t
	desc = cat.252.d
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2022.4.1
		date < 2022.4.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = moderate_socialist
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #The party needs to return to the Puigdemontist orthodoxy
		name = cat.252.o1
		CAT_Araceli_Esquerra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = progressive
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = communist
			popularity = 0.02
		}
	}
	
	option = { #A decisive left turn is needed
		name = cat.252.o2
		CAT_Ernest_Urtasun = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = eco_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.02
		}
	}
}

country_event = { #Rising Star Makes Play for Leadership of Citizens' Party
	id = cat.253
	title = cat.253.t 
	desc = { #Valencia is owned
		text = cat.253.d1
		trigger = {
			controls_state = 167
		}
	}
	desc = { #Valencia is not owned
		text = cat.253.d2
		trigger = {
			NOT = {
				controls_state = 167
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2023.4.1
		date < 2023.4.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_government = national_conservative
				is_puppet = yes
			}
		}
		always = no
	}
	
	option = { #Inés Arrimadas García manages to claim her throne
		name = cat.253.o1
		CAT_Ines_Arrimadas_Garcia = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = fiscal_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.06
		}
	}
	
	option = { #García is too radical, we need a more unifying figure
		name = cat.253.o2
		CAT_Joan_Garcia_Gonzales = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = fiscal_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.03
		}
	}
	
	option = { #Actually, we ought to shore up our Valencian base
		name = cat.253.o3
		trigger = {
			controls_state = 167
		}
		CAT_Fernando_Giner_Grima = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = fiscal_conservative
					expire="1.1.1.1"
				}
			}
		}
		add_political_power = -20
		add_popularity = {
			ideology = national_conservative
			popularity = 0.05
		}
	}
}

country_event = { #The 2022 General Election
	id = cat.254
	title = cat.254.t
	desc = { #PDC broke off
		text = cat.254.d1
		trigger = {
			has_country_flag = catalonia_democratic_convergence_split_flag
		}
	}
	desc = { #PDC didn't break off
		text = cat.254.d2
		trigger = {
			NOT = {
				has_country_flag = catalonia_democratic_convergence_split_flag
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	trigger = {
		tag = CAT
		date > 2022.12.1
		date < 2022.12.30
		has_country_flag = cat_elections_were_held
		NOT = {
			OR = {
				has_country_flag = cat_the_civil_guard_seized_power
				AND = {
					is_puppet = yes
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = national_bolshevik
						has_government = monarchist
						has_government = nationalist
						has_government = fascist
					}
				}
			}
		}
		always = no
	}
	
	option = { #The PSUC
		name = cat.254.o1
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.25
		}
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #The ERC
		name = cat.254.o2
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.25
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Democratic Convergence
		name = cat.254.o3
		set_politics = {
			ruling_party = liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.25
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.05
		}
		#Placeholder for ministers
	}
	
	option = { #Citizens of Catalonia
		name = cat.254.o4
		set_politics = {
			ruling_party = national_conservative
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.25
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_libs
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_country_flag = CAT_dealt_with_nats
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				NOT = {
					AND = {
						has_country_flag = CAT_dealt_with_libs
						has_country_flag = CAT_dealt_with_nats
					}
				}
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.03
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.02
			}
		}
		#Placeholder for ministers
	}
	
	option = { #Party of Catalan Democracy
		name = cat.254.o5
		trigger = {
			has_country_flag = catalonia_democratic_convergence_split_flag
		}
		set_politics = {
			ruling_party = nationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.25
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		#Placeholder for ministers
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalan_republic_nationalist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalan_republic_nationalist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalan_republic_nationalist_cosmetic
			}
		}
	}
}

country_event = { #Christian Groups Form the Democrats of Catalonia Party
	id = cat.255
	title = cat.255.t
	desc = cat.255.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.255.o1
		CAT_Antoni_Castella = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = christian_democracy
					expire="1.1.1.1"
				}
			}
		}
		set_party_name = {
			ideology = national_conservative
			long_name = CAT_christian_democrats_long
			name = CAT_christian_democrats
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.15
		}
	}
}

country_event = { #Moderate Left Reconsolidates
	id = cat.256
	title = cat.256.t 
	desc = cat.256.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.256.o1
		CAT_Ada_Colau = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = democratic_socialist
					expire="1.1.1.1"
				}
			}
		}
		set_party_name = {
			ideology = moderate_socialist
			long_name = CAT_united_for_catalonia_long
			name = CAT_united_for_catalonia
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.15
		}
	}
}

country_event = { #First Post-Anarchist Elections Held
	id = cat.257
	title = cat.257.t
	desc = cat.257.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Laura Borras Holds On
		name = cat.257.o1
		add_popularity = {
			ideology = centrist
			popularity = 0.10
		}
	}
	
	option = { #The country turns to the right
		name = cat.257.o2
		add_popularity = {
			ideology = national_conservative
			popularity = 0.15
		}
		set_politics = {
			ruling_party = national_conservative
			elections_allowed = no
		}
		#Placeholder for ministers
	}
	
	option = { #The Catalan people still hold appetite for Leftism, despite everything
		name = cat.257.o3
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.15
		}
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
		}
		#Placeholder for ministers
	}
}

country_event = { #First Presidential Elections in [CAT.GetNameDef]
	id = cat.258
	title = cat.258.t
	desc = { #Met with Artur Mas
		text = cat.258.d1
		trigger = {
			has_completed_focus = CAT_meet_autur_mas
		}
	}
	desc = { #Didn't meet with Artur Mas
		text = cat.258.d2
		trigger = {
			NOT = {
				has_completed_focus = CAT_meet_autur_mas
			}
		}
	}
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Carles Puigdemont Gets Affirmed for Another Term
		name = cat.258.o1
		add_popularity = {
			ideology = communist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.259
				days = 1461
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
		}
		if = {
			limit = {
				is_in_faction_with = SOV
				SOV = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CUB
				CUB = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = CUB
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = CUB
				value = 200
			}
		}
	}
	
	option = { #Oriol Junqueras, for a moderate revolution
		name = cat.258.o2
		CAT_Oriol_Junqueras = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.10
		}
		set_politics = {
			ruling_party = new_democrat
			elections_allowed = no
		}
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
		}
		if = {
			limit = {
				is_in_faction_with = SOV
				SOV = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CUB
				CUB = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = CUB
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = CUB
				value = 200
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.259
				days = 1461
			}
		}
	}
	
	option = { #Carme Fordacell, for a more democratic socialism
		name = cat.258.o3
		CAT_Carme_Forcadell = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = peoples_socialist_democracy
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
		}
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
		}
		if = {
			limit = {
				is_in_faction_with = SOV
				SOV = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CUB
				CUB = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = CUB
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = CUB
				value = 200
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.259
				days = 1461
			}
		}
	}
	
	option = { #Antoni Lucchetti, for socialist renewal
		name = cat.258.o4
		CAT_Antoni_Lucchetti = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = marxist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = communist
			popularity = 0.10
		}
		#Placeholder for ministers
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
		}
		if = {
			limit = {
				is_in_faction_with = SOV
				SOV = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CUB
				CUB = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = CUB
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = CUB
				value = 200
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.259
				days = 1461
			}
		}
	}
	
	option = { #Anna Erra, for a liberal turn
		name = cat.258.o5
		trigger = {
			has_completed_focus = CAT_meet_autur_mas
		}
		CAT_Anna_Erra = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = social_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.10
		}
		set_politics = {
			ruling_party = liberal
			elections_allowed = no
		}
		hidden_effect = {
			if = {
				limit = {
					has_completed_focus = CAT_unitary_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
			else_if = {
				limit = {
					has_completed_focus = CAT_federal_state
				}
				set_cosmetic_tag = catalonia_democratic_communist_federal_cosmetic
			}
			else = {
				set_cosmetic_tag = catalonia_democratic_communist_cosmetic
			}
		}
		if = {
			limit = {
				is_in_faction_with = SOV
				SOV = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CUB
				CUB = {
					is_faction_leader = yes
				}
			}
			add_ai_strategy = {
				type = alliance
				id = CUB
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = CUB
				value = 200
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.259
				days = 1461
			}
		}
	}
}

country_event = { #Second Presidential Elections in [CAT.GetNameDef]
	id = cat.259
	title = cat.259.t
	desc = { #Carles Puigdemont is the sitting president
		text = cat.259.d1
		trigger = {
			has_country_leader = {
				character = CAT_carles_puigdemont
				ruling_only = yes
			}
		}
	}
	desc = { #Carles Puigdemont is not the sitting president
		text = cat.259.d2
		trigger = {
			NOT = {
				has_country_leader = {
					character = CAT_carles_puigdemont
					ruling_only = yes
				}
			}
		}
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #The incumbant is reelected
		name = cat.259.o1 
		trigger = {
			NOT = {
				has_country_leader = {
					character = CAT_carles_puigdemont
					ruling_only = yes
				}
			}
		}
		add_popularity = {
			ideology = ROOT
			popularity = 0.10
		}
	}
	
	option = { #Andreu Mayayo, to continue the moderately socialist course
		name = cat.259.o2
		CAT_Andreu_Mayayo = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = neocommunist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = communist
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = communist
				}
			}
			set_politics = {
				ruling_party = communist
				elections_allowed = no
			}
		}
	}
	
	option = { #Adelina Escandell Grases, to restore Socialist orthodoxy
		name = cat.259.o3
		trigger = {
			NOT = {
				has_country_leader = {
					character = CAT_Antoni_Lucchetti
					ruling_only = yes
				}
			}
		}
		CAT_Adelina_Escandell_Grases = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = leninist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = communist
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = communist
				}
			}
			set_politics = {
				ruling_party = communist
				elections_allowed = no
			}
		}
	}
	
	option = { #Dolors Sabater, for a freer socialist system
		name = cat.259.o4
		trigger = {
			has_completed_focus = CAT_coopt_anarchists
		}
		CAT_Dolors_Sabater = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = libertarian_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = revolutionary_socialist
				}
			}
			set_politics = {
				ruling_party = revolutionary_socialist
				elections_allowed = no
			}
		}
		set_party_name = {
			ideology = revolutionary_socialist
			long_name = CAT_dolors_sabater_party_long
			name = CAT_dolors_sabater_party
		}
	}
	
	option = { #Jessica Albiach, for an inclusive socialism
		name = cat.259.o5
		trigger = {
			NOT = {
				has_country_leader = {
					character = CAT_Carme_Forcadell
					ruling_only = yes
				}
			}
		}
		CAT_Jessica_Albiach = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = democratic_socialist
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = moderate_socialist
				}
			}
			set_politics = {
				ruling_party = moderate_socialist
				elections_allowed = no
			}
		}
	}
	
	option = { #Gabriel Rufian, for a generational change
		name = cat.259.o6
		trigger = {
			NOT = {
				has_country_leader = {
					character = CAT_Oriol_Junqueras
					ruling_only = yes
				}
			}
		}
		CAT_Gabriel_Rufian = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = new_democrat_ideology
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = new_democrat
				}
			}
			set_politics = {
				ruling_party = new_democrat
				elections_allowed = no
			}
		}
	}
	
	option = { #Santiago Vilanova i Tané, for a green transition
		name = cat.259.o7
		trigger = {
			AND = {
				NOT = {
					has_country_leader = {
						character = CAT_Anna_Erra
						ruling_only = yes
					}
				}
				has_completed_focus = CAT_meet_autur_mas
			}
		}
		CAT_Santiago_Vilanova_i_Tane = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = green_liberal
					expire="1.1.1.1"
				}
			}
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.10
		}
		if = {
			limit = {
				NOT ={
					has_government = liberal
				}
			}
			set_politics = {
				ruling_party = liberal
				elections_allowed = no
			}
		}
	}
}

country_event = { #Liberal Parties Struggle to Assert Themselves inside Federation Structures
	id = cat.260
	title = cat.260.t
	desc = cat.260.d
	picture = catalonia_libs_in_federations
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.260.o1
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		add_popularity = {
			ideology = centrist
			popularity = -0.03
		}
		add_timed_idea = {
			idea = idea_cat_cnt_federations_dominate
			days = 150
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Complaints about CNT Behaviour Pile Up
	id = cat.261
	title = cat.261.t
	desc = cat.261.d 
	picture = catalonia_cnt_misbehaviour
	
	fire_only_once = yes 
	trigger = {
		has_war_with = SPR
		tag = CAT
		NOT = {
			has_country_flag = catalonia_coup_begins_flag
		}
		date > 2010.9.1
		date < 2010.9.30
	}
	
	option = { #Regulate the Relationship between Army and Militias
		name = cat.261.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		hidden_effect = {
			country_event = {
				id = cat.262
				days = 7
			}
		}
	}
	
	option = { #We cannot afford to ruin relations with the anarchists at this junction
		name = cat.261.o2
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.263
				days = 14
			}
		}
	}
	
	option = { #Bring the CNT Militias Under Government Control
		name = cat.261.o3
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.264
				days = 4
			}
		}
	}
}

country_event = { #CNT Elects Representative for High Command
	id = cat.262
	title = cat.262.t
	desc = cat.262.d
	picture = catalonia_cnt_fidel
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.262.o1
		add_political_power = 25
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.05
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Legal System Challenged by Suits Against the CNT
	id = cat.263
	title = cat.263.t
	desc = cat.263.d
	picture = catalonia_better_call_saul
	
	fire_only_once = yes 
	is_triggered_only = yes
	
	option = {
		name = cat.263.o1
		add_political_power = -50
		add_popularity = {
			ideology = ROOT
			popularity = -0.05
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.05
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #CNT Militias Resist Military Integration
	id = cat.264
	title = cat.264.t
	desc = cat.264.d
	picture = catalonia_cnt_venganza
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.264.o1
		add_political_power = -55
		add_timed_idea = {
			idea = idea_cat_militias_reject_integration
			days = 250
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Provisional Parliament Formed by National Popular Front and Convergence & Union
	id = cat.265
	title = cat.265.t
	desc = cat.265.d 
	picture = catalonia_constitutional_assembly
	
	fire_only_once = yes
	trigger = {
		has_war = no
		tag = CAT
		check_variable = {
			var = catalonia_unity_variable
			value = 4
			compare = greater_than_or_equals
		}
		NOT = {
			or = {
				has_country_flag = catalonia_coup_begins_flag
			}
		}
		NOT = {
			has_country_flag = cat_debug
		}
	}
	
	option = { #High Unity
		name = cat.265.o1
		trigger = {
			check_variable = {
				var = catalonia_unity_variable
				value = 7
				compare = greater_than_or_equals
			}
		}
		add_stability = 0.05
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.05
		}
		every_country = {
			limit = {
				has_country_flag = cat_send_volunteers_to_catalonia
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = CAT
				value = -200
			}
		}
		retire_character = CAT_Isidre_Molas_general
		set_country_flag = catalonia_independence_war_over
		set_country_flag = catalonia_ended_with_high_unity
		hidden_effect = {
			country_event = {
				id = cat.267
				days = 7
			}
		}
	}
	
	option = { #Middling Unity
		name = cat.265.o2
		trigger = {
			check_variable = {
				var = catalonia_unity_variable
				value = 6
				compare = less_than_or_equals
			}
		}
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		every_country = {
			limit = {
				has_country_flag = cat_send_volunteers_to_catalonia
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = CAT
				value = -200
			}
		}
		retire_character = CAT_Isidre_Molas_general
		set_country_flag = catalonia_independence_war_over
		hidden_effect = {
			country_event = {
				id = cat.272
				days = 10
			}
		}
	}
}

country_event = { #Josep Lluís Trapero Álvarez Presents Report of Pervasive Anarchist Dual-Power
	id = cat.266
	title = cat.266.t
	desc = cat.266.d 
	picture = catalonia_anarchism_is_a_threat
	
	fire_only_once = yes
	trigger = {
		has_war = no
		tag = CAT
		check_variable = {
			var = catalonia_unity_variable
			value = 3
			compare = less_than_or_equals
		}
		NOT = {
			or = {
				has_country_flag = catalonia_coup_begins_flag
			}
		}
		NOT = {
			has_country_flag = cat_debug
		}
	}
	
	option = { 
		name = cat.266.o1
		set_country_flag = catalonia_independence_war_over
		retire_character = CAT_Jean_Marc_Rouillan
		add_stability = -0.05
		every_country = {
			limit = {
				has_country_flag = cat_send_volunteers_to_catalonia
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = CAT
				value = -200
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.283
				days = 7
			}
		}
	}
}

country_event = { #Fissures Emerge Within the Unified Socialist Party
	id = cat.267
	title = cat.267.t
	desc = cat.267.d
	picture = catalonia_psuc_disunified
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.267.o1
		add_political_power = -25
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.268
				days = 25
			}
		}
	}
}

country_event = { #Provisional Parliament of Catalonia Enacts Democratic Constitution
	id = cat.268
	title = cat.268.t
	desc = cat.268.d.
	picture = catalonia_democratic_constitution_passes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.268.o1
		add_political_power = 100
		retire_character = CAT_Eric_Bellot_des_Minieres
		retire_character = CAT_Bernard_Janvier
		retire_character = CAT_Jean_Marc_Rouillan
		hidden_effect = {
			country_event = {
				id = cat.269
				days = 7
			}
		}
	}
}

country_event = { #Pro-Spanish Figures Form the Citizens of Catalonia Party
	id = cat.269
	title = cat.269.t
	desc = cat.269.d
	picture = catalonia_cs_founded
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.269.o1
		add_popularity = {
			ideology = national_conservative
			popularity = 0.12
		}
		set_party_name = {
			ideology = national_conservative
			long_name = CAT_citizens_party_long
			name = CAT_citizens_party
		}
		hidden_effect = {
			add_popularity = {
				ideology = nationalist
				popularity = 0.03
			}
		}
		if = {
			limit = {
				has_country_flag = catalonia_ended_with_high_unity
			}
			hidden_effect = {
				country_event = {
					id = cat.270
					days = 5
				}
			}
		}
	}
}

country_event = { #Pro-European Hardliners Expelled from the Unified Socialist Party
	id = cat.270
	title = cat.270.t
	desc = cat.270.d
	picture = catalonia_ultroids_expelled_from_psuc
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.270.o1
		add_political_power = -25
		add_country_leader_role = {
			character = CAT_carles_puigdemont_modsoc
			promote_leader = yes
			country_leader = {
				ideology = progressive
			}
		}
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
			long_name = CAT_modsoc_party_reformists_long
			name = CAT_modsoc_party_reformists
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.20
		}
		set_party_name = { 
			ideology = communist
			long_name = CAT_communist_party_hardliner_long
			name = CAT_communist_party_hardliner
		}
		add_country_leader_role = {
			character = CAT_Joan_Josep_Nuet
			promote_leader = yes
			country_leader = {
				ideology = leninist
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.271
				days = 6
			}
		}
	}
}

country_event = { #Provisional Parliament of Catalonia Dissolves Itself in Anticipation of the Upcoming Elections
	id = cat.271
	title = cat.271.t
	desc = cat.271.d
	picture = catalonia_provisional_parliament_dissolves
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.271.o1
		add_stability = 0.03
		hidden_effect = {
			country_event = {
				id = cat.32
				days = 21
			}
		}
	}
}

country_event = { #Disagreement over Social and Economic Rights Rock Constitutional Debate
	id = cat.272
	title = cat.272.t
	desc = cat.272.d
	picture = catalonia_what_kind_of_rights
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.272.o1 
		add_political_power = -25
		hidden_effect = {
			country_event = {
				id = cat.273
				days = 7
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.269
				days = 10
			}
		}
	}
}

country_event = { #Joan Josep Nuet Calls for 'Socialist Unity' Within the National Popular Front
	id = cat.273
	title = cat.273.t
	desc = cat.273.d 
	picture = catalonia_elusive_left_unity
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #We must loudly oppose the CiU's Proposals
		name = cat.273.o1
		add_popularity = {
			ideology = liberal 
			popularity = -0.03
		}
		add_popularity = {
			ideology = centrist
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.274
				days = 4
			}
		}
	}
	
	option = { #We must secure the loyalty of our allies
		name = cat.273.o2
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.278
				days = 4
			}
		}
	}
}

country_event = { #ERC and PSC Voice Concern over Government Overreach in FPN Proposal
	id = cat.274
	title = cat.274.t
	desc = cat.274.d
	picture = catalonia_left_unity_fails
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.274.o1 
		add_political_power = -30
		add_popularity = {
			ideology = communist
			popularity = -0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.275
				days = 7
			}
		}
	}
}

country_event = { #Puigdemont Rejects Hardliner Demands to Coerce Provisional Parliament
	id = cat.275
	title = cat.275.t
	desc = cat.275.d
	picture = catalonia_puigdemont_rejects_demands
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.275.o1
		add_political_power = -20
		add_stability = 0.03
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.276
				days = 4
			}
		}
	}
}

country_event = { #Left Wing of PSUC Split Off in Protest of Puigdemont's Leadership
	id = cat.276
	title = cat.276.t
	desc = cat.276.d
	picture = catalonia_ultroid_gamer_rage
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.276.o1 
		add_political_power = -50
		add_country_leader_role = {
			character = CAT_carles_puigdemont_modsoc
			promote_leader = yes
			country_leader = {
				ideology = progressive
			}
		}
		set_politics = {
			ruling_party = moderate_socialist
			elections_allowed = no
			long_name = CAT_modsoc_party_reformists_long
			name = CAT_modsoc_party_reformists
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.10
		}
		set_party_name = { 
			ideology = communist
			long_name = CAT_communist_party_hardliner_long
			name = CAT_communist_party_hardliner
		}
		add_country_leader_role = {
			character = CAT_Joan_Josep_Nuet
			promote_leader = yes
			country_leader = {
				ideology = leninist
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.277
				days = 25
			}
		}
	}
}

country_event = { #Provisional Parliament Passes Liberal Constitution
	id = cat.277
	title = cat.277.t
	desc = cat.277.d
	picture = catalonia_democratic_constitution_passes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.277.o1
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.271
				days = 7
			}
		}
	}
}

country_event = { #ERC and PSC Affirm Approval for FPN Proposal
	id = cat.278
	title = cat.278.t
	desc = cat.278.d
	picture = catalonia_left_unity_survives
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = cat.278.o1
		add_political_power = 10
		add_popularity = {
			ideology = communist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = {
				id = cat.279
				days = 10
			}
		}
	}
}

country_event = { #Governing Role of National Popular Front Enshrined in Constitution
	id = cat.279
	title = cat.279.t
	desc = cat.279.d
	picture = catalonia_eternal_npf_rule
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.279.o1
		add_stability = 0.05
		add_popularity = {
			ideology = communist
			popularity = 0.03
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.03
		}
		retire_character = CAT_Eric_Bellot_des_Minieres
		retire_character = CAT_Bernard_Janvier
		retire_character = CAT_Jean_Marc_Rouillan
		hidden_effect = {
			country_event = {
				id = cat.281
				days = 4
			}
		}
	}
}

country_event = { #Convergence and Union Protests Being Outvoted
	id = cat.280
	title = cat.280.t
	desc = cat.280.d
	picture = x
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.280.o1
		add_political_power = -50
		add_popularity = {
			ideology = liberal
			popularity = -0.03
		}
		add_popularity = {
			ideology = new_democrat
			popularity = -0.03
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.281
				days = 11
			}
		}
	}
}

country_event = { #National Popular Front Prepares Joint List for 2010 Election
	id = cat.281
	title = cat.281.t
	desc = cat.281.d
	picture = catalonia_joint_electoral_list
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.281.o1
		add_political_power = 50
		hidden_effect = {
			country_event = {
				id = cat.282
				days = 21
			}
		}
	}
}

country_event = { #2010 Election Returns Overwhelming Victory to the National Popular Front
	id = cat.282
	title = cat.282.t 
	desc = cat.282.d
	picture = catalonia_legitimate_electoral_victory
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.282.o1
		complete_national_focus = CAT_european_revolution
		load_focus_tree = generic_focus
		set_country_flag = cat_puigdemont_retained_power
	}
}

country_event = { #National Popular Front Passes Decree Affirming Public Property Rights
	id = cat.283
	title = cat.283.t
	desc = cat.283.d
	picture = catalonia_property_rights_affirmed
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.283.o1
		add_political_power = 50
		add_stability = -0.05
		hidden_effect = {
			country_event = {
				id = cat.284
				days = 5
			}
		}
	}
}

country_event = { #CNT Repudiates Decree on Public Property
	id = cat.284
	title = cat.284.t
	desc = cat.284.d
	picture = catalonia_anarchist_conflict_is_coming
	
	fire_only_once = yes 
	is_triggered_only = yes
	
	option = { #If they will not see reason, we will make them
		name = cat.284.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.285
				days = 6
			}
		}
	}
	
	option = { #Send in negotiators, we must find a diplomatic solution
		name = cat.284.o2
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.291
				days = 10
			}
		}
	}
}

country_event = { #CNT Responds with a Call for Mobilization of their Own
	id = cat.285
	title = cat.285.t
	desc = cat.285.d
	picture = catalonia_cnt_mobilization
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.285.o1
		add_stability = -0.15
		add_ideas = idea_cat_catalan_civil_war
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.286
				days = 7
			}
		}
	}
}

country_event = { #Loyalist Forces Repelled from Lleida
	id = cat.286
	title = cat.286.t
	desc = cat.286.d
	picture = catalonia_retreat_from_lleida
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.286.o1 
		add_political_power = -75
		add_manpower = -534
		911 = {
			set_demilitarized_zone = yes
			damage_building = {
				type = infrastructure
				damage = 1
			}
			damage_building = {
				type = industrial_complex
				damage = 2
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.287
				days = 5
			}
		}
	}
}

country_event = { #CNT Forces Launch Assault on Barcelona
	id = cat.287
	title = cat.287.t
	desc = cat.287.d
	picture = catalonia_battle_for_barca
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.287.o1
		add_manpower = -2254
		165 = {
			damage_building = {
				type = infrastructure
				damage = 1
			}
			damage_building = {
				type = industrial_complex
				damage = 1
			}
			damage_building = {
				type = arms_factory
				damage = 2
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.288
				days = 9
			}
		}
	}
}

country_event = { #CNT Assault Broken by Pincer Movement
	id = cat.288
	title = cat.288.t
	desc = cat.288.d
	picture = catalonia_cnt_assault_broken
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.288.o1
		add_manpower = -3584
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.15
		}
		165 = {
			damage_building = {
				type = infrastructure
				damage = 2
			}
			damage_building = {
				type = industrial_complex
				damage = 4
			}
			damage_building = {
				type = arms_factory
				damage = 1
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.289
				days = 12
			}
		}
	}
}

country_event = { #Loyalist Forces Reclaim Lleida
	id = cat.289
	title = cat.289.t
	desc = cat.289.d
	picture = catalonia_lleida_retaken
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.289.o1
		add_manpower = -1543
		remove_ideas = idea_cat_catalan_civil_war
		911 = {
			set_demilitarized_zone = no
			damage_building = {
				type = infrastructure
				damage = 2
			}
			damage_building = {
				type = arms_factory
				damage = 1
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.290
				days = 7
			}
		}
	}
}

country_event = { #National Popular Front Forms 'Transitional' Government
	id = cat.290
	title = cat.290.t
	desc = cat.290.d
	picture = catalonia_exhausted_victory
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.290.o1
		add_popularity = {
			ideology = communist
			popularity = 0.1
		}
		add_stability = 0.07
		complete_national_focus = CAT_european_revolution
		load_focus_tree = generic_focus
		set_country_flag = cat_puigdemont_retained_power
		retire_character = CAT_Eric_Bellot_des_Minieres
		retire_character = CAT_Bernard_Janvier
	}
}

country_event = { #CNT Calls for Revolutionary General Strike
	id = cat.291
	title = cat.291.t
	desc = cat.291.d
	picture = catalonia_revolutionary_general_strike_picture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.291.o1
		add_stability = -0.10
		add_ideas = idea_cat_general_strike
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.292
				days = 10
			}
		}
	}
}

country_event = { #Municipal Government Overwhelmed by General Strike
	id = cat.292
	title = cat.292.t
	desc = cat.292.d
	picture = catalonia_cnt_are_winning
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.292.o1
		add_political_power = -75
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		hidden_effect = {
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.293
				days = 5
			}
		}
	}
}

country_event = { #CNT Militias Seize Government Buildings in Barcelona
	id = cat.293
	title = cat.293.t
	desc = cat.293.d
	picture = catalonia_helicopter_escape
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.293.o1
		add_popularity = {
			ideology = communist
			popularity = -0.1
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = liberal
			popularity = -0.05
		}
		165 = {
			damage_building = {
				type = infrastructure
				damage = 1
			}
			damage_building = {
				type = industrial_complex
				damage = 2
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.294
				days = 7
			}
		}
	}
}

country_event = { #Loyalist Forces Defeated in Girona
	id = cat.294
	title = cat.294.t
	desc = cat.294.d
	picture = catalonia_anarchist_victory
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.294.o1
		set_country_flag = cat_cnt_fai_coup
		complete_national_focus = CAT_long_live_cnt_fai
		set_politics = {
			ruling_party = revolutionary_socialist
			elections_allowed = no
		}
		add_ideas = idea_cat_red_black_terror
		add_ideas = idea_cat_uncoordinated_redistribution
		add_ideas = idea_cat_anti_clerical_riots
		set_country_flag = cat_anarchists_took_over
		load_focus_tree = generic_focus
		hidden_effect = {
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Teresa_Laplana
			retire_character = CAT_Rafael_Comas
			retire_character = CAT_Miguel_Angel_Villarroya
			add_naval_commander_role = {
				Character = CAT_Nunia_Cadenes
				traits={ seawolf }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=1
				coordination_skill=1
			}
			add_field_marshal_role = {
				Character = CAT_carles_riera
				traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Ricard_de_Vargas_Golarons
				traits={ trickster trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Guillem_Agullo
				traits={ media_personality }
				skill=1
				attack_skill=1
				defense_skill=2
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Alfonso_Alvarez
				traits={ trickster war_hero politically_connected }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Fidel_Manrique
				traits={ trickster media_personality politically_connected old_guard }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Martin_Paradelo
				traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Ignacio_Fernandez_Toxo
				traits={ politically_connected war_hero brilliant_strategist }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Stuart_Christie
				traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Tomas_Sayes_i_Jato
				traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
		}
		hidden_effect = {
			country_event = {
				id = cat.295
				days = 4
			}
		}
	}
}

country_event = { #Carles Riera Declares the Abolition of the State
	id = cat.295
	title = cat.295.t
	desc = cat.295.d
	picture = catalonia_no_more_state
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.295.o1
		add_political_power = 100
		remove_ideas = idea_cat_general_strike
	}
}

country_event = { #CNT Initiates Campaign of Industrial Socialisation
	id = cat.296
	title = cat.296.t
	desc = cat.296.d
	picture = catalonia_unity_breaks_down
	
	fire_only_once = yes
	trigger = {
		has_war = yes
		tag = CAT
		check_variable = {
			var = catalonia_unity_variable
			value = 4
			compare = less_than_or_equals
		}
		NOT = {
			has_country_flag = catalonia_independence_war_over
		}
		NOT = {
			has_country_flag = cat_debug
		}
	}
	
	option = {
		name = cat.296.o1
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.1
		}
	}
}

country_event = { #CNT Militias Rotate Off the Frontlines in Increasing Numbers
	id = cat.297
	title = cat.297.t
	desc = cat.297.d
	picture = catalonia_impending_anarchist_coup
	
	fire_only_once = yes
	trigger = {
		has_war = yes
		tag = CAT
		check_variable = {
			var = catalonia_unity_variable
			value = 2
			compare = less_than_or_equals
		}
		NOT = {
			has_country_flag = catalonia_independence_war_over
		}
		NOT = {
			has_country_flag = cat_debug
		}
	}
	
	option = {
		name = cat.297.o1
		add_manpower = -2500
		set_country_flag = catalonia_coup_begins_flag
		hidden_effect = {
			country_event = {
				id = cat.298
				days = 10
			}
		}
	}
}

country_event = { #CNT Militias Attempt to Socialise Military Factories
	id = cat.298
	title = cat.298.t
	desc = cat.298.d
	picture = catalonia_anarchocoup_happens_now
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #Reassert the power of the bureaucracy
		name = cat.298.o1
		add_political_power = -75
		hidden_effect = {
			country_event = {
				id = cat.299
				days = 5
			}
		}
	}
	
	option = { #We know where this is going, ready the army
		name = cat.298.o2
		hidden_effect = {
			country_event = {
				id = cat.303
				days = 3
			}
		}
	}
}

country_event = { #Workers' Militias Ward off Economic Officials
	id = cat.299
	title = cat.299.t
	desc = cat.299.d
	picture = catalonia_anarchocoup_will_win_now
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.299.o1
		add_political_power = -50
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.300
				days = 5
			}
		}
	}
}

country_event = { #CNT Marches on Barcelona
	id = cat.300
	title = cat.300.t 
	desc = cat.300.d #tanks have been stolen
	picture = catalonia_stolen_tanks
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.300.o1
		add_political_power = -150
		add_stability = -0.2
		add_ideas = idea_cat_catalan_civil_war
		hidden_effect = {
			country_event = {
				id = cat.301
				days = 4
			}
		}
	}
}

country_event = { #Last Loyalist Holdouts in Barcelona Surrender
	id = cat.301
	title = cat.301.t
	desc = cat.301.d
	picture = catalonia_fighting_off_anarkkkiddies
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.301.o1
		add_manpower = -1236
		add_popularity = {
			ideology = communist
			popularity = -0.15
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = new_democrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.302
				days = 6
			}
		}
	}
}

country_event = { #CNT Takes up Mantle as 'Masters of Catalonia'
	id = cat.302
	title = cat.302.t
	desc = cat.302.d
	picture = catalonia_masters_of_catalonia_and_the_universe
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.302.o1
		set_country_flag = cat_cnt_fai_coup
		complete_national_focus = CAT_long_live_cnt_fai
		set_politics = {
			ruling_party = revolutionary_socialist
			elections_allowed = no
		}
		add_ideas = idea_cat_red_black_terror
		add_ideas = idea_cat_uncoordinated_redistribution
		add_ideas = idea_cat_anti_clerical_riots
		remove_ideas = idea_cat_catalan_civil_war
		set_country_flag = cat_anarchists_took_over
		custom_effect_tooltip = catalonia_unity_gone_tooltip
		load_focus_tree = generic_focus
		every_country = {
			limit = {
				has_country_flag = cat_send_volunteers_to_catalonia
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = CAT
				value = -200
			}
		}
		hidden_effect = {
			remove_ideas = idea_cat_very_high_unity
			remove_ideas = idea_cat_high_unity
			remove_ideas = idea_cat_middling_unity
			remove_ideas = idea_cat_low_unity
		}
		hidden_effect = {
			retire_character = CAT_Jordi_Ros_Sola
			retire_character = CAT_Joan_Herrera_i_Torres
			retire_character = CAT_Miquel_Sellares
			retire_character = CAT_Josep_Lluis_Trapero_Alvarez
			retire_character = CAT_Amadeu_Recasens
			retire_character = CAT_David_Budria
			retire_character = CAT_Germinal_Tomas_Abueso
			retire_character = CAT_Txevi_Buigas_Llobet
			retire_character = CAT_Pablo_Hasel
			retire_character = CAT_Teresa_Laplana
			retire_character = CAT_Rafael_Comas
			retire_character = CAT_Miguel_Angel_Villarroya
			add_naval_commander_role = {
				Character = CAT_Nunia_Cadenes
				traits={ seawolf }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=1
				coordination_skill=1
			}
			add_field_marshal_role = {
				Character = CAT_carles_riera
				traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Ricard_de_Vargas_Golarons
				traits={ trickster trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Guillem_Agullo
				traits={ media_personality }
				skill=1
				attack_skill=1
				defense_skill=2
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Alfonso_Alvarez
				traits={ trickster war_hero politically_connected }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=2
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Fidel_Manrique
				traits={ trickster media_personality politically_connected old_guard }
				skill=2
				attack_skill=2
				defense_skill=2
				planning_skill=3
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Martin_Paradelo
				traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Ignacio_Fernandez_Toxo
				traits={ politically_connected war_hero brilliant_strategist }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Stuart_Christie
				traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=3
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Tomas_Sayes_i_Jato
				traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
		}
	}
}

country_event = { #Regular Forces Rerouted to Barcelona 
	id = cat.303
	title = cat.303.t
	desc = cat.303.d
	picture = catalonia_troops_rerouted
	
	fire_only_once = yes
	is_triggered_only = yes
	 
	option = { #Secure the city
		name = cat.303.o1
		add_ideas = idea_cat_troops_redirected_to_capital
		hidden_effect = {
			country_event = {
				id = cat.304
				days = 4
			}
		}
	}
	
	option = { #Destroy the Anarchists before they strike
		name = cat.303.o2
		add_ideas = idea_cat_troops_redirected_to_capital
		hidden_effect = {
			country_event = {
				id = cat.308
				days = 2
			}
		}
	}
}

country_event = { #Anarchist Forces Initiate Mass Public Resistance Campaign
	id = cat.304
	title = cat.304.t
	desc = cat.304.d
	picture = catalonia_anarchist_resistance
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.304.o1
		add_stability = -0.07
		add_war_support = -0.07
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.07
		}
		hidden_effect = {
			country_event = {
				id = cat.305
				days = 7
			}
		}
	}
}

country_event = { #Anarchists Attempt to Assassinate Government Officials
	id = cat.305
	title = cat.305.t
	desc = cat.305.d
	picture = catalonia_propaganda_of_the_deed
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.305.o1
		add_political_power = -50
		add_stability = -0.05
		hidden_effect = {
			country_event = {
				id = cat.306
				days = 14
			}
		}
	}
}

country_event = { #CNT Strikes Crushed Under Martial Law Provisions
	id = cat.306
	title = cat.306.t
	desc = cat.306.d
	picture = catalonia_destroy_anarkkkiddies
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.306.o1
		add_political_power = -150
		165 = {
			damage_building = {
				type = infrastructure
				damage = 1
			}
			damage_building = {
				type = industrial_complex
				damage = 1
			}
		}
		remove_ideas = idea_cat_troops_redirected_to_capital
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.1
		}
		hidden_effect = {
			country_event = {
				id = cat.307
				days = 4
			}
		}
	}
}

country_event = { #Liberals Criticise Heavy-handed Military Response
	id = cat.307
	title = cat.307.t
	desc = cat.307.d
	picture = catalonia_liberal_protests
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.307.o1
		complete_national_focus = CAT_european_revolution
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		custom_effect_tooltip = catalonia_unity_gone_tooltip
		hidden_effect = {
			remove_ideas = idea_cat_very_high_unity
			remove_ideas = idea_cat_high_unity
			remove_ideas = idea_cat_middling_unity
			remove_ideas = idea_cat_low_unity
		}
		add_to_variable = { 
			cat_hardliner_anger = 2
		}
		load_focus_tree = generic_focus
		set_country_flag = cat_puigdemont_retained_power
	}
}

country_event = { #Military Forces Seize CNT Headquarters Across Barcelona
	id = cat.308
	title = cat.308.t
	desc = cat.308.d
	picture = catalonia_anti_anarchist_moves
	
	fire_only_once = yes
	is_triggered_only = yes 
	
	option = {
		name = cat.308.o1 
		add_manpower = -150
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = -0.05
		}
		hidden_effect = {
			country_event = {
				id = cat.309
				days = 7
			}
		}
	}
}

country_event = { #Carles Riera Detained by Loyalist Forces
	id = cat.309
	title = cat.309.t
	desc = cat.309.d
	picture = catalonia_carles_rieras_arrested
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.309.o1
		add_stability = 0.03
		add_popularity = {
			ideology = communist 
			popularity = 0.05
		}
		remove_ideas = idea_cat_troops_redirected_to_capital
		hidden_effect = {
			country_event = {
				id = cat.310
				days = 4
			}
		}
	}
}

country_event = { #Remaining CNT Federations Pledge Allegiance to War of Liberation
	id = cat.310
	title = cat.310.t
	desc = cat.310.d
	picture = catalonia_anarchist_loyality
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.310.o1
		add_political_power = 100
		complete_national_focus = CAT_european_revolution
		add_popularity = {
			ideology = communist
			popularity = -0.05
		}
		custom_effect_tooltip = catalonia_unity_gone_tooltip
		hidden_effect = {
			remove_ideas = idea_cat_very_high_unity
			remove_ideas = idea_cat_high_unity
			remove_ideas = idea_cat_middling_unity
			remove_ideas = idea_cat_low_unity
		}
		load_focus_tree = generic_focus
		set_country_flag = cat_puigdemont_retained_power
	}
}

country_event = { #Palma Liberated by Catalan Forces
	id = cat.311
	title = cat.311.t
	desc = cat.311.d
	picture = catalonia_liberation_of_palma
	
	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		177 = { is_controlled_by = CAT }
		177 = { is_owned_by = SPR }
		NOT = {
			OR = {
				has_country_flag = catalonia_coup_begins_flag
				has_country_flag = catalonia_independence_war_over
			}
		}
	}
	
	option = {
		name = cat.311.o1
		add_popularity = {
			ideology = ROOT 
			popularity = 0.03
		}
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Castelló de la Plana Liberated by Catalan Forces
	id = cat.312
	title = cat.312.t
	desc = cat.312.d
	picture = catalonia_castello_liberated
	
	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		CAT = {
			controls_province = 6817
		}
		167 = { is_owned_by = SPR }
		NOT = {
			OR = {
				has_country_flag = catalonia_coup_begins_flag
				has_country_flag = catalonia_independence_war_over
			}
		}
	}
	
	option = {
		name = cat.312.o1
		add_popularity = {
			ideology = ROOT 
			popularity = 0.03
		}
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #The Liberation of Andorra
	id = cat.313
	title = cat.313.t
	desc = cat.313.d
	picture = catalonia_andorra_liberated
	
	trigger = {
		has_war_with = SPR
		tag = CAT
		852 = { is_controlled_by = CAT }
		852 = { is_owned_by = SPR }
		NOT = {
			OR = {
				has_country_flag = catalonia_coup_begins_flag
				has_country_flag = catalonia_independence_war_over
			}
		}
	}
	fire_only_once = yes
	
	option = { #Allow the Castillian Administration to Remain
		name = cat.313.o1
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = -1
		}
		hidden_effect = {
			country_event = {
				id = cat.314
				days = 4
			}
		}
	}
	
	option = { #We cannot permit a fifth column in our back. Instate an occupational authority
		name = cat.313.o2
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		hidden_effect = {
			country_event = {
				id = cat.315
				days = 4
			}
		}
	}
}

country_event = { #Government Officials Preside over Reconvention of the General Council of the Valleys
	id = cat.314
	title = cat.314.t
	desc = cat.314.d
	picture = catalonia_council_of_the_valleys
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.314.o1
		add_stability = 0.03
		add_popularity = {
			ideology = national_conservative
			popularity = 0.04
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.04
		}
		852 = {
			add_compliance = 15
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Occupational Authority Established in Andorra
	id = cat.315
	title = cat.315.t
	desc = cat.315.d
	picture = catalonia_occupation_of_andorra
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = cat.315.o1 
		add_political_power = -15
		add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}
		852 = {
			add_resistance = -15
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Valencia Liberated by Catalan Forces
	id = cat.316
	title = cat.316.t
	desc = cat.316.d
	picture = catalonia_balenciaga_liberation
	
	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		CAT = {
			controls_province = 6906
		}
		167 = { is_owned_by = SPR }
		NOT = {
			OR = {
				has_country_flag = catalonia_coup_begins_flag
				has_country_flag = catalonia_independence_war_over
			}
		}
	}
	
	option = {
		name = cat.316.o1
		add_popularity = {
			ideology = ROOT 
			popularity = 0.03
		}
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 2
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

country_event = { #Alicante Liberated by Catalan Forces
	id = cat.317
	title = cat.317.t
	desc = cat.317.d
	picture = catalonia_alicante_liberated
	
	fire_only_once = yes
	trigger = {
		has_war_with = SPR
		tag = CAT
		CAT = {
			controls_province = 4098
		}
		167 = { is_owned_by = SPR }
		NOT = {
			OR = {
				has_country_flag = catalonia_coup_begins_flag
				has_country_flag = catalonia_independence_war_over
			}
		}
	}
	
	option = {
		name = cat.317.o1
		add_popularity = {
			ideology = ROOT 
			popularity = 0.03
		}
		add_to_variable = {
		   var = catalonia_unity_variable
		   value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 10
					compare = greater_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_very_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 9
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 8
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 7
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_middling_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_high_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 6
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 5
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 4
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_low_unity
				}
				add_ideas = idea_cat_middling_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 3
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 2
					compare = equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
		if = {
			limit = {
				check_variable = {
					var = catalonia_unity_variable
					value = 1
					compare = less_than_or_equals
				}
			}
			hidden_effect = {
				remove_ideas = {
					idea_cat_very_high_unity
					idea_cat_high_unity
					idea_cat_middling_unity
				}
				add_ideas = idea_cat_low_unity
			}
		}
	}
}

#Cs either deals with CD or with the PP
country_event = {
	id = cat.2000
	title = cat.2000.t
	desc = cat.2000.d
	picture = x
	
	is_triggered_only = yes
		
	option = {
		name = cat.2000.o1
		set_country_flag = CAT_dealt_with_libs
		add_popularity = {
			ideology = centrist
			popularity = 0.1
		}
		add_stability = 0.05
	}
	option = {
		name = cat.2000.o2
		set_country_flag = CAT_dealt_with_nats
		add_political_power = 50
		add_popularity = {
			ideology = nationalist
			popularity = 0.10
		}
	}
}

#catalonia demands valencia
country_event = {
	id = cat_diplo.1
	title = cat_diplo.1.t
	desc = cat_diplo.1.d
	picture = x

	is_triggered_only = yes

	option = { #give it to them
		name = cat_diplo.1.o1
		ai_chance = {base = 15}
		CAT = {
			transfer_state = 167
		}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.2
				}
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.1.o2
		ai_chance = {base = 85}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.3
				}
			}
		}
	}
}
#spain accepts
country_event = {
	id = cat_diplo.2
	title = cat_diplo.2.t
	desc = cat_diplo.2.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.2.o1
	}
}
#spain refuses
country_event = {
	id = cat_diplo.3
	title = cat_diplo.3.t
	desc = cat_diplo.3.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.3.o1
		IF = {
			limit = {
				SPR = {
					owns_state = 167
				}
			}
			create_wargoal = {
				type = annex_everything
				target = SPR
			}
		}
		IF = {
			limit = {
				SPN = {
					owns_state = 167
				}
			}
			create_wargoal = {
				type = annex_everything
				target = SPN
			}
		}
	}
}
#catalonia demands the balearics
country_event = {
	id = cat_diplo.4
	title = cat_diplo.4.t
	desc = cat_diplo.4.d
	picture = x

	is_triggered_only = yes

	option = { #give it to them
		name = cat_diplo.4.o1
		ai_chance = {base = 15}
		CAT = {
			transfer_state = 177
		}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.5
				}
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.4.o2
		ai_chance = {base = 85}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.6
				}
			}
		}
	}
}
#spain accepts
country_event = {
	id = cat_diplo.5
	title = cat_diplo.5.t
	desc = cat_diplo.5.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.5.o1
	}
}
#spain refuses
country_event = {
	id = cat_diplo.6
	title = cat_diplo.6.t
	desc = cat_diplo.6.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.6.o1
		IF = {
			limit = {
				SPR = {
					owns_state = 167
				}
			}
			create_wargoal = {
				type = annex_everything
				target = SPR
			}
		}
		IF = {
			limit = {
				SPN = {
					owns_state = 167
				}
			}
			create_wargoal = {
				type = annex_everything
				target = SPN
			}
		}
	}
}

#
#give catalonia investments
country_event = {
	id = cat_diplo.7
	picture = x

	is_triggered_only = yes
	hidden = yes

	option = {
		CAT = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
		}

	}
}

#request open borders with spain

country_event = {
	id = cat_diplo.8
	title = cat_diplo.8.t
	desc = cat_diplo.8.d
	picture = x

	is_triggered_only = yes

	option = { #yes
		name = cat_diplo.4.o1
		ai_chance = {base = 85}
		
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.9
				}
			}
		}
	}
	option = { #no
		name = cat_diplo.4.o2
		ai_chance = {base = 15}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.10
				}
			}
		}
	}
}
#spain accepts
country_event = {
	id = cat_diplo.9
	title = cat_diplo.9.t
	desc = cat_diplo.9.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.5.o1
		diplomatic_relation = {
			country = from
			relation = military_access
			active = yes
		}
		diplomatic_relation = {
			country = from
			relation = non_aggression_pact
			active = yes
		}
	}
}
#spain refuses
country_event = {
	id = cat_diplo.10
	title = cat_diplo.10.t
	desc = cat_diplo.10.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.6.o1
	       add_political_power = -50
		   add_popularity = {
			ideology = nationalist
			popularity = 0.05
		   }
	}
}
#catalonia asks to join the united eu
country_event = {
	id = cat_diplo.11
	title = cat_diplo.11.t
	desc = cat_diplo.11.d
	picture = x

	is_triggered_only = yes

	option = { #yes
		name = cat_diplo.11.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.12
			}
		}
	}
	option = { #no
		name = cat_diplo.11.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.13
			}
		}
	}
}
#eu accepts
country_event = {
	id = cat_diplo.12
	title = cat_diplo.12.t
	desc = cat_diplo.12.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.12.o1
		ITA = {
			change_tag_from = ROOT
		}
		ITA = {
			annex_country = {
				target = CAT
				transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = CAT
				}
				add_core_of = ITA
			}
		}
	}
}
#eu refuses
country_event = {
	id = cat_diplo.13
	title = cat_diplo.13.t
	desc = cat_diplo.13.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.13.o1
		add_political_power = -200
	}
}
#the perpignan conference begins
country_event = {
	id = cat_diplo.14
	title = cat_diplo.14.t
	desc = cat_diplo.14.d
	picture = x

	is_triggered_only = yes

	option = { 
		name = cat_diplo.14.o1
		trigger = {
			tag = CAT
		}
		hidden_effect = {
			country_event = {
				id = cat_diplo.15
				days = 1
			}
		}
	}
	option = {
		name = cat_diplo.14.o2
		trigger = {
			tag = FRA
		}
	}
}
#france requests sovereignty over andorra
country_event = {
	id = cat_diplo.15
	title = cat_diplo.15.t
	desc = cat_diplo.15.d
	picture = x

	is_triggered_only = yes

	option = { #sell it to them
		name = cat_diplo.15.o1
		ai_chance = {base = 50}
		hidden_effect = {
			country_event = {
				id = cat_diplo.16
				days = 2
			}
			FRA = {
				country_event = {
					id = cat_diplo.17
					days = 1
				}
			}
		}
	}
	option = { #lets try something else
		name = cat_diplo.15.o2
		ai_chance = {base = 50}
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.18
					days = 1
				}
			}
		}
	}
}
#conference ends with France buying Andorra
country_event = {
	id = cat_diplo.16
	title = cat_diplo.16.t
	desc = cat_diplo.16.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.16.o1
		add_timed_idea = {
			idea = idea_cat_payments_for_andorra_for_catalonia
			days = 720
		}
	}
}
#catalonia sells andorra to france french pov
country_event = {
	id = cat_diplo.17
	title = cat_diplo.17.t
	desc = cat_diplo.17.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.17.o1
		transfer_state = 852
		852 = {
			add_core_of = ROOT
		}
		add_timed_idea = {
			idea = idea_cat_payments_for_andorra_for_france
			days = 720
		}
	}
}
#catalonia requests alternate solution for france
country_event = {
	id = cat_diplo.18
	title = cat_diplo.18.t
	desc = cat_diplo.18.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.18.o1
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.19
				}
			}
		}
	}
}
#perpignan delegation discusses alternate offer
country_event = {
	id = cat_diplo.19
	title = cat_diplo.19.t
	desc = cat_diplo.19.d
	picture = x

	is_triggered_only = yes

	option = { #try to purchase frances claim
		name = cat_diplo.19.o1
		ai_chance = {base = 50}
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.24
					days = 2
				}
			}
		}
	}
	option = { #lets try andorra co-rulership
		name = cat_diplo.19.o2
		ai_chance = {base = 50}
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.20
					days = 2
				}
			}
		}
	}
}
#catalonia wishes to restore andorra condominium
country_event = {
	id = cat_diplo.20
	title = cat_diplo.20.t
	desc = cat_diplo.20.d
	picture = x

	is_triggered_only = yes

	option = { #sure, but we want to be their official protector
		name = cat_diplo.20.o1
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.21
				}
			}
		}
	}
}
#france requests responsibility to protect andorra
country_event = {
	id = cat_diplo.21
	title = cat_diplo.21.t
	desc = cat_diplo.21.d
	picture = x

	is_triggered_only = yes

	option = { #this is agreeable
		name = cat_diplo.21.o1
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.22
					days = 4
				}
			}
		}
	}
}
#people's republic of andorra established
country_event = {
	id = cat_diplo.22
	title = cat_diplo.22.t
	desc = cat_diplo.22.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.22.o1
		ANA = {
			transfer_state = 852
		}
		puppet = ANA
		ANA = {
			ANA_Condominium_Leader = {
				add_country_leader_role = {
					promote_leader = yes		
					country_leader={
						ideology=neocommunist
						expire="1.1.1.1"
						id=-1
					}
				}
			}
			add_ideas = {
				idea_cat_andorran_condominium
			}
			set_cosmetic_tag = ANA_condominium
			set_party_name = {
				ideology = communist
				long_name = "French-Catalan Administration"
				name = "French-Catalan Administration"
			}
		}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.23
				}
			}
			852 = {
				remove_claim_by = CAT
				remove_core_of = CAT
				remove_claim_by = FRA
			}
		}
	}
}
#conference ends with france puppeting andorra
country_event = {
	id = cat_diplo.23
	title = cat_diplo.23.t
	desc = cat_diplo.23.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.23.o1
		add_popularity = {
			ideology = nationalist
			popularity = 0.05
		}
		add_opinion_modifier = {
			target = FRA
			modifier = cat_successful_perpignan_conference
		}
		FRA = {
			add_opinion_modifier = {
				target = CAT
				modifier = cat_successful_perpignan_conference
			}
		}
	}
}
#catalonia wants to purchase our claim
country_event = {
	id = cat_diplo.24
	title = cat_diplo.24.t
	desc = cat_diplo.24.d
	picture = x

	is_triggered_only = yes

	option = { #no what the fuck
		name = cat_diplo.24.o1
		ai_chance = {base = 50}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.27
					days = 2
				}
			}
		}
	}
	option = { #thats reasonable
		name = cat_diplo.24.o2
		ai_chance = {base = 50}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.25
					days = 2
				}
			}
		}
	}
}
#france agrees to sell andorra claim
country_event = {
	id = cat_diplo.25
	title = cat_diplo.25.t
	desc = cat_diplo.25.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.25.o1
		852 = {
			remove_claim_by = FRA
		}
		add_timed_idea = {
			idea = idea_cat_payments_for_andorra_for_france
			days = 720
		}
		FRA = {
			add_timed_idea = {
				idea = idea_cat_france_getting_paid_for_andorra_1
				days = 720
			}
		}
		hidden_effect = {
			country_event = {
				id = cat_diplo.26
				days = 1
			}
		}
	}
}
#conference ends with catalonia buying rights to andorra
country_event = {
	id = cat_diplo.26
	title = cat_diplo.26.t
	desc = cat_diplo.26.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.26.o1
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_to_variable = { 
			cat_hardliner_anger = -1 
		}
	}
}
#france rejects our offer
country_event = {
	id = cat_diplo.27
	title = cat_diplo.27.t
	desc = cat_diplo.27.d
	picture = x

	is_triggered_only = yes

	option = { #raise our offer
		name = cat_diplo.27.o1
		ai_chance = {base = 50}
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.34
					days = 2
				}
			}
		}
	}
	option = { #demand a referendum
		name = cat_diplo.27.o2
		ai_chance = {base = 50}
		hidden_effect = {
			FRA = {
				country_event = {
					id = cat_diplo.28
					days = 2
				}
			}
		}
	}
}
#catalonia demands a referendum
country_event = {
	id = cat_diplo.28
	title = cat_diplo.28.t
	desc = cat_diplo.28.d
	picture = x

	is_triggered_only = yes

	option = { #ridiculous
		name = cat_diplo.28.o1
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.29
				}
			}
		}
	}
}
#france rejects proposal
country_event = {
	id = cat_diplo.29
	title = cat_diplo.29.t
	desc = cat_diplo.29.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.29.o1
		hidden_effect = {
			country_event = {
				id = cat_diplo.30
				days = 1
			}
		}
	}
}
#delegation criticized by hardliners
country_event = {
	id = cat_diplo.30
	title = cat_diplo.30.t
	desc = cat_diplo.30.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.30.o1
		hidden_effect = {
			country_event = {
				id = cat_diplo.31
				days = 1
			}
		}
	}
}
#central committe votes in favor of france
country_event = {
	id = cat_diplo.31
	title = cat_diplo.31.t
	desc = cat_diplo.31.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.31.o1
		hidden_effect = {
			country_event = {
				id = cat_diplo.32
				days = 2
			}
			FRA = {
				country_event = {
					id = cat_diplo.33
					days = 1
				}
			}
		}
	}
}
#puigdemont humiliated
country_event = {
	id = cat_diplo.32
	title = cat_diplo.32.t
	desc = cat_diplo.32.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.32.o1
		add_to_variable = { 
			cat_hardliner_anger = 2
		}
		add_opinion_modifier = {
			target = FRA
			modifier = cat_unsuccessful_perpignan_conference
		}
		FRA = {
			add_opinion_modifier = {
				target = CAT
				modifier = cat_unsuccessful_perpignan_conference
			}
		}
		add_popularity = {
			ideology = nationalist
			popularity = 0.15
		}
	}
}
#catalonia cedes andorra
country_event = {
	id = cat_diplo.33
	title = cat_diplo.33.t
	desc = cat_diplo.33.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.33.o1
		transfer_state = 852
		852 = {
			add_core_of = ROOT
			remove_core_of = CAT
		}
	}
}
#catalonia increases their offer
country_event = {
	id = cat_diplo.34
	title = cat_diplo.34.t
	desc = cat_diplo.34.d
	picture = x

	is_triggered_only = yes

	option = { #we accept
		name = cat_diplo.34.o1
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.35
					days = 1
				}
			}
		}
	}
}
#france agrees to sell andorra claim for high price
country_event = {
	id = cat_diplo.35
	title = cat_diplo.35.t
	desc = cat_diplo.35.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.35.o1
		852 = {
			remove_claim_by = FRA
		}
		add_timed_idea = {
			idea = idea_cat_catalonia_pays_france_a_lot_for_andorra
			days = 720
		}
		FRA = {
			add_timed_idea = {
				idea = idea_cat_france_getting_paid_for_andorra_2
				days = 720
			}
		}
	}
}
#perpignan conference ends with catalonia paying a lot of money
country_event = {
	id = cat_diplo.36
	title = cat_diplo.36.t
	desc = cat_diplo.36.d
	picture = x

	is_triggered_only = yes

	option = { #we accept
		name = cat_diplo.36.o1
		add_to_variable = { 
			cat_hardliner_anger = -1
		}
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
	}
}
#catalonia wants to join russia
country_event = {
	id = cat_diplo.37
	title = cat_diplo.37.t
	desc = cat_diplo.37.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.37.o1
		ai_chance = {factor = 100}
		add_ai_strategy = {
			type = alliance
			id = CAT
			value = 200
		}
		CAT = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
		}
		add_to_faction = CAT
		CAT = {
			country_event = {
				id = cat_diplo.38
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.37.o2
		ai_chance = {factor = 0}
		CAT = {
			country_event = {
				id = cat_diplo.39
				days = 3
			}
		}
	}
}
#Russia wants us
country_event = {
	id = cat_diplo.38
	title = cat_diplo.38.t
	desc = cat_diplo.38.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.38.o1
	}
}
#Russia doesn't want us
country_event = {
	id = cat_diplo.39
	title = cat_diplo.39.t
	desc = cat_diplo.39.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.39.o1
		add_political_power = -50
		set_country_flag = SPR_russia_refused_to_ally_us
	}
}
#Catalonia wants to join warsaw pact but for the soviets
country_event = {
	id = cat_diplo.40
	title = cat_diplo.40.t
	desc = cat_diplo.40.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.40.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.41
				days = 3
			}
		}
		add_ai_strategy = {
			type = alliance
			id = CAT
			value = 200
		}
		add_to_faction = CAT
	}
	option = { #fuck off
		name = cat_diplo.40.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.42
				days = 3
			}
		}
	}
}
#warsaw wants us
country_event = {
	id = cat_diplo.41
	title = cat_diplo.41.t
	desc = cat_diplo.41.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.41.o1
		add_ai_strategy = {
			type = alliance
			id = SOV
			value = 200
		}
	}
}
#warsaw doesn't want us
country_event = {
	id = cat_diplo.42
	title = cat_diplo.42.t
	desc = cat_diplo.42.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.42.o1
		add_political_power = -50
		set_country_flag = SPR_warsaw_refused_to_ally_us
	}
}
#Catalonia wants to join the warsaw pact but this time it's germany
country_event = {
	id = cat_diplo.43
	title = cat_diplo.43.t
	desc = cat_diplo.43.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.43.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.44
				days = 3
			}
		}
		add_ai_strategy = {
			type = alliance
			id = CAT
			value = 200
		}
		add_to_faction = CAT
	}
	option = { #fuck off
		name = cat_diplo.43.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.117
				days = 3
			}
		}
	}
}
#warsaw wants us
country_event = {
	id = cat_diplo.44
	title = cat_diplo.44.t
	desc = cat_diplo.44.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.44.o1
		add_ai_strategy = {
			type = alliance
			id = GER
			value = 200
		}
	}
}
#warsaw doesn't want us
country_event = {
	id = cat_diplo.45
	title = cat_diplo.45.t
	desc = cat_diplo.45.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.45.o1
		add_political_power = -50
		set_country_flag = SPR_warsaw_refused_to_ally_us
	}
}
#Catalonia wants to join Canada
country_event = {
	id = cat_diplo.46
	title = cat_diplo.46.t
	desc = cat_diplo.46.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.46.o1
		ai_chance = {factor = 100}
		add_ai_strategy = {
			type = alliance
			id = CAT
			value = 200
		}
		CAT = {
			country_event = {
				id = cat_diplo.47
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.46.o2
		ai_chance = {factor = 0}
		CAT = {
			country_event = {
				id = cat_diplo.48
				days = 3
			}
		}
	}
}
#Canada wants us
country_event = {
	id = cat_diplo.47
	title = cat_diplo.47.t
	desc = cat_diplo.47.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.47.o1
		CAN = {
			add_to_faction = ROOT
		}
		add_ai_strategy = {
			type = alliance
			id = CAN
			value = 200
		}
	}
}
#Canada doesn't want us
country_event = {
	id = cat_diplo.48
	title = cat_diplo.48.t
	desc = cat_diplo.48.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.48.o1
		add_political_power = -50
		set_country_flag = SPR_canada_refused_to_ally_us
	}
}
#catalonia wants to join the apc
country_event = {
	id = cat_diplo.49
	title = cat_diplo.49.t
	desc = cat_diplo.49.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.49.o1
		ai_chance = {factor = 100}
		CAT = {
			country_event = {
				id = cat_diplo.50
				days = 3
			}
			add_ai_strategy = {
				type = alliance
				id = NEA
				value = 200
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.49.o2
		ai_chance = {factor = 0}
		CAT = {
			country_event = {
				id = cat_diplo.51
				days = 3
			}
		}
	}
}
#apc wants us
country_event = {
	id = cat_diplo.50
	title = cat_diplo.50.t
	desc = cat_diplo.50.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.50.o1
		NEA = {
			add_to_faction = ROOT
			add_ai_strategy = {
				type = alliance
				id = CAT
				value = 200
			}
		}
	}
}
#apc doesn't want us
country_event = {
	id = cat_diplo.51
	title = cat_diplo.51.t
	desc = cat_diplo.51.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.51.o1
		add_political_power = -50
		set_country_flag = CAT_apc_didnt_ally_us
	}
}
#catalans demand the north
country_event = {
	id = cat_diplo.52
	title = cat_diplo.52.t
	desc = cat_diplo.52.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.52.o1
		ai_chance = {base = 5}
		add_stability = -0.05
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.53
					days = 3
				}
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.52.o2
		ai_chance = {base = 95}
		hidden_effect = {
			CAT = {
				country_event = {
					id = cat_diplo.54
					days = 3
				}
			}
		}
	}
}
#france surrenders the north
country_event = {
	id = cat_diplo.53
	title = cat_diplo.53.t
	desc = cat_diplo.53.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.53.o1
		transfer_state = 663
	}
}
#france won't cede the north
country_event = {
	id = cat_diplo.54
	title = cat_diplo.54.t
	desc = cat_diplo.54.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.54.o1
		add_political_power = -50
		custom_effect_tooltip = bsq_border_conflict_unlocked
		set_country_flag = CAT_france_refused_to_surrender_the_north
	}
}
#we win the skirmish for the north
country_event = {
	id = cat_diplo.55
	title = cat_diplo.55.t
	desc = cat_diplo.55.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.55.o1
		transfer_state = 663
	}
}
#we lose the skirmish for the north
country_event = {
	id = cat_diplo.56
	title = cat_diplo.56.t
	desc = cat_diplo.56.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.56.o1
		add_stability = -0.05
		add_war_support = -0.05
		set_country_flag = bsq_we_lost_the_border_conflict
	}
}
#stalemate on the border war
country_event = {
	id = cat_diplo.57
	title = cat_diplo.57.t
	desc = cat_diplo.57.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.57.o1
		add_political_power = -100
	}
}
#we lost the skirmish but we're france
country_event = {
	id = cat_diplo.58
	title = cat_diplo.58.t
	desc = cat_diplo.58.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.58.o1
		add_stability = -0.05
		add_war_support = -0.05
	}
}
#we won the skirmish but we're france
country_event = {
	id = cat_diplo.59
	title = cat_diplo.59.t
	desc = cat_diplo.59.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.59.o1
		add_political_power = 50
		add_war_support = 0.05
	}
}
#stalemate on the border war but we're france
country_event = {
	id = cat_diplo.60
	title = cat_diplo.60.t
	desc = cat_diplo.60.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.60.o1
		add_political_power = -100
	}
}
#60 days after the invasion of france
country_event = {
	id = cat_diplo.61
	
	title = {
		text = cat_diplo.61.t1
		trigger = {
			controls_state = 663
		}
	}
	title = {
		text = cat_diplo.61.t2
		trigger = {
			NOT = {
				controls_state = 663
			}
		}
	}

	fire_only_once = yes
	is_triggered_only = yes

	desc = { #we control the north
		text = cat_diplo.61.d1
		trigger = {
			controls_state = 663
		}
	}
	desc = { #we don't control the north
		text = cat_diplo.61.d2
		trigger = {
			NOT = {
				controls_state = 663
			}
		}
	}
	option = { #we control the north
		name = cat_diplo.61.o1
		trigger = {
			controls_state = 663
		}
		FRA = {
			country_event = {
				id = cat_diplo.62
			}
		}
	}
	option = { #we don't control the north, keep fighting
		name = cat_diplo.61.o2
		ai_chance = {base = 5}
		trigger = {
			NOT = {
				controls_state = 663
			}
		}
		FRA = {
			remove_ideas = {
				idea_cat_catalan_french_border_dispute
			}
		}
	}
	option = { #we don't control the north, don't keep fighting
		name = cat_diplo.61.o3
		ai_chance = {base = 95}
		trigger = {
			NOT = {
				controls_state = 663
			}
		}
		FRA = {
			country_event = {
				id = cat_diplo.63
			}
		}
	}
}
#catalans control roussillon and tell France to surrender
country_event = {
	id = cat_diplo.62
	title = cat_diplo.62.t
	desc = cat_diplo.62.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.62.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.64
				days = 3
			}
		}
	}
	option = { #no, fuck off
		name = cat_diplo.62.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.65
				days = 3
			}
		}
	}
}
#the catalans surrender
country_event = {
	id = cat_diplo.63
	title = cat_diplo.63.t
	desc = cat_diplo.63.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.63.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.67
			}
		}
	}
	option = { #no, fuck off
		name = cat_diplo.63.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.66
			}
		}
	}
}
#France agrees to peace
country_event = {
	id = cat_diplo.64
	title = cat_diplo.64.t
	desc = cat_diplo.64.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.64.o1
		white_peace = FRA
		transfer_state = 663
	}
}
#france refuses peace
country_event = {
	id = cat_diplo.65
	title = cat_diplo.65.t
	desc = cat_diplo.65.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.65.o1
		FRA = {
			remove_ideas = {
				idea_cat_catalan_french_border_dispute
			}
		}
	}
}
#france refuses peace after catalans surrender
country_event = {
	id = cat_diplo.66
	title = cat_diplo.66.t
	desc = cat_diplo.66.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.66.o1
		FRA = {
			remove_ideas = {
				idea_cat_catalan_french_border_dispute
			}
		}
	}
}
#France agrees to peace after catalans surrender
country_event = {
	id = cat_diplo.67
	title = cat_diplo.67.t
	desc = cat_diplo.67.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.67.o1
		white_peace = FRA
	}
}
#cnt-fai demands integration of syndicalist spain
country_event = {
	id = cat_diplo.68
	title = cat_diplo.68.t
	desc = cat_diplo.68.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.68.o1
		ai_chance = {base = 10}
		CAT = {
			country_event = {
				id = cat_diplo.69
			}
		}
	}
	option = { #no, fuck off
		name = cat_diplo.68.o2
		ai_chance = {base = 90}
		CAT = {
			country_event = {
				id = cat_diplo.70
			}
		}
	}
}
#Spain agrees to unification
country_event = {
	id = cat_diplo.69
	title = cat_diplo.69.t
	desc = cat_diplo.69.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.69.o1
		CAT = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
	}
}
#spain refuses unification
country_event = {
	id = cat_diplo.70
	title = cat_diplo.70.t
	desc = cat_diplo.70.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.70.o1
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}
#cnt-fai demands integration of anarcho-syndicalist spain
country_event = {
	id = cat_diplo.71
	title = cat_diplo.71.t
	desc = cat_diplo.71.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.71.o1
		ai_chance = {base = 90}
		CAT = {
			country_event = {
				id = cat_diplo.72
			}
		}
	}
	option = { #no, fuck off
		name = cat_diplo.71.o2
		ai_chance = {base = 10}
		CAT = {
			country_event = {
				id = cat_diplo.73
			}
		}
	}
}
#Spain agrees to unification
country_event = {
	id = cat_diplo.72
	title = cat_diplo.72.t
	desc = cat_diplo.72.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.72.o1
		CAT = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
	}
}
#spain refuses unification
country_event = {
	id = cat_diplo.73
	title = cat_diplo.73.t
	desc = cat_diplo.73.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.73.o1
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}
#catalonia wants to join Italy
country_event = {
	id = cat_diplo.74
	title = cat_diplo.74.t
	desc = cat_diplo.74.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.74.o1
		ai_chance = {factor = 100}
		add_ai_strategy = {
			type = alliance
			id = CAT
			value = 200
		}
		CAT = {
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
		}
		add_to_faction = CAT
		CAT = {
			country_event = {
				id = cat_diplo.75
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.74.o2
		ai_chance = {factor = 0}
		CAT = {
			country_event = {
				id = cat_diplo.76
				days = 3
			}
		}
	}
}
#Italy wants us
country_event = {
	id = cat_diplo.75
	title = cat_diplo.75.t
	desc = cat_diplo.75.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.75.o1
	}
}
#Italy doesn't want us
country_event = {
	id = cat_diplo.76
	title = cat_diplo.76.t
	desc = cat_diplo.76.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.76.o1
		add_political_power = -50
		set_country_flag = CAT_italy_refused_to_ally_us
	}
}
#catalans proposes nap with Spain
country_event = {
	id = cat_diplo.77
	title = cat_diplo.77.t
	desc = cat_diplo.77.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.77.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.78
				days = 3
			}
		}
		diplomatic_relation = {
			country = CAT
			relation = non_aggression_pact
			active = yes
		}
		set_country_flag = spr_spain_decided_to_play_nice_with_the_catalans
	}
	option = { #fuck off
		name = cat_diplo.77.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.79
				days = 3
			}
		}

	}
}
#Spain agrees
country_event = {
	id = cat_diplo.78
	title = cat_diplo.78.t
	desc = cat_diplo.78.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.78.o1
		set_country_flag = cat_spain_agreed_to_peace
	}
}
#Spain declines
country_event = {
	id = cat_diplo.79
	title = cat_diplo.79.t
	desc = cat_diplo.79.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.79.o1
		add_political_power = -50
	}
}
#CNT new faction
country_event = {
	id = cat_diplo.80
	title = cat_diplo.80.t
	desc = cat_diplo.80.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.80.o1
	}
}
#catalonia wants to join welch
country_event = {
	id = cat_diplo.81
	title = cat_diplo.81.t
	desc = cat_diplo.81.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.81.o1
		ai_chance = {factor = 100}
		CAT = {
			country_event = {
				id = cat_diplo.82
				days = 3
			}
			add_ai_strategy = {
				type = alliance
				id = NEA
				value = 200
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.81.o2
		ai_chance = {factor = 0}
		CAT = {
			country_event = {
				id = cat_diplo.83
				days = 3
			}
		}
	}
}
#welch wants us
country_event = {
	id = cat_diplo.82
	title = cat_diplo.82.t
	desc = cat_diplo.82.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.82.o1
		NEA = {
			add_to_faction = ROOT
			add_ai_strategy = {
				type = alliance
				id = CAT
				value = 200
			}
		}
	}
}
#welch doesn't want us
country_event = {
	id = cat_diplo.83
	title = cat_diplo.83.t
	desc = cat_diplo.83.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.83.o1
		add_political_power = -50
		set_country_flag = CAT_apc_didnt_ally_us
	}
}
#catalonia seeks to buy resource rights from portugal
country_event = {
	id = cat_diplo.84
	title = cat_diplo.84.t
	desc = cat_diplo.84.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.84.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.85
				days = 3
			}
		}
		add_timed_idea = {
			idea = idea_cat_getting_paid_for_tungsten
			days = 60
		}
	}
	option = { #fuck off
		name = cat_diplo.84.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.86
				days = 3
			}
		}

	}
}
#Portugal agrees
country_event = {
	id = cat_diplo.85
	title = cat_diplo.85.t
	desc = cat_diplo.85.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.85.o1
		add_resource = {
			type = tungsten
			amount = 35
			state = 165
		}
		add_timed_idea = {
			idea = idea_gal_paying_for_tungsten
			days = 60
		}
	}
}
#Portugal declines
country_event = {
	id = cat_diplo.86
	title = cat_diplo.86.t
	desc = cat_diplo.86.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.86.o1
		add_political_power = -50
	}
}
#catalonia seeks industrial cooperation with portugal
country_event = {
	id = cat_diplo.87
	title = cat_diplo.87.t
	desc = cat_diplo.87.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.87.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.88
				days = 3
			}
		}
		add_ideas = {idea_cat_portuguese_industrial_cooperation}
	}
	option = { #fuck off
		name = cat_diplo.87.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.89
				days = 3
			}
		}

	}
}
#Portugal agrees
country_event = {
	id = cat_diplo.88
	title = cat_diplo.88.t
	desc = cat_diplo.88.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.88.o1
		add_ideas = {idea_cat_portuguese_industrial_cooperation}
	}
}
#Portugal declines
country_event = {
	id = cat_diplo.89
	title = cat_diplo.89.t
	desc = cat_diplo.89.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.89.o1
		add_political_power = -50
	}
}
#catalonia seeks military cooperation with portugal
country_event = {
	id = cat_diplo.90
	title = cat_diplo.90.t
	desc = cat_diplo.90.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.90.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.91
				days = 3
			}
		}
		add_ideas = {idea_cat_portuguese_army_cooperation}
	}
	option = { #fuck off
		name = cat_diplo.90.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.92
				days = 3
			}
		}

	}
}
#Portugal agrees
country_event = {
	id = cat_diplo.91
	title = cat_diplo.91.t
	desc = cat_diplo.91.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.91.o1
		add_ideas = {idea_cat_portuguese_army_cooperation}
	}
}
#Portugal declines
country_event = {
	id = cat_diplo.92
	title = cat_diplo.92.t
	desc = cat_diplo.92.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.92.o1
		add_political_power = -50
	}
}
#catalonia seeks portuguese protection
country_event = {
	id = cat_diplo.93
	title = cat_diplo.93.t
	desc = cat_diplo.93.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.93.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.94
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.93.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.95
				days = 3
			}
		}

	}
}
#Portugal agrees
country_event = {
	id = cat_diplo.94
	title = cat_diplo.94.t
	desc = cat_diplo.94.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.94.o1
		POR = {
			give_guarantee = CAT
		}
	}
}
#Portugal declines
country_event = {
	id = cat_diplo.95
	title = cat_diplo.95.t
	desc = cat_diplo.95.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.95.o1
		add_political_power = -50
	}
}
#catalonia seeks to buy military tech from portugal
country_event = {
	id = cat_diplo.96
	title = cat_diplo.96.t
	desc = cat_diplo.96.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.96.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.97
				days = 3
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 2
		}
	}
	option = { #fuck off
		name = cat_diplo.96.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.98
				days = 3
			}
		}

	}
}
#Portugal agrees
country_event = {
	id = cat_diplo.97
	title = cat_diplo.97.t
	desc = cat_diplo.97.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.97.o1
		add_tech_bonus = {
			category = infantry_weapons
			category = artillery
			category = support_tech
			bonus = 0.75
			uses = 4
		}
		add_timed_idea = {
			idea = idea_cat_portuguese_tech_payments
			days = 60
		}
	}
}
#Portugal declines
country_event = {
	id = cat_diplo.98
	title = cat_diplo.98.t
	desc = cat_diplo.98.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.98.o1
		add_political_power = -50
	}
}
#catalonia seeks defensive pact with basques and/or Galicians
country_event = {
	id = cat_diplo.99
	title = cat_diplo.99.t
	desc = cat_diplo.99.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.99.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.100
				days = 3
			}
		}
		CAT = {
			give_guarantee = ROOT
		}
		give_guarantee = CAT
	}
	option = { #fuck off
		name = cat_diplo.99.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.101
				days = 3
			}
		}

	}
}
#galicia or basques agree
country_event = {
	id = cat_diplo.100
	title = cat_diplo.100.t
	desc = cat_diplo.100.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.100.o1

	}
}
#galicia or basques declines
country_event = {
	id = cat_diplo.101
	title = cat_diplo.101.t
	desc = cat_diplo.101.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.101.o1
		add_political_power = -50
	}
}
#catalonia seeks french protection
country_event = {
	id = cat_diplo.102
	title = cat_diplo.102.t
	desc = cat_diplo.102.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.102.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.103
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.102.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.104
				days = 3
			}
		}

	}
}
#France agrees
country_event = {
	id = cat_diplo.103
	title = cat_diplo.103.t
	desc = cat_diplo.103.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.103.o1
		FRA = {
			give_guarantee = CAT
		}
	}
}
#France declines
country_event = {
	id = cat_diplo.104
	title = cat_diplo.104.t
	desc = cat_diplo.104.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.104.o1
		add_political_power = -50
	}
}
#mission to alghero for CAT
country_event = {
	id = cat_diplo.105
	title = cat_diplo.105.t
	desc = cat_diplo.105.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.105.o1
	}
}
#mission to alghero for Italy
country_event = {
	id = cat_diplo.106
	title = cat_diplo.106.t
	desc = cat_diplo.106.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.106.o1
	}
}
#catalonia seeks spanish protection
country_event = {
	id = cat_diplo.107
	title = cat_diplo.107.t
	desc = cat_diplo.107.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.107.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.108
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.107.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.109
				days = 3
			}
		}

	}
}
#Spain agrees
country_event = {
	id = cat_diplo.108
	title = cat_diplo.108.t
	desc = cat_diplo.108.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.108.o1
		FROM = {
			give_guarantee = CAT
		}
	}
}
#Spain declines
country_event = {
	id = cat_diplo.109
	title = cat_diplo.109.t
	desc = cat_diplo.109.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.109.o1
		add_political_power = -50
	}
}
#catalonia seeks worker exchange with Spain
country_event = {
	id = cat_diplo.110
	title = cat_diplo.110.t
	desc = cat_diplo.110.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.110.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.111
				days = 3
			}
		}
		add_ideas = {
			idea_cat_castillo_catalan_worker_exchange
		}
	}
	option = { #fuck off
		name = cat_diplo.110.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.112
				days = 3
			}
		}

	}
}
#Spain agrees
country_event = {
	id = cat_diplo.111
	title = cat_diplo.111.t
	desc = cat_diplo.111.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.111.o1
		add_ideas = {
			idea_cat_castillo_catalan_worker_exchange
		}
	}
}
#Spain declines
country_event = {
	id = cat_diplo.112
	title = cat_diplo.112.t
	desc = cat_diplo.112.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.112.o1
		add_political_power = -50
	}
}
#catalonia proposes joint military drills
country_event = {
	id = cat_diplo.113
	title = cat_diplo.113.t
	desc = cat_diplo.113.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.113.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.114
				days = 3
			}
		}
		army_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
		air_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
		navy_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	option = { #fuck off
		name = cat_diplo.113.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.115
				days = 3
			}
		}

	}
}
#Spain agrees
country_event = {
	id = cat_diplo.114
	title = cat_diplo.114.t
	desc = cat_diplo.114.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.114.o1
		army_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
		air_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
		navy_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
}
#Spain declines
country_event = {
	id = cat_diplo.115
	title = cat_diplo.115.t
	desc = cat_diplo.115.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.115.o1
		add_political_power = -50
	}
}
#catalonia asks france for aid
country_event = {
	id = cat_diplo.116
	title = cat_diplo.116.t
	desc = cat_diplo.116.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.116.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.117
				days = 3
			}
		}
		CAT = {
			add_opinion_modifier = {
				target = ROOT
				modifier = cat_aided_us
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.116.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.118
				days = 3
			}
		}
	}
}
#france agrees
country_event = {
	id = cat_diplo.117
	title = cat_diplo.117.t
	desc = cat_diplo.117.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.117.o1
		add_offsite_building = {
			type = industrial_complex
			level = 3
		}
	}
}
#france declines
country_event = {
	id = cat_diplo.118
	title = cat_diplo.118.t
	desc = cat_diplo.118.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.118.o1
		add_political_power = -50
	}
}
#catalonia asks Italy to give catalans minority rights
country_event = {
	id = cat_diplo.119
	title = cat_diplo.119.t
	desc = cat_diplo.119.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.119.o1
		ai_chance = {base = 50}
		CAT = {
			country_event = {
				id = cat_diplo.120
				days = 3
			}
		}
		114 = {
			add_dynamic_modifier = { modifier = semi_autonomous_state }
		}
	}
	option = { #fuck off
		name = cat_diplo.119.o2
		ai_chance = {base = 50}
		CAT = {
			country_event = {
				id = cat_diplo.121
				days = 3
			}
		}

	}
}
#Italy agrees
country_event = {
	id = cat_diplo.120
	title = cat_diplo.120.t
	desc = cat_diplo.120.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.120.o1
		set_country_flag = cat_successful_talks_with_italy
		add_opinion_modifier = {
			target = ITA
			modifier = cat_italo_catalan_minority_rights
		}
	}
}
#Italy disagrees
country_event = {
	id = cat_diplo.121
	title = cat_diplo.121.t
	desc = cat_diplo.121.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.121.o1
		ITA = {
			country_event = {
				id = cat_diplo.122
			}
		}
	}
}
#Catalonia makes an alternative offer
country_event = {
	id = cat_diplo.122
	title = cat_diplo.122.t
	desc = cat_diplo.122.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.122.o1
		ai_chance = {base = 70}
		CAT = {
			country_event = {
				id = cat_diplo.123
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.122.o2
		ai_chance = {base = 30}
		CAT = {
			country_event = {
				id = cat_diplo.124
				days = 3
			}
		}

	}
}
#Italy agrees
country_event = {
	id = cat_diplo.123
	title = cat_diplo.123.t
	desc = cat_diplo.123.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.123.o1
		set_country_flag = cat_successful_talks_with_italy
		add_manpower = 500
		add_opinion_modifier = {
			target = ITA
			modifier = cat_italo_catalan_minority_rights
		}
	}
}
#Italy declines
country_event = {
	id = cat_diplo.124
	title = cat_diplo.124.t
	desc = cat_diplo.124.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.124.o1
		add_political_power = -50
		set_country_flag = cat_unsuccessful_talks_with_italy
		add_opinion_modifier = {
			target = ITA
			modifier = cat_italo_catalan_tensions_1
		}
	}
}
#catalonia sponsors emigration programs in Italy
country_event = {
	id = cat_diplo.125
	title = cat_diplo.125.t
	desc = cat_diplo.125.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.125.o1
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.126
				days = 14
			}
		}
		114 = {
			add_manpower = -500
		}
		add_opinion_modifier = {
			target = CAT
			modifier = cat_italo_catalan_tensions_2
		}
	}
	option = { #fuck off
		name = cat_diplo.125.o2
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.127
				days = 3
			}
		}
		add_opinion_modifier = {
			target = CAT
			modifier = cat_italo_catalan_tensions_2
		}
	}
}
#immigrants arrive in Barcelona
country_event = {
	id = cat_diplo.126
	title = cat_diplo.126.t
	desc = cat_diplo.126.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.126.o1
		165 = {
			add_manpower = 500
		}
		remove_ideas = {
			idea_cat_catalan_repatriation_initiative
		}
	}
}
#Italy restricts emigration
country_event = {
	id = cat_diplo.127
	title = cat_diplo.127.t
	desc = cat_diplo.127.d
	picture = x

	is_triggered_only = yes

	option = { #give up
		name = cat_diplo.127.o1
		ai_chance = {base = 20}
		add_political_power = -200
		remove_ideas = {
			idea_cat_catalan_repatriation_initiative
		}
	}
	option = { #facilitate immigration more directly
		name = cat_diplo.127.o2
		ai_chance = {base = 80}
		ITA = {
			country_event = {
				id = cat_diplo.128
				days = 3
			}
		}
		custom_effect_tooltip = cat_this_might_cause_a_war
	}
}
#Catalonia deploys merchant navy
country_event = {
	id = cat_diplo.128
	title = cat_diplo.128.t
	desc = cat_diplo.128.d
	picture = x

	is_triggered_only = yes

	option = { #whatever
		name = cat_diplo.128.o1
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.129
				days = 3
			}
		}
		114 = {
			add_manpower = -1000
		}
		add_opinion_modifier = {
			target = CAT
			modifier = cat_italy_catalonia_violated_our_sovereignty
		}
	}
	option = { #this is an act of war!
		name = cat_diplo.128.o2
		ai_chance = {base = 80}
		create_wargoal = {
			type = annex_everything
			target = CAT
		}
		add_opinion_modifier = {
			target = CAT
			modifier = cat_italy_catalonia_violated_our_sovereignty
		}
	}
}
#immigrants arrive in Barcelona because of the merchant navy
country_event = {
	id = cat_diplo.129
	title = cat_diplo.129.t
	desc = cat_diplo.129.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.129.o1
		165 = {
			add_manpower = 1000
		}
		hidden_effect = {
			country_event = {
				id = cat_diplo.130
				days = 21
			}
			ITA = {
				country_event = {
					id = cat_diplo.131
					days = 21
				}
			}
		}
	}
}
#even more immigrants from Italy
country_event = {
	id = cat_diplo.130
	title = cat_diplo.130.t
	desc = cat_diplo.130.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.130.o1
		165 = {
			add_manpower = 1500
		}
		remove_ideas = {
			idea_cat_catalan_repatriation_initiative
		}
	}
}
#alghero is a ghost town
country_event = {
	id = cat_diplo.131
	title = cat_diplo.131.t
	desc = cat_diplo.131.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.131.o1
		114 = {
			add_manpower = -1500
		}
	}
}
#catalonia asks Italy for trade deals
country_event = {
	id = cat_diplo.132
	title = cat_diplo.132.t
	desc = cat_diplo.132.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.132.o1
		ai_chance = {base = 95}
		CAT = {
			country_event = {
				id = cat_diplo.133
				days = 3
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 3
		}
	}
	option = { #fuck off
		name = cat_diplo.132.o2
		ai_chance = {base = 5}
		CAT = {
			country_event = {
				id = cat_diplo.134
				days = 3
			}
		}

	}
}
#Italy agrees
country_event = {
	id = cat_diplo.133
	title = cat_diplo.133.t
	desc = cat_diplo.133.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.133.o1
		add_offsite_building = {
			type = industrial_complex
			level = 3
		}
	}
}
#Italy declines
country_event = {
	id = cat_diplo.134
	title = cat_diplo.134.t
	desc = cat_diplo.134.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.134.o1
		add_political_power = -50
	}
}
#French-Catalan defection
country_event = {
	id = cat_diplo.135
	title = cat_diplo.135.t
	desc = cat_diplo.135.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.135.o1
		add_timed_idea = {
			idea = idea_cat_french_catalan_emigration
			days = 120
		}
	}
}
#catalonia seeks to settle andorra issue
country_event = {
	id = cat_diplo.136
	title = cat_diplo.136.t
	desc = cat_diplo.136.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.136.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.137
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.136.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.138
				days = 3
			}
		}
	}
}
#france agrees
country_event = {
	id = cat_diplo.137
	title = cat_diplo.137.t
	desc = cat_diplo.137.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.137.o1
		852 = {
			remove_claim_by = FRA
		}
		IF = {
			limit = {
				663 = {
					is_claimed_by = CAT
				}
			}
			663 = {
				remove_claim_by = CAT
			}
		}
		add_timed_idea = {
			idea = idea_cat_settle_border_disputes
			days = 120
		}
		set_country_flag = cat_settled_borders_with_france
	}
}
#france declines
country_event = {
	id = cat_diplo.138
	title = cat_diplo.138.t
	desc = cat_diplo.138.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.138.o1
		add_political_power = -50
	}
}
#catalonia seeks to negotiate franco-catalan rights
country_event = {
	id = cat_diplo.139
	title = cat_diplo.139.t
	desc = cat_diplo.139.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.139.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.140
				days = 3
			}
		}
		663 = {
			add_dynamic_modifier = { modifier = semi_autonomous_state }
		}
	}
	option = { #fuck off
		name = cat_diplo.139.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.141
				days = 3
			}
		}
	}
}
#france agrees
country_event = {
	id = cat_diplo.140
	title = cat_diplo.140.t
	desc = cat_diplo.140.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.140.o1
		add_opinion_modifier = {
			target = FRA
			modifier = cat_franco_catalan_minority_rights
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
}
#france declines
country_event = {
	id = cat_diplo.141
	title = cat_diplo.141.t
	desc = cat_diplo.141.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.141.o1
		add_political_power = -50
	}
}
#catalonia wants to buy british dockyard contracts
country_event = {
	id = cat_diplo.142
	title = cat_diplo.142.t
	desc = cat_diplo.142.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.142.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.143
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.142.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.144
				days = 3
			}
		}
	}
}
#britain agrees
country_event = {
	id = cat_diplo.143
	title = cat_diplo.143.t
	desc = cat_diplo.143.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.143.o1
		add_offsite_building = {
			type = dockyard
			level = 3
		}
		add_timed_idea = {
			idea = idea_cat_buying_british_shipbuilding_stuff
			days = 120
		}
	}
}
#britain declines
country_event = {
	id = cat_diplo.144
	title = cat_diplo.144.t
	desc = cat_diplo.144.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.144.o1
		add_political_power = -50
	}
}
#catalonia wants to buy polish steel
country_event = {
	id = cat_diplo.145
	title = cat_diplo.145.t
	desc = cat_diplo.145.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.145.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.146
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.145.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.147
				days = 3
			}
		}
	}
}
#poland agrees
country_event = {
	id = cat_diplo.146
	title = cat_diplo.146.t
	desc = cat_diplo.146.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.146.o1
		add_resource = {
			type = steel
			amount = 45
			state = 165
		}
		add_timed_idea = {
			idea = idea_cat_buying_polish_steel
			days = 120
		}
	}
}
#poland declines
country_event = {
	id = cat_diplo.147
	title = cat_diplo.147.t
	desc = cat_diplo.147.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.147.o1
		add_political_power = -50
	}
}
#catalonia wants to buy saudi oil
country_event = {
	id = cat_diplo.148
	title = cat_diplo.148.t
	desc = cat_diplo.148.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.148.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.149
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.148.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.150
				days = 3
			}
		}
	}
}
#saudi arabia agrees
country_event = {
	id = cat_diplo.149
	title = cat_diplo.149.t
	desc = cat_diplo.149.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.149.o1
		add_resource = {
			type = oil
			amount = 45
			state = 165
		}
		add_timed_idea = {
			idea = idea_cat_buying_saudi_oil
			days = 120
		}
	}
}
#saudi arabia declines
country_event = {
	id = cat_diplo.150
	title = cat_diplo.150.t
	desc = cat_diplo.150.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.150.o1
		add_political_power = -50
	}
}
#catalonia wants to buy yugoslav electronics
country_event = {
	id = cat_diplo.151
	title = cat_diplo.151.t
	desc = cat_diplo.151.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.151.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.152
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.151.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.153
				days = 3
			}
		}
	}
}
#yugoslavia agrees
country_event = {
	id = cat_diplo.152
	title = cat_diplo.152.t
	desc = cat_diplo.152.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.152.o1
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.75
			uses = 2
			category = electronics
		}
		add_timed_idea = {
			idea = idea_cat_buying_yugoslav_electronics
			days = 120
		}
	}
}
#yugoslavia declines
country_event = {
	id = cat_diplo.153
	title = cat_diplo.153.t
	desc = cat_diplo.153.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.153.o1
		add_political_power = -50
	}
}
#catalonia wants to buy australian mining technology
country_event = {
	id = cat_diplo.154
	title = cat_diplo.154.t
	desc = cat_diplo.154.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.154.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.155
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.154.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.156
				days = 3
			}
		}
	}
}
#australia agrees
country_event = {
	id = cat_diplo.155
	title = cat_diplo.155.t
	desc = cat_diplo.155.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.155.o1
		add_tech_bonus = {
			bonus = 0.75
			uses = 2
			category = excavation_tech
		}
		add_timed_idea = {
			idea = idea_cat_buying_aussie_mining_experts
			days = 120
		}
	}
}
#australia declines
country_event = {
	id = cat_diplo.156
	title = cat_diplo.156.t
	desc = cat_diplo.156.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.156.o1
		add_political_power = -50
	}
}
#catalonia wants Canadian investment
country_event = {
	id = cat_diplo.157
	title = cat_diplo.157.t
	desc = cat_diplo.157.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.157.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.158
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.157.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.159
				days = 3
			}
		}
	}
}
#canada agrees
country_event = {
	id = cat_diplo.158
	title = cat_diplo.158.t
	desc = cat_diplo.158.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.158.o1
		add_offsite_building = {
			type = industrial_complex
			level = 3
		}
	}
}
#canada declines
country_event = {
	id = cat_diplo.159
	title = cat_diplo.159.t
	desc = cat_diplo.159.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.159.o1
		add_political_power = -50
	}
}
#catalonia wants soviet advisors
country_event = {
	id = cat_diplo.160
	title = cat_diplo.160.t
	desc = cat_diplo.160.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.160.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.161
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.160.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.162
				days = 3
			}
		}
	}
}
#soviets agrees
country_event = {
	id = cat_diplo.161
	title = cat_diplo.161.t
	desc = cat_diplo.161.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.161.o1
		add_ideas = {
			idea_cat_soviet_advisors
		}
	}
}
#soviets declines
country_event = {
	id = cat_diplo.162
	title = cat_diplo.162.t
	desc = cat_diplo.162.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.162.o1
		add_political_power = -50
	}
}
#catalonia wants russian advisors
country_event = {
	id = cat_diplo.163
	title = cat_diplo.163.t
	desc = cat_diplo.163.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.163.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.164
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.163.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.165
				days = 3
			}
		}
	}
}
#russia agrees
country_event = {
	id = cat_diplo.164
	title = cat_diplo.164.t
	desc = cat_diplo.164.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.164.o1
		add_ideas = {
			idea_cat_russian_advisors
		}
	}
}
#russia declines
country_event = {
	id = cat_diplo.165
	title = cat_diplo.165.t
	desc = cat_diplo.165.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.165.o1
		add_political_power = -50
	}
}
#catalonia wants to work with germany on tanks
country_event = {
	id = cat_diplo.166
	title = cat_diplo.166.t
	desc = cat_diplo.166.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.166.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.167
				days = 3
			}
		}
		add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = armor
		}
	}
	option = { #fuck off
		name = cat_diplo.166.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.168
				days = 3
			}
		}
	}
}
#Germany agrees
country_event = {
	id = cat_diplo.167
	title = cat_diplo.167.t
	desc = cat_diplo.167.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.167.o1
		add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = armor
		}
		add_ideas = {
			idea_cat_german_designers
		}
	}
}
#Germany declines
country_event = {
	id = cat_diplo.168
	title = cat_diplo.168.t
	desc = cat_diplo.168.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.168.o1
		add_political_power = -50
	}
}
#catalonia wants cuban medical
country_event = {
	id = cat_diplo.169
	title = cat_diplo.169.t
	desc = cat_diplo.169.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.169.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.170
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.169.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.171
				days = 3
			}
		}
	}
}
#Cuba agrees
country_event = {
	id = cat_diplo.170
	title = cat_diplo.170.t
	desc = cat_diplo.170.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.170.o1
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = hospital_tech
		}
		add_ideas = {
			idea_cat_cuban_medical_expertise
		}
	}
}
#Cuba declines
country_event = {
	id = cat_diplo.171
	title = cat_diplo.171.t
	desc = cat_diplo.171.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.171.o1
		add_political_power = -50
	}
}
#catalonia wants to join non alignment pact before cuba has made it a faction or guarantee
country_event = {
	id = cat_diplo.172
	title = cat_diplo.172.t
	desc = cat_diplo.172.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.172.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.173
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.172.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.174
				days = 3
			}
		}
	}
}
#Cuba agrees
country_event = {
	id = cat_diplo.173
	title = cat_diplo.173.t
	desc = cat_diplo.173.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.173.o1
		add_ideas = {
			idea_CUB_non_aligned_movement
		}
	}
}
#Cuba declines
country_event = {
	id = cat_diplo.174
	title = cat_diplo.174.t
	desc = cat_diplo.174.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.174.o1
		add_political_power = -50
		set_country_flag = cat_not_allowed_in_non_alignment_pact
	}
}
#catalonia wants to join non alignment pact when its guarantees
country_event = {
	id = cat_diplo.175
	title = cat_diplo.175.t
	desc = cat_diplo.175.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.175.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.176
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.175.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.177
				days = 3
			}
		}
	}
}
#Cuba agrees
country_event = {
	id = cat_diplo.176
	title = cat_diplo.176.t
	desc = cat_diplo.176.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.176.o1
		every_country = {
			limit = {
				has_idea = idea_CUB_non_aligned_movement
			}
			CAT = {
				give_guarantee = PREV
			}
		}
		every_country = {
			limit = {
				has_idea = idea_CUB_non_aligned_movement
			}
			give_guarantee = CAT
		}
		add_ideas = {
			idea_CUB_non_aligned_movement
		}
	}
}
#Cuba declines
country_event = {
	id = cat_diplo.177
	title = cat_diplo.177.t
	desc = cat_diplo.177.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.177.o1
		add_political_power = -50
		set_country_flag = cat_not_allowed_in_non_alignment_pact
	}
}
#catalonia wants to join non alignment pact when its guarantees
country_event = {
	id = cat_diplo.178
	title = cat_diplo.178.t
	desc = cat_diplo.178.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.178.o1
		ai_chance = {base = 100}
		CAT = {
			country_event = {
				id = cat_diplo.179
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.178.o2
		ai_chance = {base = 0}
		CAT = {
			country_event = {
				id = cat_diplo.180
				days = 3
			}
		}
	}
}
#Cuba agrees
country_event = {
	id = cat_diplo.179
	title = cat_diplo.179.t
	desc = cat_diplo.179.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.179.o1
		CUB = {
			add_to_faction = CAT
		}
	}
}
#Cuba declines
country_event = {
	id = cat_diplo.180
	title = cat_diplo.180.t
	desc = cat_diplo.180.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.180.o1
		add_political_power = -50
		set_country_flag = cat_not_allowed_in_non_alignment_pact
	}
}
#iberian revolution but portugal and catalonia are in a faction
country_event = {
	id = cat_diplo.181
	title = cat_diplo.181.t
	desc = cat_diplo.181.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.181.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.182
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.181.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.183
				days = 3
			}
		}
	}
}
#portugal agrees
country_event = {
	id = cat_diplo.182
	title = cat_diplo.182.t
	desc = cat_diplo.182.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.182.o1
		annex_country = {
			target = POR
			transfer_troops = yes
		}
	}
}
#portugal declines
country_event = {
	id = cat_diplo.183
	title = cat_diplo.183.t
	desc = cat_diplo.183.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.183.o1
		add_political_power = -50
		leave_faction = yes
		declare_war_on = {
			target = POR
			type = annex_everything
		}
	}
}
#iberian revolution but basques and catalonia are in a faction
country_event = {
	id = cat_diplo.184
	title = cat_diplo.184.t
	desc = cat_diplo.184.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.184.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.185
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.184.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.186
				days = 3
			}
		}
	}
}
#basques agrees
country_event = {
	id = cat_diplo.185
	title = cat_diplo.185.t
	desc = cat_diplo.185.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.185.o1
		annex_country = {
			target = BSQ
			transfer_troops = yes
		}
	}
}
#basques declines
country_event = {
	id = cat_diplo.186
	title = cat_diplo.186.t
	desc = cat_diplo.186.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.186.o1
		add_political_power = -50
		leave_faction = yes
		declare_war_on = {
			target = BSQ
			type = annex_everything
		}
	}
}
#iberian revolution but galicians and catalonia are in a faction
country_event = {
	id = cat_diplo.187
	title = cat_diplo.187.t
	desc = cat_diplo.187.d
	picture = x

	is_triggered_only = yes

	option = { #fine
		name = cat_diplo.187.o1
		ai_chance = {base = 80}
		CAT = {
			country_event = {
				id = cat_diplo.188
				days = 3
			}
		}
	}
	option = { #fuck off
		name = cat_diplo.187.o2
		ai_chance = {base = 20}
		CAT = {
			country_event = {
				id = cat_diplo.189
				days = 3
			}
		}
	}
}
#galicians agrees
country_event = {
	id = cat_diplo.188
	title = cat_diplo.188.t
	desc = cat_diplo.188.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.188.o1
		annex_country = {
			target = GAL
			transfer_troops = yes
		}
	}
}
#galicians declines
country_event = {
	id = cat_diplo.189
	title = cat_diplo.189.t
	desc = cat_diplo.189.d
	picture = x

	is_triggered_only = yes

	option = {
		name = cat_diplo.189.o1
		add_political_power = -50
		leave_faction = yes
		declare_war_on = {
			target = GAL
			type = annex_everything
		}
	}
}

#catalonia joins the eu
news_event = {
	id = cat_news.1
	title = cat_news.1.t
	desc = cat_news.1.d
	picture = x
	
	is_triggered_only = yes
	major = yes
	
	option = {
		name = cat_news.1.o1
	}
}

