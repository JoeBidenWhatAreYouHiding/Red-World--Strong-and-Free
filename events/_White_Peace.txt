add_namespace = white
add_namespace = white_alaska
add_namespace = white_hawaii


########################
# Mexican White Peaces #
########################



country_event = { # Mexico losing - Peace with America?
	id = white.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.1"}
	title = white.1.t
	desc = white.1.d
	picture = iowa_protests

	trigger = {
		original_tag = MEX
		MEX = {
			OR = {
			has_war_with = USA
			has_war_with = NEA
			has_war_with = PCA
			has_war_with = MWA
			has_war_with = TEX
			}
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 376
				owns_state = 894
			}
		}
		OR = {
		USA = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 376
				controls_state = 894
				}
			}
		NEA = {
			NOT = { has_cosmetic_tag = GAU }
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 376
				controls_state = 894
				}
			}
		PCA = {
			NOT = { has_completed_focus = PCA_liberate_mexico }
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 376
				controls_state = 894
				}
			}
		MWA = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 376
				controls_state = 894
				}
			}
		TEX = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 376
				controls_state = 894
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes

	option = {
		name = white.1.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { USA = { has_war_with = MEX } } 
		USA = {
			country_event = white.2
			}
		}
		IF = { limit = { NEA = { has_war_with = MEX } } 
		NEA = {
			country_event = white.2
			}
		}
		IF = { limit = { PCA = { has_war_with = MEX } } 
		PCA = {
			country_event = white.2
			}
		}
		IF = { limit = { MWA = { has_war_with = MEX } } 
		MWA = {
			country_event = white.2
			}
		}
		IF = { limit = { TEX = { has_war_with = MEX } } 
		TEX = {
			country_event = white.2
			}
		}
	}
	option = {
		name = white.1.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}
}

country_event = { # America winning - Mexico wants peace
	id = white.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.2"}
	title = white.2.t
	desc = white.2.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.2.o1
		ai_chance = {
			factor = 40
		}
		white_peace = MEX
		if = {
			limit = {				
				MEX = {
					owns_state = 894
					owns_state = 376
				}
			}
		if = {
			limit = {
			original_tag = USA
			}
			USA = {
			transfer_state = 894
			transfer_state = 376
			}
		}
		if = {
			limit = {
			original_tag = NEA
			}
			NEA = {
			transfer_state = 894
			transfer_state = 376
			}
		}
		if = {
			limit = {
			original_tag = PCA
			}
			PCA = {
			transfer_state = 894
			transfer_state = 376
			}
		}
		if = {
			limit = {
			original_tag = MWA
			}
			MWA = {
			transfer_state = 894
			transfer_state = 376
			}
		}
		if = {
			limit = {
			original_tag = TEX
			}
			TEX = {
			transfer_state = 894
			transfer_state = 376
				}
			}
		}
	}
	option = {
		name = white.2.o2
		ai_chance = {
			factor = 0
		}
		MEX = {
			country_event = white.3
		}
		add_political_power = -75
	}
}

country_event = { # Mexico losing - America refuses peace
	id = white.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.3"}
	title = white.3.t
	desc = white.3.d
	picture = european_army
	
	is_triggered_only = yes
	
	option = {
		name = white.3.o1
		add_war_support = 0.05
	}
}

#########################
# Canadian White Peaces #
#########################



country_event = { # Canada losing - Peace with America?
	id = white.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.4"}
	title = white.4.t
	desc = white.4.d
	picture = iowa_protests

	trigger = {
		original_tag = CAN
		CAN = {
			OR = {
			has_war_with = USA
			has_war_with = NEA
			has_war_with = PCA
			has_war_with = MWA
			}
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 473
				owns_state = 276
				owns_state = 468
			}
		}
		OR = {
		USA = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 473
				controls_state = 276
				controls_state = 468
				}
			}
		NEA = {
			NOT = { has_cosmetic_tag = GAU }
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 473
				controls_state = 276
				controls_state = 468
				}
			}
		PCA = {
			NOT = { has_completed_focus = PCA_liberate_mexico }
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 473
				controls_state = 276
				controls_state = 468
				}
			}
		MWA = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 473
				controls_state = 276
				controls_state = 468
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes

	option = {
		name = white.4.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { USA = { has_war_with = CAN } } 
		USA = {
			country_event = white.5
			}
		}
		IF = { limit = { NEA = { has_war_with = CAN } } 
		NEA = {
			country_event = white.5
			}
		}
		IF = { limit = { PCA = { has_war_with = CAN } } 
		PCA = {
			country_event = white.5
			}
		}
		IF = { limit = { MWA = { has_war_with = CAN } } 
		MWA = {
			country_event = white.5
			}
		}
	}
	option = {
		name = white.4.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.05
	}
}

country_event = { # America winning - Canada wants peace
	id = white.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.5"}
	title = white.5.t
	desc = white.5.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.5.o1
		ai_chance = {
			factor = 40
		}
		white_peace = CAN
		CAN = {
			every_owned_state = {
				limit = { is_mainland_us_state = yes }
				ROOT = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
			ALA = {
			is_in_faction_with = CAN
				}
			}
			ALA = {
			country_event = white_alaska.1
			separate_peace_all_wars = yes
			}
			CAN = {
			remove_from_faction = ALA
			end_puppet = ALA
			}
		}

		if = {
			limit = {
			HAW = {
			is_in_faction_with = CAN
				}
			}
			HAW = {
			country_event = white_hawaii.1
			separate_peace_all_wars = yes
			}
			CAN = {
			remove_from_faction = HAW
			}
		}
	}

	option = {
		name = white.5.o2
		ai_chance = {
			factor = 0
		}
		CAN = {
			country_event = white.6
		}
		add_political_power = -75
	}
}

country_event = { # Canada losing - America refuses peace
	id = white.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event white.6"}
	title = white.6.t
	desc = white.6.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.3.o1
		add_war_support = 0.05
	}
}

country_event = { # Canada losing - Alaska 
	id = white_alaska.1
	title = white_alaska.1.t
	desc = white_alaska.1.d
	picture = CSD_orecorp_merging_the_branches
	
	is_triggered_only = yes
	
	option = {
		name = white_alaska.1.o1
		IF = { limit = { USA = { has_country_flag = the_united_states_are_back } } 
		USA = {
			annex_country = {target = ALA}
			}
		}
		IF = { limit = { NEA = { has_country_flag = the_united_states_are_back } } 
		NEA = {
			annex_country = {target = ALA}
			}
		}
		IF = { limit = { AMC = { has_country_flag = the_united_states_are_back } } 
		AMC = {
			annex_country = {target = ALA}
			}
		}
		IF = { limit = { PCA = { has_country_flag = the_united_states_are_back } } 
		PCA = {
			annex_country = {target = ALA}
			}
		}
		IF = { limit = { MWA = { has_country_flag = the_united_states_are_back } } 
		MWA = {
			annex_country = {target = ALA}
			}
		}
		ai_chance = {
			factor = 40
		}
	}

	option = {
		name = white_alaska.1.o2
		add_war_support = 0.05
		IF = { limit = { USA = { has_country_flag = the_united_states_are_back } } 
		USA = {
			country_event = white_alaska.2
			}
		}
		IF = { limit = { NEA = { has_country_flag = the_united_states_are_back } } 
		NEA = {
			country_event = white_alaska.2
			}
		}
		IF = { limit = { NEA = { has_country_flag = the_united_states_are_back } } 
		AMC = {
			country_event = white_alaska.2
			}
		}
		IF = { limit = { PCA = { has_country_flag = the_united_states_are_back } } 
		PCA = {
			country_event = white_alaska.2
			}
		}
		IF = { limit = { MWA = { has_country_flag = the_united_states_are_back } } 
		MWA = {
			country_event = white_alaska.2
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { # Canada losing - Alaska Declines
	id = white_alaska.2
	title = white_alaska.2.t
	desc = white_alaska.2.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white_alaska.2.o1
		declare_war_on = {
    	target = ALA
    	type = annex_everything
		}
	}
}

country_event = { # Canada losing - Hawaii
	id = white_hawaii.1
	title = white_hawaii.1.t
	desc = white_hawaii.1.d
	picture = CSD_orecorp_merging_the_branches
	
	is_triggered_only = yes
	
	option = {
		name = white.hawaii.1.o1
		IF = { limit = { USA = { has_country_flag = the_united_states_are_back } } 
		USA = {
			annex_country = {target = HAW}
			}
		}
		IF = { limit = { NEA = { has_country_flag = the_united_states_are_back } } 
		NEA = {
			annex_country = {target = HAW}
			}
		}
		IF = { limit = { AMC = { has_country_flag = the_united_states_are_back } } 
		AMC = {
			annex_country = {target = HAW}
			}
		}
		IF = { limit = { PCA = { has_country_flag = the_united_states_are_back } } 
		PCA = {
			annex_country = {target = HAW}
			}
		}
		IF = { limit = { MWA = { has_country_flag = the_united_states_are_back } } 
		MWA = {
			annex_country = {target = HAW}
			}
		}
		ai_chance = {
			factor = 40
		}
	}

	option = {
		name = white_hawaii.1.o2
		add_war_support = 0.05
		IF = { limit = { USA = { has_country_flag = the_united_states_are_back } } 
		USA = {
			country_event = white_hawaii.2
			}
		}
		IF = { limit = { NEA = { has_country_flag = the_united_states_are_back } } 
		NEA = {
			country_event = white_hawaii.2
			}
		}
		IF = { limit = { AMC = { has_country_flag = the_united_states_are_back } } 
		AMC = {
			country_event = white_hawaii.2
			}
		}
		IF = { limit = { PCA = { has_country_flag = the_united_states_are_back } } 
		PCA = {
			country_event = white_hawaii.2
			}
		}
		IF = { limit = { MWA = { has_country_flag = the_united_states_are_back } } 
		MWA = {
			country_event = white_hawaii.2
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { # Canada losing - Hawaii Declines
	id = white_hawaii.2
	title = white_hawaii.2.t
	desc = white_hawaii.2.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white_hawaii.2.o1
		declare_war_on = {
    	target = HAW
    	type = annex_everything
		}
	}
}

########################
# Turkey White Peaces  #
########################



country_event = { # Turkey losing - Peace with Syria?
	id = white.7
	title = white.7.t
	desc = white.7.d
	picture = iowa_protests

	trigger = {
		original_tag = TUR
		TUR = {
			has_war_with = SYR
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 827
			}
		}
		SYR = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 827
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.7.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { TUR = { has_war_with = SYR } } 
		SYR = {
			country_event = white.8
			}
		}
	}
	option = {
		name = white.7.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}

}

country_event = { # Syria winning - Turkey wants peace
	id = white.8
	title = white.8.t
	desc = white.8.d
	picture = syr_victory_in_hatay

	is_triggered_only = yes

	option = {
		name = white.8.o1
		ai_chance = {
			factor = 40
		}
		white_peace = TUR
		if = {
			limit = {				
				TUR = {
					owns_state = 827
				}
			}
		if = {
			limit = {
			original_tag = SYR
			}
			SYR = {
			transfer_state = 827
				}
			}
		}
	}
	option = {
		name = white.8.o2
		ai_chance = {
			factor = 0
		}
		TUR = {
			country_event = white.9
		}
		add_political_power = -75
	}
}

country_event = { # Turkey losing - Syria refuses peace
	id = white.9
	title = white.9.t
	desc = white.9.d
	picture = tur_defeat_in_hatay
	
	is_triggered_only = yes
	
	option = {
		name = white.9.o1
		add_war_support = 0.05
	}
}

##########################
#  Cascadia White Peaces #
##########################



country_event = { # Canada losing - Peace with Cascadia?
	id = white.10
	title = white.10.t
	desc = white.10.d
	picture = iowa_protests

	trigger = {
		original_tag = CAN
		CAN = {
			has_war_with = CSD
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 473
				owns_state = 471
				owns_state = 740
				owns_state = 470
			}
		}
		ALA = {
			has_war_with = ALA
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 1013
				owns_state = 1014
				owns_state = 463
			}
		}
		CSD = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 473
				controls_state = 471
				controls_state = 740
				controls_state = 1013
				controls_state = 1014
				controls_state = 463
				controls_state = 470
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.10.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { CAN = { has_war_with = CSD } } 
		CSD = {
			country_event = white.11
			}
		}
	}
	option = {
		name = white.10.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}

}

country_event = { # Cascadia winning - Canada wants peace
	id = white.11
	title = white.11.t
	desc = white.11.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.11.o1
		ai_chance = {
			factor = 40
		}
		white_peace = CAN
		if = {
		limit = {
			ALA = { is_in_faction_with = CAN }
			}
			CAN = { remove_from_faction = ALA }
		}
		if = {
			limit = {				
				CAN = {
					owns_state = 473
					owns_state = 471
					owns_state = 740
				}
				ALA = {
					owns_state = 1013
					owns_state = 1014
					owns_state = 463
				}
			}
		if = {
			limit = {
			original_tag = CSD
			}
			CSD = {
				transfer_state = 473
				transfer_state = 471
				transfer_state = 740
				annex_country = { target = ALA }
				}
			}
		}
	}
	option = {
		name = white.11.o2
		ai_chance = {
			factor = 0
		}
		CAN = {
			country_event = white.12
		}
		add_political_power = -75
	}
}

country_event = { # Canada losing - Cascadia refuses peace
	id = white.12
	title = white.12.t
	desc = white.12.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.9.o1
		add_war_support = 0.05
	}
}

##############################
#  New England White Peaces  #
##############################



country_event = { # Canada losing - Peace with New England?
	id = white.13
	title = white.13.t
	desc = white.13.d
	picture = iowa_protests

	trigger = {
		original_tag = CAN
		CAN = {
			has_war_with = AMC
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must own some of the disputed states
				owns_state = 465
				owns_state = 464
			}
		}
		AMC = {
			has_completed_focus = AMC_claim_greater_new_england
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = { # Must be occupying key regions
				controls_state = 465
				controls_state = 464
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.13.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { CAN = { has_war_with = AMC } } 
		AMC = {
			country_event = white.14
			}
		}
	}
	option = {
		name = white.13.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}

}

country_event = { # New England winning - Canada wants peace
	id = white.14
	title = white.14.t
	desc = white.14.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.14.o1
		ai_chance = {
			factor = 40
		}
		white_peace = CAN
		if = {
			limit = {				
				CAN = {
					owns_state = 465
					owns_state = 464
				}
			}
		if = {
			limit = {
			original_tag = AMC
			}
			AMC = {
				transfer_state = 465
				transfer_state = 464
				}
			}
		}
	}
	option = {
		name = white.14.o2
		ai_chance = {
			factor = 0
		}
		CAN = {
			country_event = white.15
		}
		add_political_power = -75
	}
}

country_event = { # Canada losing - New England refuses peace
	id = white.15
	title = white.15.t
	desc = white.15.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.15.o1
		add_war_support = 0.05
	}
}

##############################
#  	   Cuba White Peaces     #
##############################



country_event = { # Cuba losing - Peace with Dominican Republic?
	id = white.16
	title = white.16.t
	desc = white.16.d
	picture = iowa_protests

	trigger = {
		original_tag = CUB
		CUB = {
			has_war_with = DOM
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = {
			war_length_with = {
    		tag = DOM
    		months > 24
				}
			CUB = { surrender_progress > 0.25 }
			}
		}
		DOM = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.16.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { CUB = { has_war_with = DOM } } 
		DOM = {
			country_event = white.17
			}
		}
	}
	option = {
		name = white.16.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}

}

country_event = { # Dominican Republic winning - Cuba wants peace
	id = white.17
	title = white.17.t
	desc = white.17.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.17.o1
		ai_chance = {
			factor = 40
		}
		every_country = {
			limit = {
				OR = {
					tag = CUB
					is_in_faction_with = CUB
				}
			}
			white_peace = {
				tag = ROOT
			}
		}
		add_ideas = idea_war_reparations_pos
		CUB = {
		add_ideas = idea_war_reparations_neg
		}
		add_war_support = 0.05
		add_stability = 0.05
		CUB = {
			add_popularity = {
				ideology = CUB
				popularity = -0.1
			}
		}
	}
	option = {
		name = white.17.o2
		ai_chance = {
			factor = 0
		}
		CUB = {
			country_event = white.18
		}
		add_political_power = -75
	}
}

country_event = { # Cuba losing - Dominican Republic refuses peace
	id = white.18
	title = white.18.t
	desc = white.18.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.18.o1
		add_war_support = 0.05
	}
}

country_event = { # Cuba losing - Peace with Venezuela?
	id = white.19
	title = white.19.t
	desc = white.19.d
	picture = iowa_protests

	trigger = {
		original_tag = CUB
		CUB = {
			has_war_with = VEN
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
			OR = {
			war_length_with = {
    		tag = VEN
    		months > 24
				}
			CUB = { surrender_progress > 0.25 }
			}
		}
		VEN = {
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.19.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { CUB = { has_war_with = VEN } } 
		VEN = {
			country_event = white.20
			}
		}
	}
	option = {
		name = white.19.o2
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_war_support = -0.05
		add_stability = -0.1
	}

}

country_event = { # Venezuela winning - Cuba wants peace
	id = white.20
	title = white.20.t
	desc = white.20.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.20.o1
		ai_chance = {
			factor = 40
		}
		every_country = {
			limit = {
				OR = {
					tag = CUB
					is_in_faction_with = CUB
				}
			}
			white_peace = {
				tag = ROOT
			}
		}
		add_ideas = idea_war_reparations_pos
		CUB = {
		add_ideas = idea_war_reparations_neg
		}
		add_war_support = 0.05
		add_stability = 0.05
		CUB = {
			add_popularity = {
				ideology = CUB
				popularity = -0.1
			}
		}
	}
	option = {
		name = white.20.o2
		ai_chance = {
			factor = 0
		}
		CUB = {
			country_event = white.21
		}
		add_political_power = -75
	}
}

country_event = { # Cuba losing - Venezuela refuses peace
	id = white.21
	title = white.21.t
	desc = white.21.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.21.o1
		add_war_support = 0.05
	}
}

##############################
#  	  Spain White Peaces     #
##############################



country_event = { # Catalonia winning - Peace with Spain?
	id = white.22
	title = white.22.t
	desc = white.22.d
	picture = iowa_protests

	trigger = {
		original_tag = CAT
		has_country_flag = catalonia_going_for_paisos
		SPR = {
			surrender_progress > 0.40
			has_defensive_war_with = CAT
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
		}
		CAT = {
			OR = {
				controls_state = 167
				controls_state = 177
			}
			is_puppet = no # Can't be a subject
			OR = {
				is_faction_leader = yes # Must be faction leader
				is_in_faction = no # Or not be in a faction
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	fire_only_once = yes

	option = {
		name = white.22.o1
		ai_chance = {
			factor = 40
		}
		IF = { limit = { CAT = { has_war_with = SPR } } 
		SPR = {
			country_event = white.23
			}
		}
	}
	option = {
		name = white.22.o2
		ai_chance = {
			base = 0
		}
		add_political_power = -25
		add_war_support = -0.05
		add_stability = -0.05
	}

}

country_event = { # Spain losing - Catalonia wants peace
	id = white.23
	title = white.23.t
	desc = white.23.d
	picture = CSD_orecorp_merging_the_branches

	is_triggered_only = yes

	option = {
		name = white.23.o1
		ai_chance = {
			factor = 40
		}
		white_peace = CAT
		CAT = {
			transfer_state = 167
			transfer_state = 177
			clr_country_flag = catalonia_going_for_paisos
		}
	}
	option = {
		name = white.23.o2
		ai_chance = {
			base = 0
			modifier = { is_in_faction = yes factor = 10 }
			modifier = {
        		CAT = {
        		has_radical_government = yes
        		}
        		factor = 10
    		}
			modifier = {
        		has_radical_government = yes
        		factor = 10
    		}
		}
		CAT = {
			country_event = white.24
			clr_country_flag = catalonia_going_for_paisos
		}
		add_political_power = -75
	}
}

country_event = { # Catalonia winning - Spain refuses peace
	id = white.24
	title = white.24.t
	desc = white.24.d
	picture = CSD_military_deployed_in_urban_regions
	
	is_triggered_only = yes
	
	option = {
		name = white.24.o1
		add_war_support = 0.05
	}
}