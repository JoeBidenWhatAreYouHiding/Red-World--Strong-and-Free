
add_namespace = mexico

# March on Mexico City
country_event = {
	id = mexico.2
	title = mexico.2.t
	desc = mexico.2.d

	is_triggered_only = yes

	option = { #The time has come for victory against the Cartels
		name = mexico.2.o1
		add_stability = -0.04
		add_political_power = 10
		hidden_effect = {
			country_event = {
				id = mexico.3
				days = 23
			}
		}
	}
	
	option = { #Make sure to take things slow
		name = mexico.2.o2
		add_stability = 0.04
		add_political_power = -10
	}
}

# Cartels react to Government Betrayal
country_event = {
	id = mexico.3
	title = mexico.3.t
	desc = mexico.3.d

	is_triggered_only = yes

	option = { #The time has come to teach them a lesson
		name = mexico.3.o1
		hidden_effect = {
			country_event = {
				id = mexico.4
				days = 10
			}
		}
	}
	
	option = { #The time has come to break away from them
		name = mexico.3.o2
		hidden_effect = {
			country_event = {
				id = mexico.6
				days = 10
			}
		}
	}
}

# Cartels March on Mexico City
country_event = {
	id = mexico.4
	title = mexico.4.t
	desc = mexico.4.d

	is_triggered_only = yes

	option = { #Horrifying
		name = mexico.4.o1
		add_stability = -0.10
		add_manpower = -1100
		MEX_emergency_congress = {
			promote_character = christian_democracy
		}
		hidden_effect = {
			country_event = {
				id = mexico.5
				days = 10
			}
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.25
				}
			}
		}
	}
}

# The Government has Failed
country_event = {
	id = mexico.5
	title = mexico.5.t
	desc = mexico.5.d
	
	immediate = {
		hidden_effect = {
			MEX_salvador_cienfuegos = { 
				set_nationality = RIO
			}
			RIO = {
				set_cosmetic_tag = MEX_narco_state
				MEX_salvador_cienfuegos = {
					promote_character = military_dictatorship
					add_country_leader_role = {
						country_leader={
							ideology=military_dictatorship
							expire="1.1.1.1"
							id=-1
						}
						promote_leader = yes
					}
				}
				set_party_name = {
					name = RIO_junta_party
					long_name = RIO_junta_party
					ideology = fascist
				}
				set_politics = {
					ruling_party = fascist
				}
				add_popularity = {
					ideology = fascist
					popularity = 0.4
				}
			}
			RIO = {
				set_country_flag = released_in_drug_war
				
				transfer_state = 894
				transfer_state = 480
				transfer_state = 479
				transfer_state = 482
				transfer_state = 376
			}
			transfer_units_fraction = {
				target = RIO
				size = 0.25
				stockpile_ratio = 0.5
				keep_unit_leaders_trigger = { always = yes }
			}
			declare_war_on = { target = RIO type = annex_everything }
			MEX_francisco_javier_alvarez = {
				promote_character = synarchist
			}
			set_party_name = {
				long_name = MEX_synarchism_party_long
				name = MEX_synarchism_party
				ideology = fascist
			}
			remove_ideas = MEX_Narco_State
			remove_ideas = MEX_Cartel_Dominance
			RIO = {
				add_ideas = MEX_Narco_State
				add_ideas = MEX_Nueva_Mexico_Occupation
				add_ideas = MEX_War_On_Drugs_Cartel
				add_ideas = MEX_American_Refugees
			}
			add_ideas = MEX_War_On_Drugs
			every_state = {
				limit = { is_core_of = MEX }
				RIO = { add_state_core = PREV }
			}
			RIO = {
				division_template = {
					name = "Sinaloa Cartel Guards"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
						owner = event_target:nueva_mexico_target
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1  start_equipment_factor = 0.8"
						owner = event_target:nueva_mexico_target
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
						owner = event_target:nueva_mexico_target
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
						owner = event_target:nueva_mexico_target
					}
				}
			}
		}
	}
			

	is_triggered_only = yes

	option = { #Communists Seize Control
		name = mexico.5.o1
		set_politics = {
			ruling_party = communist
		}
		add_popularity = {
			ideology = communist
			popularity = 0.3
		}
		set_cosmetic_tag = MEX_revolutionary
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
	}
	
	option = { #Revolutionary Anarchists Seize Control
		name = mexico.5.o2
		set_politics = {
			ruling_party = national_bolshevik
		}
		add_popularity = {
			ideology = national_bolshevik
			popularity = 0.3
		}
		set_cosmetic_tag = MEX_revolutionary
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
	}
	
	option = { #Zapatistas Seize Control
		name = mexico.5.o3
		set_politics = {
			ruling_party = revolutionary_socialist
		}
		add_popularity = {
			ideology = revolutionary_socialist
			popularity = 0.3
		}
		set_cosmetic_tag = MEX_revolutionary
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
	}
	
	option = { #Synarchists Seize Control
		name = mexico.5.o4
		set_politics = {
			ruling_party = fascist
		}
		add_popularity = {
			ideology = fascist
			popularity = 0.3
		}
		set_cosmetic_tag = MEX_fascist_synarchist
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
	}
	
	option = { #Iturbide Monarchists Seize Control
		name = mexico.5.o5
		set_politics = {
			ruling_party = monarchist
		}
		add_popularity = {
			ideology = monarchist
			popularity = 0.3
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
	}
	
	option = { #Moctemzuma Monarchists Seize Control
		name = mexico.5.o5
		set_politics = {
			ruling_party = monarchist
		}
		add_popularity = {
			ideology = monarchist
			popularity = 0.3
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.26
				}
			}
		}
		MEX_moctezuma_iii = {
			promote_character = absolute_monarchist
		}
		set_party_name = {
			name = MEX_moctemzuma_party
			long_name = MEX_moctemzuma_party_long
			ideology = monarchist
		}
	}
}

# Cartels Seize New Mexico
country_event = {
	id = mexico.6
	title = mexico.6.t
	desc = mexico.6.d

	is_triggered_only = yes

	option = { #Horrifying
		name = mexico.6.o1
		create_dynamic_country = {	#New Mexico
			original_tag = ARI
			copy_tag = ARI
			
			save_global_event_target_as = nueva_mexico_target

			### Politics
			set_popularities = {
				fascist = 35
				nationalist = 0
				monarchist = 0
				national_bolshevik = 0
				national_conservative = 5
				centrist = 15
				liberal = 15
				new_democrat = 15
				moderate_socialist = 10
				revolutionary_socialist = 5
				communist = 0
			}
			set_party_name = {
				ideology = fascist
				long_name = MEX_fascist_party
				name = MEX_fascist_party
			}
			set_politics = {
				ruling_party = fascist
				elections_allowed = no
			}
			set_cosmetic_tag = NMX
		}
		event_target:nueva_mexico_target = {
			transfer_state = 376
			add_state_core = 376
		}
		MEX_joaquin_guzman = { 
			set_nationality = event_target:nueva_mexico_target 
			set_portraits = {
				civilian = { large = "gfx/leaders/MEX/Portrait_MEX_Joaquin_Guzman.png" }
			}
		}
		event_target:nueva_mexico_target = {
			MEX_joaquin_guzman = {
				promote_character = corporate
				add_country_leader_role = {
					country_leader={
						ideology=corporate
						expire="1.1.1.1"
						id=-1
					}
					promote_leader = yes
				}
			}
		}
		declare_war_on = { target = event_target:nueva_mexico_target type = annex_everything }
		event_target:nueva_mexico_target = {
			division_template = {
				name = "Sinaloa Cartel Guards"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					owner = event_target:nueva_mexico_target
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1  start_equipment_factor = 0.8"
					owner = event_target:nueva_mexico_target
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					owner = event_target:nueva_mexico_target
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Cartel Members\" division_template = \"Sinaloa Cartel Guards\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
					owner = event_target:nueva_mexico_target
				}
			}
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.27
				}
			}
		}
	}
}

# Cartels Seize Mexico
country_event = {
	id = mexico.7
	title = mexico.7.t
	desc = mexico.7.d

	fire_only_once = yes
	trigger = {
		tag = RIO
		owns_state = 277
		has_country_flag = released_in_drug_war
		MEX = {
			exists = no
		}
	}

	option = { #Maintain the Ruse
		name = mexico.7.o1
		every_state = {
			limit = { is_core_of = MEX }
			MEX = { remove_state_core = PREV }
		}
		remove_ideas = MEX_War_On_Drugs_Cartel
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.28
				}
			}
		}
	}
	
	option = { #El Chapo in Charge
		name = mexico.7.o2
		every_state = {
			limit = { is_core_of = MEX }
			MEX = { remove_state_core = PREV }
		}
		remove_ideas = MEX_War_On_Drugs_Cartel
		MEX = {
			MEX_joaquin_guzman = { 
				set_nationality = RIO 
				set_portraits = {
					civilian = { large = "gfx/leaders/MEX/Portrait_MEX_Joaquin_Guzman_President.png" }
				}
				set_character_name = "Joaquín Guzmán"
			}
		}
		set_party_name = {
			name = MEX_fascist_party
			long_name = MEX_fascist_party
			ideology = fascist
		}
		MEX_joaquin_guzman = {
			promote_character = corporate
			add_country_leader_role = {
				country_leader={
					ideology=corporate
					expire="1.1.1.1"
					id=-1
				}
				promote_leader = yes
			}
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.29
				}
			}
		}
	}
	
	option = { #Puppet Presidency
		name = mexico.7.o3
		every_state = {
			limit = { is_core_of = MEX }
			MEX = { remove_state_core = PREV }
		}
		remove_ideas = MEX_War_On_Drugs_Cartel
		MEX = {
			MEX_manuel_bartlett = { 
				set_nationality = RIO 
			}
		}
		MEX_manuel_bartlett = {
			promote_character = corporate
			add_country_leader_role = {
				country_leader={
					ideology=corporate
					expire="1.1.1.1"
					id=-1
				}
				promote_leader = yes
			}
		}
		set_party_name = {
			name = MEX_centrist_party
			long_name = MEX_centrist_party_long
			ideology = fascist
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.30
				}
			}
		}
		set_cosmetic_tag = RIO_MEX
	}
}

# 2012 Elections
country_event = {
	id = mexico.8
	title = mexico.8.t
	desc = mexico.8.d
	
	trigger = {
		OR = {
			has_government = moderate_socialist
			has_government = new_democrat
			has_government = liberal
			has_government = centrist
			has_government = national_conservative
			has_government = nationalist
		}
	}
	
	immediate = {
		hidden_effect = {
			MEX_ricardo_anaya = {
				promote_character = christian_democracy
			}
			MEX_enrique_pena_nieto = {
				promote_character = centrist_ideology
			}
		}
	}

	is_triggered_only = yes

	option = { #PRI
		name = mexico.8.o1
		set_politics = {
			ruling_party = centrist
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.2
		}
	}
	
	option = { #Citizens Movement
		name = mexico.8.o2
		set_politics = {
			ruling_party = liberal
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.2
		}
	}
	
	option = { #PRD
		name = mexico.8.o3
		set_politics = {
			ruling_party = new_democrat
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.2
		}
	}
	
	option = { #Labor
		name = mexico.8.o4
		set_politics = {
			ruling_party = moderate_socialist
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.2
		}
	}
	
	option = { #PAN
		name = mexico.8.o5
		set_politics = {
			ruling_party = national_conservative
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.2
		}
	}
}

# 2018 Elections
country_event = {
	id = mexico.9
	title = mexico.9.t
	desc = mexico.9.d
	
	trigger = {
		OR = {
			has_government = moderate_socialist
			has_government = new_democrat
			has_government = liberal
			has_government = centrist
			has_government = national_conservative
			has_government = nationalist
		}
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_government = national_conservative }
				MEX_josefina_vazquez_mota = {
					promote_character = christian_democracy
				}
			}
			if = {
				limit = { has_government = centrist }
				MEX_jose_antonio_meade = {
					promote_character = centrist_ideology
				}
			}
			if = {
				limit = { has_government = liberal }
				MEX_jorge_alvarez_maynez = {
					promote_character = social_liberal
				}
			}
			if = {
				limit = { has_government = new_democrat }
				MEX_claudia_sheinbaum = {
					promote_character = new_democrat_ideology
				}
			}
		}
	}

	is_triggered_only = yes

	option = { #PRI
		name = mexico.9.o1
		set_politics = {
			ruling_party = centrist
		}
		add_popularity = {
			ideology = centrist
			popularity = 0.2
		}
	}
	
	option = { #Citizens Movement
		name = mexico.9.o2
		set_politics = {
			ruling_party = liberal
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.2
		}
	}
	
	option = { #PRD
		name = mexico.9.o3
		set_politics = {
			ruling_party = new_democrat
		}
		add_popularity = {
			ideology = new_democrat
			popularity = 0.2
		}
	}
	
	option = { #Labor
		name = mexico.9.o4
		set_politics = {
			ruling_party = moderate_socialist
		}
		add_popularity = {
			ideology = moderate_socialist
			popularity = 0.2
		}
	}
	
	option = { #PAN
		name = mexico.9.o5
		set_politics = {
			ruling_party = national_conservative
		}
		add_popularity = {
			ideology = national_conservative
			popularity = 0.2
		}
	}
}

# Drug War Fails
country_event = {
	id = mexico.10
	title = mexico.10.t
	desc = mexico.10.d

	fire_only_once = yes
	trigger = {
		tag = MEX
		owns_state = 894
		RIO = {
			has_country_flag = released_in_drug_war
			exists = no
		}
	}

	option = { #The Drug War moves Underground Once More
		name = mexico.10.o1
		add_ideas = MEX_Cartel_Dominance
		remove_ideas = MEX_War_On_Drugs
		RIO = {
			clr_country_flag = released_in_drug_war
		}
		hidden_effect = {
			every_country = {
				news_event = {
					hours = 4
					id = rwmex_news.31
				}
			}
		}
	}
}

add_namespace = rwmex_news

### News Events ###

news_event = {	#Cartels Murder Mexican President
	id = rwmex_news.25
	title = rwmex_news.25.t
	desc = rwmex_news.25.d
	picture = mexican_president_murdered
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.25.o1
	}
}

news_event = {	#Cartel Uprising
	id = rwmex_news.26
	title = rwmex_news.26.t
	desc = rwmex_news.26.d
	picture = cienfuegos_rebellion
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.26.o1
	}
}

news_event = {	#Cartels Seize New Mexico
	id = rwmex_news.27
	title = rwmex_news.27.t
	desc = rwmex_news.27.d
	picture = nueva_mexico_uprising
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.27.o1
	}
}

news_event = {	#Cartels Win the War on Drugs
	id = rwmex_news.28
	title = rwmex_news.28.t
	desc = rwmex_news.28.d
	picture = cienfuegos_victory
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.28.o1
	}
}

news_event = {	#El Chapo Wins the War on Drugs
	id = rwmex_news.29
	title = rwmex_news.29.t
	desc = rwmex_news.29.d
	picture = el_chapo_victory
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.29.o1
	}
}

news_event = {	#Cartels Puppet Mexican Democracy
	id = rwmex_news.30
	title = rwmex_news.30.t
	desc = rwmex_news.30.d
	picture = president_bartlett
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.30.o1
	}
}

news_event = {	#Cartel Uprising Defeated
	id = rwmex_news.31
	title = rwmex_news.31.t
	desc = rwmex_news.31.d
	picture = narco_rebellion_crushed
	
	is_triggered_only = yes 
	
	option = {
		name = rwmex_news.31.o1
	}
}