CAT_joining_alliances = {
	
	CAT_join_the_democratic_league = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_canada_refused_to_ally_us
			}
			CAN = {
				is_faction_leader = yes
			}
		}
		available = {
			OR = {
				has_government = new_democrat
				AND = {
					has_government = moderate_socialist
					#has_completed_focus = CAT_struggle_democracy
				}
				has_government = centrist
				has_government = national_conservative
				has_government = nationalist
				has_government = liberal
			}
		}
		complete_effect = {
			CAN = {
				country_event = {
					id = cat_diplo.46
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_italians = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = CAT_italy_refused_to_ally_us
			}
			ITA = {
				is_faction_leader = yes
			}
		}
		available = {
			#has_completed_focus = CAT_draw_closer_to_italy
		}
		complete_effect = {
			ITA = {
				country_event = {
					id = cat_diplo.74
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_moscow_accords_sov = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_russia_refused_to_ally_us
			}
			SOV = {
				is_faction_leader = yes
			}
			SOV = {
				OR = {
					has_government = nationalist
					has_government = national_bolshevik
					has_government = monarchist
					has_government = fascist
				}
			}
		}
		available = {
			OR = {
				has_government = nationalist
				has_government = liberal
				AND = {
					has_government = moderate_socialist
					#has_completed_focus = CAT_struggle_independence
				}
				hidden_trigger = {
					has_government = national_bolshevik
				}
			}
		}
		complete_effect = {
			SOV = {
				country_event = {
					id = cat_diplo.37
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_moscow_accords_rus = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_russia_refused_to_ally_us
			}
			RUS = {
				is_faction_leader = yes
			}
			country_exists = RUS
		}
		available = {
			OR = {
				has_government = nationalist
				has_government = liberal
				AND = {
					has_government = moderate_socialist
					#has_completed_focus = CAT_struggle_independence
				}
				hidden_trigger = {
					has_government = national_bolshevik
				}
			}
		}
		complete_effect = {
			RUS = {
				country_event = {
					id = cat_diplo.37
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_warsaw_pact_sov = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_warsaw_refused_to_ally_us
			}
			SOV = {
				is_faction_leader = yes
			}
			SOV = {
				has_government = communist
			}
		}
		available = {
			OR = {
				has_government = communist
				AND = {
					has_government = moderate_socialist
					#has_completed_focus = CAT_struggle_independence
				}
			}
		}
		complete_effect = {
			SOV = {
				country_event = {
					id = cat_diplo.40
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_warsaw_pact_ger = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_warsaw_refused_to_ally_us
			}
			GER = {
				is_faction_leader = yes
			}
			GER = {
				OR = {
					has_government = communist
					has_government = revolutionary_socialist
					has_government = moderate_socialist
				}
			}
		}
		available = {
			OR = {
				has_government = communist
				AND = {
					has_government = moderate_socialist
					#has_completed_focus = CAT_struggle_independence
				}
			}
		}
		complete_effect = {
			GER = {
				country_event = {
					id = cat_diplo.43
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_apc_ansyn = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = CAT_apc_didnt_ally_us
			}
			NEA = {
				is_faction_leader = yes
			}
			NEA = {
				has_country_leader_ideology = anarcho_syndicalism
			}
		}
		available = {
			#has_completed_focus = CAT_recongize_the_apc
			#has_completed_focus = CAT_liberation_comes_to_iberia
			OR = {
				has_government = revolutionary_socialist
				has_government = new_democrat
			}
		}
		complete_effect = {
			NEA = {
				country_event = {
					id = cat_diplo.49
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_apc_newyork_or_detroit = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = CAT_apc_didnt_ally_us
			}
			NEA = {
				is_faction_leader = yes
			}
			NEA = {
				has_government = revolutionary_socialist
			}
			NEA = {
				NOT = {
					has_country_leader_ideology = anarcho_syndicalism
				}
			}
			NEA = {
				#has_completed_focus = NEA_american_socialist_pact
			}
		}
		available = {
			#has_completed_focus = CAT_recongize_the_apc
			#has_completed_focus = CAT_liberation_comes_to_iberia
			OR = {
				has_country_leader_ideology = syndicalism
				has_country_leader_ideology = labourist
			}
		}
		complete_effect = {
			NEA = {
				country_event = {
					id = cat_diplo.49
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_apc_american_international = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = CAT_apc_didnt_ally_us
			}
			NEA = {
				is_faction_leader = yes
			}
			NEA = {
				has_government = revolutionary_socialist
			}
			NEA = {
				NOT = {
					has_country_leader_ideology = anarcho_syndicalism
				}
			}
			NEA = {
				#has_completed_focus = NEA_american_international
			}
		}
		available = {
			#has_completed_focus = CAT_recongize_the_apc
			#has_completed_focus = CAT_liberation_comes_to_iberia
			OR = {
				has_country_leader_ideology = syndicalism
				has_country_leader_ideology = labourist
			}
		}
		complete_effect = {
			NEA = {
				country_event = {
					id = cat_diplo.49
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_apc_iwa_ait = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			OR = {
				NEA = {
					is_faction_leader = no
				}
				NOT = {
					NEA = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
			}
		}
		available = {
			#has_completed_focus = CAT_liberation_comes_to_iberia
			has_country_leader_ideology = anarcho_syndicalism
		}
		complete_effect = {
			country_event = {
				id = cat_diplo.80
			}
			create_faction_from_template = { 
				template = faction_template_world_revolution 
				name = "International Workers' Association"
				icon = GFX_faction_generic_revsoc
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_apc_welch = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NEA = {
				is_faction_leader = yes
			}
			NEA = {
				#has_completed_focus = GAU_league_of_american_nations
			}
			NOT = {
				has_country_flag = CAT_apc_didnt_ally_us
			}
		}
		available = {
			#has_completed_focus = CAT_recongize_the_apc
			OR = {
				has_government = nationalist
				has_government = national_conservative
				has_government = centrist
				has_government = liberal
				has_government = new_democrat
				has_government = moderate_socialist
			}
		}
		complete_effect = {
			NEA = {
				country_event = {
					id = cat_diplo.81
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_non_alignment_movement_cuba_hasnt_made_a_decision_yet = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			CUB = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				CUB = {
					#has_completed_focus = CUB_form_a_neutrality_pact
				}
			}
			NOT = {
				CUB = {
					#has_completed_focus = CUB_common_front_against_imperialism
				}
			}
			NOT = {
				has_country_flag = cat_not_allowed_in_non_alignment_pact
			}
		}
		available = {
			OR = {
				has_government = communist
				has_government = moderate_socialist
				has_government = new_democrat
				has_government = liberal
				AND = {
					has_government = revolutionary_socialist
					NOT = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
				AND = {
					CUB = {
						has_government = centrist
					}
					OR = {
						has_government = national_conservative
						has_government = nationalist
						hidden_trigger = {
							has_government = centrist
						}
					}
				}
			}
		}
		complete_effect = {
			CUB = {
				country_event = {
					id = cat_diplo.172
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_non_alignment_movement_cuba_went_with_guarantees = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_canada_refused_to_ally_us
			}
			CUB = {
				has_idea = idea_CUB_non_aligned_movement
			}
			CUB = {
				#has_completed_focus = CUB_form_a_neutrality_pact
			}
			NOT = {
				has_country_flag = cat_not_allowed_in_non_alignment_pact
			}
		}
		available = {
			OR = {
				has_government = communist
				has_government = moderate_socialist
				has_government = new_democrat
				has_government = liberal
				AND = {
					has_government = revolutionary_socialist
					NOT = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
				AND = {
					CUB = {
						has_government = centrist
					}
					OR = {
						has_government = national_conservative
						has_government = nationalist
						hidden_trigger = {
							has_government = centrist
						}
					}
				}
			}
		}
		complete_effect = {
			CUB = {
				country_event = {
					id = cat_diplo.175
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
	CAT_join_the_non_alignment_movement_cuba_went_with_faction = {
		visible = {
			has_country_flag = CAT_joinfactions_alwaysfalse_flag
			tag = CAT # why is this even here
			is_in_faction = no
			NOT = {
				has_idea = idea_CUB_non_aligned_movement
			}
			NOT = {
				has_country_flag = SPR_canada_refused_to_ally_us
			}
			CUB = {
				has_idea = idea_CUB_non_aligned_movement
			}
			CUB = {
				#has_completed_focus = CUB_common_front_against_imperialism
			}
			NOT = {
				has_country_flag = cat_not_allowed_in_non_alignment_pact
			}
		}
		available = {
			OR = {
				has_government = communist
				has_government = moderate_socialist
				has_government = new_democrat
				has_government = liberal
				AND = {
					has_government = revolutionary_socialist
					NOT = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
				AND = {
					CUB = {
						has_government = centrist
					}
					OR = {
						has_government = national_conservative
						has_government = nationalist
						hidden_trigger = {
							has_government = centrist
						}
					}
				}
			}
		}
		complete_effect = {
			CUB = {
				country_event = {
					id = cat_diplo.178
				}
			}
		}
		ai_will_do = {
			base = 50
		}
	}
}
