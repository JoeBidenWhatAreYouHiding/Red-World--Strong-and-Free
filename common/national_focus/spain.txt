focus_tree = {
	id = spain_tree
	country = {
		factor = 0
		modifier = {
			add = 20
			OR = {
				tag = SPR
				tag = SPN
			}
		}
	}
	continuous_focus_position = {
		x = 0
		y = 4500
	}

################## First Three Focuses ####################
	focus = {
		id = SPR_republican_coup
		icon = SPR_Republican_Coup
		cost = 0
		available = {
			has_country_flag = republican_coup
			AND = {has_war = no}
		}
		bypass = {
			has_country_flag = republican_coup
			AND = {has_war = no}
		}
		mutually_exclusive = {
			focus = SPR_military_coup
			focus = SPR_felipe_stays
		}
	
		x = 16
		y = 0
		offset = {
			x = -14
			y = -0
			trigger = {
				has_completed_focus = SPR_continue_with_elections
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = -7
			y = -0
			trigger = {
				has_completed_focus = SPR_submitted_to_general_strike
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		allow_branch = {
		if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = SPR_military_coup
						has_completed_focus = SPR_felipe_stays
					}
				}
			}
		}
		completion_reward = {
		hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	focus = {
		id = SPR_military_coup
		icon = SPR_Military_Coup
		cost = 0
		available = {
			has_country_flag = military_coup
			AND = {has_war = no}
		}
		bypass = {
			has_country_flag = military_coup
			AND = {has_war = no}
		}
		mutually_exclusive = {
			focus = SPR_republican_coup
			focus = SPR_felipe_stays
		}

		x = 47
		y = 0
		offset = {
			x = -35
			y = -0
			trigger = {
				has_completed_focus = SPR_military_coup
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		allow_branch = {
		if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = SPR_republican_coup
						has_completed_focus = SPR_felipe_stays
					}
				}
			}
		}
		completion_reward = {
		hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	focus = {
		id = SPR_felipe_stays
		icon = SPR_Hail_The_King
		cost = 0
		available = {
			has_country_flag = felipe_stays
			AND = {has_war = no}
		}
		bypass = {
			has_country_flag = felipe_stays
			AND = {has_war = no}
		}
		mutually_exclusive = {
			focus = SPR_military_coup
			focus = SPR_republican_coup
		}

		x = 33
		y = 0
		allow_branch = {
		if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = SPR_military_coup
						has_completed_focus = SPR_republican_coup
					}
				}
			}
		}
		completion_reward = {
		hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	
################## REPUBLICAN COUP #################

		##Far Left##
		
	focus = {
		id = SPR_submitted_to_general_strike
		icon = submit_to_the_general_strike
		cost = 1
		
		prerequisite = {
			focus = SPR_republican_coup
		}
		
		available = {
			has_country_flag = submitted_to_strikers
		}
		
		completion_reward = {
		hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
			set_country_flag = united_left_ministers
			set_politics = {
				ruling_party = revolutionary_socialist
				elections_allowed = no
				last_election = "1935.12.17"
				election_frequency = 48
			}
			custom_effect_tooltip = spain_united_left_ministers_tooltip_fixed
			hidden_effect = {
				add_ideas = spr_sic_cristina_antonanzas
				add_ideas = spr_fom_roser_maestro
				add_ideas = spr_ind_jesus_gualix
				add_ideas = spr_nsm_luz_martinez_ten
				add_ideas = spr_inm_cayo_lara
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.10
			}
			add_popularity = {
				ideology = communist
				popularity = 0.10
			}
		}
		allow_branch = {
		if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
				OR = {
					has_completed_focus = SPR_continue_with_elections
					has_completed_focus = SPR_military_coup
					has_completed_focus = SPR_felipe_stays
					}
				}
			}
		}
		offset = {
			x = 8 
			y = -0
			trigger = {
				has_completed_focus = SPR_submitted_to_general_strike
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		relative_position_id = SPR_republican_coup
		x = -8
		y = 1
	}
	focus = {
		id = SPR_begin_committee_debates
		icon = GFX_the_modern_republic
		cost = 5
		
		prerequisite = {
			focus = SPR_submitted_to_general_strike
		}
		
		relative_position_id = SPR_submitted_to_general_strike
		x = 0
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain.55
			}
		}
	}
	## Syndicalists ##
	focus = {
		id = SPR_syndicalist_victory
		icon = focus_uar_syndicalism
		cost = 5
		
		prerequisite = {
			focus = SPR_begin_committee_debates
		}
		relative_position_id = SPR_begin_committee_debates
		x = 1
		y = 1
		mutually_exclusive = {
			focus = SPR_neocommunist_victory
			focus = SPR_leninist_victory
		}
		
		available = {
			has_country_flag = spain_syndicalist_victory
		}
		
		bypass = {
			has_country_flag = spain_syndicalist_victory
		}
		
	}
	focus = {
		id = SPR_announce_end_of_general_strike
		icon = GFX_popular_revolution
		cost = 2
		
		prerequisite = {
			focus = SPR_syndicalist_victory
		}
		
		relative_position_id = SPR_syndicalist_victory
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike}
			country_event = {
				id = spain.215
			}
		}
	}
	focus = {
		id = SPR_unionize_the_military
		icon = focus_freedom_of_demonstration
		cost = 10
		
		prerequisite = {
			focus = SPR_announce_end_of_general_strike
		}
		
		relative_position_id = SPR_announce_end_of_general_strike
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			country_event = {
				id = spain.216
			}
		}
	}
	focus = {
		id = SPR_synd_appoint_strike_leaders_to_office
		icon = cnt_ugt_alliance_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_announce_end_of_general_strike
		}
		
		relative_position_id = SPR_announce_end_of_general_strike
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_syndicalist_administration
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = spr_we_will_get_anarchist_advisors
			IF = {
				limit = {
					tag = SPR
					NOT = {
						CAT = {
							has_country_flag = cat_anarchists_took_over
						}
					}
					owns_state = 165
					NOT = {
						has_country_flag = spr_integrated_catalan_anarchists
					}
				}
				custom_effect_tooltip = spr_we_will_get_anarchist_generals
				hidden_effect = {
					add_naval_commander_role = {
						Character = SPR_Nunia_Cadenes
						traits={ seawolf }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=1
						coordination_skill=1
					}
					add_field_marshal_role = {
						Character = SPR_carles_riera
						traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Ricard_de_Vargas_Golarons
						traits={ trickster trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Guillem_Agullo
						traits={ media_personality }
						skill=1
						attack_skill=1
						defense_skill=2
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Alfonso_Alvarez
						traits={ trickster war_hero politically_connected }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=2
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Fidel_Manrique
						traits={ trickster media_personality politically_connected old_guard }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=3
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Martin_Paradelo
						traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Ignacio_Fernandez_Toxo
						traits={ politically_connected war_hero brilliant_strategist }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Stuart_Christie
						traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Tomas_Sayes_i_Jato
						traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
				}
				set_country_flag = spr_integrated_catalan_anarchists
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						CAT = {
							has_country_flag = cat_anarchists_took_over
						}
					}
					owns_state = 165
					NOT = {
						has_country_flag = spr_integrated_catalan_anarchists
					}
				}
				custom_effect_tooltip = spr_we_will_get_anarchist_generals
				hidden_effect = {
					add_naval_commander_role = {
						Character = SPN_Nunia_Cadenes
						traits={ seawolf }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=1
						coordination_skill=1
					}
					add_field_marshal_role = {
						Character = SPN_carles_riera
						traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Ricard_de_Vargas_Golarons
						traits={ trickster trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Guillem_Agullo
						traits={ media_personality }
						skill=1
						attack_skill=1
						defense_skill=2
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Alfonso_Alvarez
						traits={ trickster war_hero politically_connected }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=2
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Fidel_Manrique
						traits={ trickster media_personality politically_connected old_guard }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=3
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Martin_Paradelo
						traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Ignacio_Fernandez_Toxo
						traits={ politically_connected war_hero brilliant_strategist }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Stuart_Christie
						traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Tomas_Sayes_i_Jato
						traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
				}
				set_country_flag = spr_integrated_catalan_anarchists
			}
			country_event = {
				id = spain.180
			}
		}
	}
	focus = {
		id = SPR_synd_strike_to_remove_francoists
		icon = anti_fascist
		cost = 10
		
		prerequisite = {
			focus = SPR_unionize_the_military
		}
		
		relative_position_id = SPR_unionize_the_military
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_spr_unionized_military
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPR
					}
					retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPR_Fernando_Garcia_Sanchez
					retire_character = SPR_Antonio_Martorell_Lacave
					retire_character = SPR_Fulgencio_Coll_Bucher
					retire_character = SPR_Francisco_Javier_Varela_Salas
					retire_character = SPR_Felix_Sanz_Roldan
					retire_character = SPR_Agustin_Rosety
					retire_character = SPR_Antonio_Budino
					retire_character = SPR_Luis_Cebrian
					retire_character = SPR_Alberto_Asarta
					retire_character = SPR_Carlos_Villar_Turrau
					retire_character = SPR_Miguel_Angel_Ballesteros
					retire_character = SPR_Rafael_Comas
					retire_character = SPR_Fernando_Lens_Astray
					retire_character = SPR_Miguel_Angel_Villarroya
					retire_character = SPR_Luis_Alejandre_Sintes
					retire_character = SPR_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPR_Jose_Mena_Aguado
				}
				IF = {
					limit = {
						tag = SPN
					}
					retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPN_Fernando_Garcia_Sanchez
					retire_character = SPN_Antonio_Martorell_Lacave
					retire_character = SPN_Fulgencio_Coll_Bucher
					retire_character = SPN_Francisco_Javier_Varela_Salas
					retire_character = SPN_Felix_Sanz_Roldan
					retire_character = SPN_Agustin_Rosety
					retire_character = SPN_Antonio_Budino
					retire_character = SPN_Luis_Cebrian
					retire_character = SPN_Alberto_Asarta
					retire_character = SPN_Carlos_Villar_Turrau
					retire_character = SPN_Miguel_Angel_Ballesteros
					retire_character = SPN_Rafael_Comas
					retire_character = SPN_Fernando_Lens_Astray
					retire_character = SPN_Miguel_Angel_Villarroya
					retire_character = SPN_Luis_Alejandre_Sintes
					retire_character = SPN_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPN_Jose_Mena_Aguado
				}
			}
			custom_effect_tooltip = spr_we_will_purge_a_lot_of_generals
			country_event = {
				id = spain.217
			}
		}
	}
	focus = {
		id = SPR_synd_mandatory_union_membership
		icon = support_workers
		cost = 5
		
		prerequisite = {
			focus = SPR_synd_appoint_strike_leaders_to_office
		}
		
		relative_position_id = SPR_synd_appoint_strike_leaders_to_office
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_fully_unionized_labor
			}
			custom_effect_tooltip = spr_we_will_let_uso_into_gov
			country_event = {
				id = spain.181
			}
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_country_flag = SPR_basques_broke_off
						}
					}
					country_event = {
						id = spain.382
						days = 14
					}
				}
			}
		}
	}
	focus = {
		id = SPR_no_more_bourgeois_elections
		icon = SPR_no_more_bourgeois_elections
		cost = 5
		
		prerequisite = {
			focus = SPR_synd_mandatory_union_membership
		}
		
		relative_position_id = SPR_synd_mandatory_union_membership
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_union_elections
			}
			add_stability = 0.05
			custom_effect_tooltip = spr_communist_spain_lets_in_syndicalists
			country_event = {
				id = spain.182
			}
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_country_flag = SPR_basques_broke_off
						}
					}
					country_event = {
						id = spain.383
						days = 8
					}
				}
			}
		}
	}
	focus = {
		id = SPR_honor_the_republicans_of_old
		icon = SPR_heroes_of_old
		cost = 3
		
		prerequisite = {
			focus = SPR_synd_mandatory_union_membership
		}
		prerequisite = {
			focus = SPR_synd_strike_to_remove_francoists
		}
		
		relative_position_id = SPR_announce_end_of_general_strike
		x = 0
		y = 3
		
		completion_reward = {
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.10
			}
			add_stability = 0.05
			add_political_power = 50
			add_war_support = 0.05
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						OR = {
							has_government = moderate_socialist
							has_government = liberal
							has_government = revolutionary_socialist
							has_government = national_bolshevik
							has_government = communist
						}
					}
				}
				CAT = {
					add_opinion_modifier = {
						target = ROOT
						modifier = spr_honored_republican_heroes
					}
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						NOT = {
							has_government = monarchist
							has_government = fascist
							has_government = nationalist
						}
					}
				}
				BSQ = {
					add_opinion_modifier = {
						target = ROOT
						modifier = spr_honored_republican_heroes
					}
				}
			}
		}
	}
	focus = {
		id = SPR_the_community_defense_syndicate
		icon = GFX_PDY_the_peoples_armed_forces
		cost = 7.2
		
		prerequisite = {
			focus = SPR_synd_strike_to_remove_francoists
		}
		
		relative_position_id = SPR_synd_strike_to_remove_francoists
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_community_defense_syndicate
			}
			division_template = {
				name = "Community Defense Militia"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					
					armored_car = { x = 2 y = 0 }
					armored_car = { x = 2 y = 1 }
					armored_car = { x = 2 y = 2 }
				}
				
				support = {
					recon = { x = 0 y = 0 }
					field_hospital = { x = 0 y = 1 }
					military_police = { x = 0 y = 2 }
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_tech = armored_car1
						}
					}
					set_technology = {
						armored_car1 = 1
					}
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Community Defense Militia\" division_template = \"Community Defense Militia\" start_experience_factor = 0.1 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Community Defense Militia\" division_template = \"Community Defense Militia\" start_experience_factor = 0.1 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			country_event = {
				id = spain.219
			}
		}
	}
	focus = {
		id = SPR_decentralize_the_state
		icon = common_african_judiciary
		cost = 10
		
		prerequisite = {
			focus = SPR_no_more_bourgeois_elections
		}
		prerequisite = {
			focus = SPR_honor_the_republicans_of_old
		}
		prerequisite = {
			focus = SPR_the_community_defense_syndicate
		}
		
		relative_position_id = SPR_synd_mandatory_union_membership
		x = 0
		y = 2
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			add_ideas = {
				idea_SPR_decentralized_state
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
				IF = {
					limit = {
						owns_state = 171
					}
					country_event = {
						id = spain.239
						days = 11
					}
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_country_flag = SPR_basques_broke_off
						}
					}
					country_event = {
						id = spain.384
						days = 7
					}
				}
			}
			country_event = {
				id = spain.80
			}
		}
	}
	focus = {
		id = SPR_syn_execute_the_king
		icon = SPR_king_execution
		cost = 2
		
		prerequisite = {
			focus = SPR_the_community_defense_syndicate
		}
		prerequisite = {
			focus = SPR_honor_the_republicans_of_old
		}
		prerequisite = {
			focus = SPR_no_more_bourgeois_elections
		}
		
		relative_position_id = SPR_synd_strike_to_remove_francoists
		x = 0
		y = 2
		
		completion_reward = {
			set_country_flag = spr_felipe_is_dead
			add_stability = 0.05
			add_popularity = {
				ideology = monarchist
				popularity = -1
			}
			country_event = {
				id = spain.74
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPN
					}
					news_event = {
						id = spain_news.4
					}
				}
				IF = {
					limit = {
						tag = SPR
					}
					news_event = {
						id = spain_news.5
					}
				}
			}
		}
	}
	focus = {
		id = SPR_workers_federation_secured
		icon = focus_socialist_propaganda
		cost = 10
		
		prerequisite = {
			focus = SPR_decentralize_the_state
		}
		prerequisite = {
			focus = SPR_syn_execute_the_king
		}
		
		relative_position_id = SPR_honor_the_republicans_of_old
		x = 0
		y = 2
		
		completion_reward = {
			add_stability = 0.05
			set_cosmetic_tag = SPR_syn
			IF = {
				limit = {
					has_idea = idea_SPR_lingering_military_radicalism
				}
				remove_ideas = {idea_SPR_lingering_military_radicalism}
			}
			IF = {
				limit = {
					tag = SPN
				}
				create_country_leader = {
					 name = "The General Union of Labor"
					 picture = Portrait_SPN_Councils_of_Labor.dds
					 ideology = syndicalism
				}
			}
			IF = {
				limit = {
					tag = SPR
				}
				create_country_leader = {
					 name = "The General Union of Labor"
					 picture = Portrait_SPR_Councils_of_Labor.dds
					 ideology = syndicalism
				}
			}
			set_party_name = {
				ideology = revolutionary_socialist
				long_name = "Intersyndical Alliance"
				name = "Intersyndical Alliance"
			}
			country_event = {
				id = spain.185
			}
			hidden_effect = {
				country_event = {
					id = spain_celections.7
					days = 30
				}
				IF = {
					limit = {
						NOT = {
							has_country_flag = SPR_basques_broke_off
						}
					}
					country_event = {
						id = spain.385
						days = 34
					}
				}
			}
			custom_effect_tooltip = SPR_theres_gonna_be_intersyndical_elections
		}
	}
	focus = {
		id = SPR_syn_guarantee_workers_self_management
		icon = focus_workers_self_management
		cost = 5
		
		prerequisite = {
			focus = SPR_workers_federation_secured
		}
		
		relative_position_id = SPR_workers_federation_secured
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_apc_workers_self_management}
		}
	}
	focus = {
		id = SPR_syn_honor_the_united_front
		icon = mass_socialist_organisation_focus
		cost = 5
		
		prerequisite = {
			focus = SPR_syn_guarantee_workers_self_management
		}
		
		relative_position_id = SPR_syn_guarantee_workers_self_management
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_united_front_against_fascism
			}
			add_stability = 0.05
			country_event = {
				id = spain.220
			}
			custom_effect_tooltip = spr_syndicalist_spain_lets_in_neocoms_and_modsocs
		}
	}
	focus = {
		id = SPR_guarantee_workers_safety
		icon = GFX_develop_the_marib_dam
		cost = 10
		
		prerequisite = {
			focus = SPR_syn_honor_the_united_front
		}
		
		relative_position_id = SPR_syn_honor_the_united_front
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			swap_ideas = {
				remove_idea = idea_spr_syndicalist_administration
				add_idea = idea_spr_syndicalist_administration_2
			}
		}
	}
	focus = {
		id = SPR_abolish_private_land_ownership
		icon = SPR_campesino_land_reform_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_guarantee_workers_safety
		}
		
		relative_position_id = SPR_guarantee_workers_safety
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_reduce_dependency_on_currency
		icon = focus_abolish_wages
		cost = 10
		
		prerequisite = {
			focus = SPR_abolish_private_land_ownership
		}
		
		relative_position_id = SPR_abolish_private_land_ownership
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
			add_ideas = {
				idea_spr_moneyless_society
			}
			country_event = {
				id = spain.223
			}
		}
	}
	focus = {
		id = SPR_syn_arm_the_working_class
		icon = arm_workers
		cost = 10
		
		prerequisite = {
			focus = SPR_syn_guarantee_workers_self_management
		}
		
		relative_position_id = SPR_syn_guarantee_workers_self_management
		x = 0
		y = 1
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_war_support = 0.1
		}
	}
	focus = {
		id = SPR_class_divides_not_nation
		icon = class_not_nation
		cost = 5
		
		prerequisite = {
			focus = SPR_syn_arm_the_working_class
		}
		
		relative_position_id = SPR_syn_arm_the_working_class
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_class_divides_not_nation}
		}
	}
	focus = {
		id = SPR_revolutionary_zeal_in_spanish_africa
		icon = integrate_the_parties
		cost = 10
		
		bypass = {
			NOT = {
				owns_state = 297
			}
		}
		
		prerequisite = {
			focus = SPR_class_divides_not_nation
		}
		
		relative_position_id = SPR_class_divides_not_nation
		x = 0
		y = 2
		
		completion_reward = {
			IF = {
				limit = {
					tag = SPR
				}
				297 = {
					add_core_of = SPR
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				297 = {
					add_core_of = SPN
				}
			}
			297 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_legalize_degeneracy
		icon = the_progressive_wave
		cost = 5
		
		prerequisite = {
			focus = SPR_syn_arm_the_working_class
		}
		
		relative_position_id = SPR_syn_arm_the_working_class
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_amc_progressive_agenda
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.226
			}
		}
	}
	focus = {
		id = SPR_forced_secularization
		icon = GFX_a_secular_society
		cost = 5
		
		prerequisite = {
			focus = SPR_legalize_degeneracy
		}
		
		relative_position_id = SPR_legalize_degeneracy
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_SPR_secular_governance
			}
			add_stability = 0.05
			country_event = {
				id = spain.227
			}
		}
	}
	focus = {
		id = SPR_the_means_of_revolution
		icon = GFX_the_days_of_rage
		cost = 10
		
		prerequisite = {
			focus = SPR_syn_arm_the_working_class
		}
		
		relative_position_id = SPR_syn_arm_the_working_class
		x = 4
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_worker_militias
		icon = send_the_army_in
		cost = 7.2
		
		prerequisite = {
			focus = SPR_the_means_of_revolution
		}
		
		relative_position_id = SPR_the_means_of_revolution
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_community_defense_syndicate
				add_idea = idea_SPR_community_defense_syndicate_2
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions_real_small
				}
			}
			division_template = {
				name = "Workers' Militia"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
				}
				
				support = {
					engineer = { x = 0 y = 0 }
					field_hospital = { x = 0 y = 1 }
					maintenance_company = { x = 0 y = 2 }
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
		}
	}
	focus = {
		id = SPR_repoliticize_the_military
		icon = GFX_commissars
		cost = 5
		
		prerequisite = {
			focus = SPR_worker_militias
		}
		
		relative_position_id = SPR_worker_militias
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_repoliticized_military
			}
			add_war_support = 0.05
		}
	}
	focus = {
		id = SPR_the_bastion_of_true_socialism
		icon = SPR_the_bastion_of_true_socialism
		cost = 10
		
		prerequisite = {
			focus = SPR_repoliticize_the_military
		}
		prerequisite = {
			focus = SPR_forced_secularization
		}
		prerequisite = {
			focus = SPR_revolutionary_zeal_in_spanish_africa
		}
		prerequisite = {
			focus = SPR_reduce_dependency_on_currency
		}
		
		relative_position_id = SPR_forced_secularization
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_no_gods_no_masters
			}
			country_event = {
				id = spain.230
			}
		}
	}
	focus = {
		id = SPR_reach_out_to_international_labor_syndicates
		icon = embrace_market_socialism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_the_bastion_of_true_socialism
		}
		
		relative_position_id = SPR_the_bastion_of_true_socialism
		x = -1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_class_divides_not_nation
				add_idea = idea_SPR_class_divides_not_nation_2
			}
			country_event = {
				id = spain.231
			}
			hidden_effect = {
				every_country = {
					limit = {
						NOT = {
							tag = SPR
						}
						NOT = {
							tag = SPN
						}
						OR = {
							has_country_leader_ideology = syndicalism
							has_country_leader_ideology = anarcho_syndicalism
						}
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = ROOT
						value = 50
					}
					add_ai_strategy = {
						type = send_lend_lease_desire
						id = ROOT
						value = 50
					}
				}
				every_country = {
					limit = {
						NOT = {
							tag = SPR
						}
						NOT = {
							tag = SPN
						}
						OR = {
							has_country_leader_ideology = labourist
						}
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = ROOT
						value = 25
					}
					add_ai_strategy = {
						type = send_lend_lease_desire
						id = ROOT
						value = 25
					}
				}
			}
		}
	}
	focus = {
		id = SPR_empower_the_teachers_unions
		icon = GFX_goal_education
		cost = 7.2
		
		prerequisite = {
			focus = SPR_reach_out_to_international_labor_syndicates
		}
		
		relative_position_id = SPR_reach_out_to_international_labor_syndicates
		x = -2
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			swap_ideas = {
				remove_idea = idea_SPR_union_elections
				add_idea = idea_SPR_union_elections_2
			}
		}
	}
	focus = {
		id = SPR_welcome_foreign_proletariats
		icon = revolutionary_militia_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_reach_out_to_international_labor_syndicates
		}
		
		relative_position_id = SPR_reach_out_to_international_labor_syndicates
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_class_divides_not_nation_2
				add_idea = idea_SPR_class_divides_not_nation_3
			}
		}
	}
	focus = {
		id = SPR_fight_against_consumer_culture
		icon = embrace_anti_capitalism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_the_bastion_of_true_socialism
		}
		
		relative_position_id = SPR_the_bastion_of_true_socialism
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_moneyless_society
				add_idea = idea_spr_moneyless_society_2
			}
			country_event = {
				id = spain.233
			}
		}
	}
	focus = {
		id = SPR_the_right_to_food_and_housing
		icon = urban_housing
		cost = 10
		
		prerequisite = {
			focus = SPR_fight_against_consumer_culture
		}
		
		relative_position_id = SPR_fight_against_consumer_culture
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_syndicalist_administration_2
				add_idea = idea_spr_syndicalist_administration_3
			}
		}
	}
	focus = {
		id = SPR_sponsor_syndicate_expansion
		icon = focus_ideology_revolutionary_socialist
		cost = 10
		
		prerequisite = {
			focus = SPR_empower_the_teachers_unions
		}
		prerequisite = {
			focus = SPR_welcome_foreign_proletariats
		}
		prerequisite = {
			focus = SPR_the_right_to_food_and_housing
		}
		
		relative_position_id = SPR_welcome_foreign_proletariats
		x = 0
		y = 1
		
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	
		##NeoCommunist##
	focus = {
		id = SPR_neocommunist_victory
		icon = a_hand_to_conservatives
		cost = 5
		
		prerequisite = {
			focus = SPR_begin_committee_debates
		}
		relative_position_id = SPR_begin_committee_debates
		x = -5
		y = 1
		mutually_exclusive = {
			focus = SPR_leninist_victory
			focus = SPR_syndicalist_victory
		}
		
		available = {
			has_country_flag = spain_neocom_victory
		}
		
		bypass = {
			has_country_flag = spain_neocom_victory
		}
		
	}
	focus = {
		id = SPR_defund_the_military
		icon = YEM_social_alliance
		cost = 10
		prerequisite = {
			focus = SPR_neocommunist_victory
		}
		relative_position_id = SPR_neocommunist_victory
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPR
					}
					retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPR_Antonio_Martorell_Lacave
					retire_character = SPR_Fulgencio_Coll_Bucher
					retire_character = SPR_Francisco_Javier_Varela_Salas
					retire_character = SPR_Felix_Sanz_Roldan
					retire_character = SPR_Agustin_Rosety
					retire_character = SPR_Alberto_Asarta
					retire_character = SPR_Carlos_Villar_Turrau
					retire_character = SPR_Miguel_Angel_Ballesteros
					retire_character = SPR_Rafael_Comas
					retire_character = SPR_Luis_Alejandre_Sintes
					retire_character = SPR_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPR_Jose_Mena_Aguado
				}
				IF = {
					limit = {
						tag = SPN
					}
					retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPN_Antonio_Martorell_Lacave
					retire_character = SPN_Fulgencio_Coll_Bucher
					retire_character = SPN_Francisco_Javier_Varela_Salas
					retire_character = SPN_Felix_Sanz_Roldan
					retire_character = SPN_Agustin_Rosety
					retire_character = SPN_Alberto_Asarta
					retire_character = SPN_Carlos_Villar_Turrau
					retire_character = SPN_Miguel_Angel_Ballesteros
					retire_character = SPN_Rafael_Comas
					retire_character = SPN_Luis_Alejandre_Sintes
					retire_character = SPN_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPN_Jose_Mena_Aguado
				}
			}
			custom_effect_tooltip = spr_we_will_purge_senior_staff
			country_event = {
				id = spain.191
			}
		}
	}
	focus = {
		id = SPR_military_rehab_campaign
		icon = red_brigades
		cost = 10
		prerequisite = {
			focus = SPR_defund_the_military
		}
		relative_position_id = SPR_defund_the_military
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_rehabilitated_military
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
		}
	}
	focus = {
		id = SPR_invite_major_syndies_to_government
		icon = focus_reorganise_trade_councils
		cost = 10
		prerequisite = {
			focus = SPR_neocommunist_victory
			focus = SPR_leninist_victory
		}
		relative_position_id = SPR_neocommunist_victory
		x = -3
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = spr_communist_spain_lets_in_syndicalists
			country_event = {
				id = spain.186
			}
		}
	}
	focus = {
		id = SPR_restore_localized_democracy
		icon = left_wing_win
		cost = 5
		prerequisite = {
			focus = SPR_neocommunist_victory
		}
		relative_position_id = SPR_neocommunist_victory
		x = 2
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.10
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			add_stability = 0.1
			country_event = {
				id = spain.189
			}
		}
	}
	focus = {
		id = SPR_neocom_honor_the_united_left
		icon = mass_socialist_organisation_focus
		cost = 5
		prerequisite = {
			focus = SPR_restore_localized_democracy
		}
		relative_position_id = SPR_restore_localized_democracy
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_united_front_against_fascism
			}
			country_event = {
				id = spain.190
			}
			custom_effect_tooltip = spr_communist_spain_lets_in_modsocs
		}
	}
	focus = {
		id = SPR_neocom_abolish_the_monarchy
		icon = crown_chains
		cost = 3
		prerequisite = {
			focus = SPR_military_rehab_campaign
		}
		prerequisite = {
			focus = SPR_neocom_honor_the_united_left
		}
		relative_position_id = SPR_military_rehab_campaign
		x = 1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = -0.10
			}
			add_stability = 0.1
			country_event = {
				id = spain.77
			}
		}
	}
	focus = {
		id = SPR_the_new_communist_constitution
		icon = GFX_goal_socialist_constitution
		cost = 10
		prerequisite = {
			focus = SPR_nationalize_the_trade_unions
			focus = SPR_limited_union_autonomy
		}
		relative_position_id = SPR_invite_major_syndies_to_government
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_SPR_federalized_state
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
				IF = {
					limit = {
						owns_state = 171
					}
					country_event = {
						id = spain.238
						days = 11
					}
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_leninist_victory
					}
				}
				set_cosmetic_tag = SPR_fprs
			}
			IF = {
				limit = {
					has_completed_focus = SPR_leninist_victory
				}
				set_cosmetic_tag = SPR_fprs_lenin
			}
			country_event = {
				id = spain.76
			}
		}
	}
	focus = {
		id = SPR_limited_union_autonomy
		icon = GFX_agents_in_the_rebellion
		cost = 10
		prerequisite = {
			focus = SPR_neocommunist_victory
		}
		prerequisite = {
			focus = SPR_invite_major_syndies_to_government
		}
		mutually_exclusive = {
			focus = SPR_nationalize_the_trade_unions
		}
		relative_position_id = SPR_neocommunist_victory
		x = -2
		y = 2
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_ideas = {idea_SPR_semi_autonomous_unions}
			custom_effect_tooltip = spr_commie_spain_lets_in_ugt_and_uso
			country_event = {
				id = spain.188
			}
		}
	}
	focus = {
		id = SPR_redistribute_the_crowns_wealth
		icon = parties
		cost = 5
		prerequisite = {
			focus = SPR_neocom_abolish_the_monarchy
			focus = SPR_crush_thecrown
		}
		prerequisite = {
			focus = SPR_the_new_communist_constitution
		}
		relative_position_id = SPR_the_new_communist_constitution
		x = 0
		y = 1
		
		completion_reward = {
			add_timed_idea = {
				idea = idea_SPR_redistributing_the_crowns_wealth
				days = 150
			}
		}
	}
	focus = {
		id = SPR_proclaim_the_fprs
		icon = peoples_government
		cost = 10
		prerequisite = {
			focus = SPR_redistribute_the_crowns_wealth
		}
		relative_position_id = SPR_redistribute_the_crowns_wealth
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_lingering_military_radicalism}
			add_stability = 0.1
			add_political_power = 150
			country_event = {
				id = spain.197
			}
		}
	}
	focus = {
		id = SPR_abolish_state_religion
		icon = ban_christian_groups
		cost = 5
		prerequisite = {
			focus = SPR_neocom_abolish_the_monarchy
		}
		prerequisite = {
			focus = SPR_proclaim_the_fprs
		}
		relative_position_id = SPR_neocom_abolish_the_monarchy
		x = -1
		y = 3
		
		completion_reward = {
			add_ideas = {idea_SPR_secular_governance}
			country_event = {
				id = spain.200
			}
		}
	}
	focus = {
		id = SPR_commie_repeal_ban_on_political_parties
		icon = socialist_youth
		cost = 4
		prerequisite = {
			focus = SPR_abolish_state_religion
		}
		relative_position_id = SPR_abolish_state_religion
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_commie_legal_parties}
			country_event = {
				id = spain.209
			}
		}
	}
	focus = {
		id = SPR_learn_from_frances_mistakes
		icon = focus_syria_coalition_with_communists
		cost = 10
		prerequisite = {
			focus = SPR_abolish_state_religion
		}
		relative_position_id = SPR_abolish_state_religion
		x = 2
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.68
			}
			custom_effect_tooltip = spr_remove_depression_slowly
		}
	}
	focus = {
		id = SPR_overhaul_spains_infrastructure
		icon = infrastructure_2
		cost = 7.2
		prerequisite = {
			focus = SPR_learn_from_frances_mistakes
		}
		relative_position_id = SPR_learn_from_frances_mistakes
		x = 0
		y = 1
		
		completion_reward = {
			every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_offer_government_contracts_to_small_farms
		icon = agrarian_socialism
		cost = 10
		prerequisite = {
			focus = SPR_overhaul_spains_infrastructure
		}
		relative_position_id = SPR_overhaul_spains_infrastructure
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_rural_cooperation
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.211
			}
		}
	}
	focus = {
		id = SPR_expand_hospitals_to_underserved_regions
		icon = increase_healthcare_coverage
		cost = 10
		prerequisite = {
			focus = SPR_overhaul_spains_infrastructure
		}
		relative_position_id = SPR_overhaul_spains_infrastructure
		x = 0
		y = 1
		
		completion_reward = {
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.212
			}
		}
	}
	focus = {
		id = SPR_focus_on_fulfilling_consumer_desires
		icon = shopping
		cost = 10
		prerequisite = {
			focus = SPR_expand_hospitals_to_underserved_regions
		}
		prerequisite = {
			focus = SPR_offer_government_contracts_to_small_farms
		}
		relative_position_id = SPR_expand_hospitals_to_underserved_regions
		x = -1
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_groundwork_for_communist_democracy
		icon = SPR_no_more_bourgeois_elections
		cost = 5
		prerequisite = {
			focus = SPR_commie_repeal_ban_on_political_parties
		}
		relative_position_id = SPR_commie_repeal_ban_on_political_parties
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = communist_spain_will_hold_elections_now
			hidden_effect = {
				country_event = {
					id = spain_celections.1
					days = 1461
				}
			}
		}
	}
	
		##Leninist Victory##
	focus = {
		id = SPR_leninist_victory
		icon = focus_syria_propaganda_effort
		cost = 5
		
		prerequisite = {
			focus = SPR_begin_committee_debates
		}
		mutually_exclusive = {
			focus = SPR_neocommunist_victory
			focus = SPR_syndicalist_victory
		}
		relative_position_id = SPR_begin_committee_debates
		x = -11
		y = 1
		
		available = {
			has_country_flag = spain_leninist_victory
		}
		
		bypass = {
			has_country_flag = spain_leninist_victory
		}
		
	}
	focus = {
		id = SPR_nationalize_the_trade_unions
		icon = political_pressure
		cost = 10
		prerequisite = {
			focus = SPR_leninist_victory
		}
		prerequisite = {
			focus = SPR_invite_major_syndies_to_government
		}
		mutually_exclusive = {
			focus = SPR_limited_union_autonomy
		}
		relative_position_id = SPR_leninist_victory
		x = 2
		y = 2
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_ideas = {idea_SPR_nationalized_unions}
			custom_effect_tooltip = spr_modsoc_spain_lets_in_ugt
			country_event = {
				id = spain.187
			}
		}
	}
	focus = {
		id = SPR_party_members_in_the_military
		icon = SPR_party_members_military
		cost = 10
		prerequisite = {
			focus = SPR_leninist_victory
		}
		relative_position_id = SPR_leninist_victory
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			country_event = {
				id = spain.193
			}
		}
	}
	focus = {
		id = SPR_purge_remaining_reactionaries_in_army
		icon = execute_disloyal_generals
		cost = 10
		prerequisite = {
			focus = SPR_party_members_in_the_military
		}
		relative_position_id = SPR_party_members_in_the_military
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_loyal_military
			}
			add_timed_idea = {
				idea = idea_SPR_purged_military
				days = 365
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPR
					}
					retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPR_Fernando_Garcia_Sanchez
					retire_character = SPR_Antonio_Martorell_Lacave
					retire_character = SPR_Fulgencio_Coll_Bucher
					retire_character = SPR_Francisco_Javier_Varela_Salas
					retire_character = SPR_Felix_Sanz_Roldan
					retire_character = SPR_Agustin_Rosety
					retire_character = SPR_Antonio_Budino
					retire_character = SPR_Luis_Cebrian
					retire_character = SPR_Alberto_Asarta
					retire_character = SPR_Carlos_Villar_Turrau
					retire_character = SPR_Miguel_Angel_Ballesteros
					retire_character = SPR_Rafael_Comas
					retire_character = SPR_Fernando_Lens_Astray
					retire_character = SPR_Miguel_Angel_Villarroya
					retire_character = SPR_Luis_Alejandre_Sintes
					retire_character = SPR_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPR_Jose_Mena_Aguado
				}
				IF = {
					limit = {
						tag = SPN
					}
					retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPN_Fernando_Garcia_Sanchez
					retire_character = SPN_Antonio_Martorell_Lacave
					retire_character = SPN_Fulgencio_Coll_Bucher
					retire_character = SPN_Francisco_Javier_Varela_Salas
					retire_character = SPN_Felix_Sanz_Roldan
					retire_character = SPN_Agustin_Rosety
					retire_character = SPN_Antonio_Budino
					retire_character = SPN_Luis_Cebrian
					retire_character = SPN_Alberto_Asarta
					retire_character = SPN_Carlos_Villar_Turrau
					retire_character = SPN_Miguel_Angel_Ballesteros
					retire_character = SPN_Rafael_Comas
					retire_character = SPN_Fernando_Lens_Astray
					retire_character = SPN_Miguel_Angel_Villarroya
					retire_character = SPN_Luis_Alejandre_Sintes
					retire_character = SPN_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPN_Jose_Mena_Aguado
				}
			}
			custom_effect_tooltip = spr_we_will_purge_a_lot_of_generals
		}
	}
	focus = {
		id = SPR_all_power_to_the_vanguard_party
		icon = embrace_conservatism
		cost = 5
		prerequisite = {
			focus = SPR_leninist_victory
		}
		relative_position_id = SPR_leninist_victory
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {idea_spr_vanguard_control}
			country_event = {
				id = spain.195
			}
		}
	}
	focus = {
		id = SPR_a_cabinet_of_the_partys_best
		icon = a_cabinet_of_the_partys_best
		cost = 5
		prerequisite = {
			focus = SPR_all_power_to_the_vanguard_party
		}
		relative_position_id = SPR_all_power_to_the_vanguard_party
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_spr_the_partys_best}
			custom_effect_tooltip = spr_communist_spain_lets_in_neocommunists
		}
	}
	focus = {
		id = SPR_crush_thecrown
		icon = crown_shattered
		cost = 3
		prerequisite = {
			focus = SPR_purge_remaining_reactionaries_in_army
		}
		prerequisite = {
			focus = SPR_a_cabinet_of_the_partys_best
		}
		relative_position_id = SPR_purge_remaining_reactionaries_in_army
		x = -1
		y = 1
		
		completion_reward = {
			set_country_flag = spr_felipe_is_dead
			add_stability = 0.05
			add_popularity = {
				ideology = monarchist
				popularity = -0.15
			}
			country_event = {
				id = spain.74
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPN
					}
					every_country = {
						limit = {
							NOT = {
								OR = {
									tag = SPR
									tag = SPN
								}
							}
						}
						news_event = {
							id = spain_news.4
						}
					}
				}
				IF = {
					limit = {
						tag = SPR
					}
					every_country = {
						limit = {
							NOT = {
								OR = {
									tag = SPR
									tag = SPN
								}
							}
						}
						news_event = {
							id = spain_news.5
						}
					}
				}
			}
		}
	}
	focus = {
		id = SPR_enact_state_atheism
		icon = promote_atheism
		cost = 5
		prerequisite = {
			focus = SPR_crush_thecrown
		}
		prerequisite = {
			focus = SPR_proclaim_the_fprs
		}
		relative_position_id = SPR_crush_thecrown
		x = 1
		y = 3
		
		completion_reward = {
			add_ideas = {idea_SPR_state_atheism}
			country_event = {
				id = spain.196
			}
		}
	}
	focus = {
		id = SPR_ban_noncommie_political_parties
		icon = GFX_our_place_in_the_shadows
		cost = 3
		prerequisite = {
			focus = SPR_enact_state_atheism
		}
		relative_position_id = SPR_enact_state_atheism
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_banned_political_parties_communist
			}
			country_event = {
				id = spain.210
			}
		}
	}
	focus = {
		id = SPR_industrial_aid_from_commie_bloc
		icon = focus_socialist_trading_network
		cost = 10
		prerequisite = {
			focus = SPR_enact_state_atheism
		}
		relative_position_id = SPR_enact_state_atheism
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			add_offsite_building = {
				type = industrial_complex
				level = 3
			}
			country_event = {
				id = spain.204
			}
		}
	}
	focus = {
		id = SPR_improve_workplace_mechanization
		icon = generic_electric
		cost = 7.2
		prerequisite = {
			focus = SPR_industrial_aid_from_commie_bloc
		}
		relative_position_id = SPR_industrial_aid_from_commie_bloc
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_class_improve_mechanization}
		}
	}
	focus = {
		id = SPR_permit_small_market_reforms
		icon = focus_profits_from_republics
		cost = 10
		prerequisite = {
			focus = SPR_improve_workplace_mechanization
		}
		relative_position_id = SPR_improve_workplace_mechanization
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
			add_ideas = {
				idea_spr_new_economic_plan
			}
		}
	}
	focus = {
		id = SPR_begin_farm_collectivization
		icon = focus_commonwealth_collectivisation
		cost = 7.2
		prerequisite = {
			focus = SPR_industrial_aid_from_commie_bloc
		}
		relative_position_id = SPR_industrial_aid_from_commie_bloc
		x = 2
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = {idea_SPR_farm_collectivization}
			country_event = {
				id = spain.202
			}
		}
	}
	focus = {
		id = SPR_force_the_obedience_of_rural_populations
		icon = free_some_farms
		cost = 10
		prerequisite = {
			focus = SPR_begin_farm_collectivization
		}
		relative_position_id = SPR_begin_farm_collectivization
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_farm_collectivization
				add_idea = idea_SPR_farm_collectivization_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.203
			}
		}
	}
	focus = {
		id = SPR_stimulate_andalusian_defense_industry
		icon = SPR_andalucian_defense_industry_focus
		cost = 10
		prerequisite = {
			focus = SPR_force_the_obedience_of_rural_populations
		}
		prerequisite = {
			focus = SPR_permit_small_market_reforms
		}
		relative_position_id = SPR_force_the_obedience_of_rural_populations
		x = -1
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
		    169 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    173 = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
			division_template = {
				name = "Red Volunteer Brigade"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					artillery_brigade = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			169 = {
				create_unit = {
					division = "name = \"Andalusian Red Volunteer Brigade\" division_template = \"Red Volunteer Brigade\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			173 = {
				create_unit = {
					division = "name = \"Andalusian Red Volunteer Brigade\" division_template = \"Red Volunteer Brigade\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			country_event = {
				id = spain.213
			}
		}
	}
	focus = {
		id = SPR_grant_citizenship_to_spanish_africa
		icon = Grant_Citizenship_to_Spanish_Africa
		cost = 10
		
		prerequisite = {
			focus = SPR_proclaim_the_fprs
		}
		
		mutually_exclusive = {
			focus = SPR_freedom_for_spanish_africa
		}
		
		bypass = {
			NOT = {
				owns_state = 297
			}
		}
		
		relative_position_id = SPR_proclaim_the_fprs
		x = 1
		y = 1
		
		completion_reward = {
			297 = {
				add_core_of = ROOT
			}
			297 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			country_event = {
				id = spain.199
			}
		}
	}
	focus = {
		id = SPR_freedom_for_spanish_africa
		icon = Freedom_for_Spanish_Africa
		cost = 10
		prerequisite = {
			focus = SPR_proclaim_the_fprs
		}
		mutually_exclusive = {
			focus = SPR_grant_citizenship_to_spanish_africa
		}
		
		bypass = {
			NOT = {
				owns_state = 297
			}
		}
		
		relative_position_id = SPR_proclaim_the_fprs
		x = -1
		y = 1
		
		completion_reward = {
			EQG = {
				transfer_state = 297
			}
			297 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 15000
				producer = SPR
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 2000
				producer = SPR
			}
			add_manpower = 25000
			hidden_effect = {
				EQG = {
					set_politics = {
						ruling_party = communist
						elections_allowed = no
						last_election = "1935.12.17"
						election_frequency = 48
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 15000
						producer = SPR
					}
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = 1500
						producer = SPR
					}
					add_equipment_to_stockpile = {
						type = support_equipment
						amount = 2000
						producer = SPR
					}
				}
			}
			give_guarantee = EQG
			country_event = {
				id = spain.198
			}
		}
	}
	focus = {
		id = SPR_tear_down_symbols_of_franco
		icon = tear_down_the_symbols_of_franco
		cost = 4
		prerequisite = {
			focus = SPR_enact_state_atheism
			focus = SPR_abolish_state_religion
		}
		prerequisite = {
			focus = SPR_freedom_for_spanish_africa
			focus = SPR_grant_citizenship_to_spanish_africa
		}

		relative_position_id = SPR_proclaim_the_fprs
		x = -1
		y = 2
		
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = -0.1
			}
			add_popularity = {
				ideology = national_bolshevik
				popularity = -0.1
			}
			add_popularity = {
				ideology = nationalist
				popularity = -0.1
			}
			add_political_power = 150
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			country_event = {
				id = spain.208
			}
		}
	}
	focus = {
		id = SPR_commie_legalize_homosexuality
		icon = focus_love_syria
		cost = 4
		prerequisite = {
			focus = SPR_freedom_for_spanish_africa
			focus = SPR_grant_citizenship_to_spanish_africa
		}
		prerequisite = {
			focus = SPR_enact_state_atheism
			focus = SPR_abolish_state_religion
		}

		relative_position_id = SPR_proclaim_the_fprs
		x = 1
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_amc_progressive_agenda
			}
			add_manpower = 25000
			country_event = {
				id = spain.201
			}
		}
	}
	focus = {
		id = SPR_commie_campaign_against_nationalism
		icon = glasnost
		cost = 5
		prerequisite = {
			focus = SPR_commie_legalize_homosexuality
			focus = SPR_tear_down_symbols_of_franco
		}

		relative_position_id = SPR_proclaim_the_fprs
		x = 0
		y = 3
		
		completion_reward = {
			add_ideas = {idea_SPR_anti_nationalist_crusade}
		}
	}
	focus = {
		id = SPR_commie_allow_women_in_the_armed_forces
		icon = communist_women_armed_forces_focus
		cost = 10
		prerequisite = {
			focus = SPR_commie_campaign_against_nationalism
		}

		relative_position_id = SPR_commie_campaign_against_nationalism
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_spr_women_in_the_armed_forces}
			division_template = {
				name = "Women's Infantry"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					artillery_brigade = { x = 1 y = 2 }
					
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					recon = { x = 0 y = 1 }
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
				}
				create_unit = {
					division = "name = \"Schoonheyt Company\" division_template = \"Women's Infantry\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
				}
				create_unit = {
					division = "name = \"Rukeyser Company\" division_template = \"Women's Infantry\" start_experience_factor = 0.05 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			country_event = {
				id = spain.214
			}
		}
	}
	focus = {
		id = SPR_commie_foster_youth_radicalism
		icon = SPR_commie_youth
		cost = 7.2
		prerequisite = {
			focus = SPR_commie_campaign_against_nationalism
		}

		relative_position_id = SPR_commie_campaign_against_nationalism
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_spr_youth_radicalism}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions_real_small
				}
			}
			country_event = {
				id = spain.207
			}
		}
	}

	focus = {
		id = SPR_miracle_of_spanish_communism
		icon = miracles_of_spanish_communism
		cost = 10
		prerequisite = {
			focus = SPR_stimulate_andalusian_defense_industry
			focus = SPR_focus_on_fulfilling_consumer_desires
		}

		relative_position_id = SPR_commie_campaign_against_nationalism
		x = 0
		y = 3
		
		completion_reward = {
			add_ideas = {idea_SPR_miracle_of_spanish_communism}
			country_event = {
				id = spain.206
			}
		}
	}
	focus = {
		id = SPR_commie_restore_international_red_aid
		icon = SPR_international_red_aid_focus
		cost = 5
		prerequisite = {
			focus = SPR_miracle_of_spanish_communism
			focus = SPR_the_bastion_of_true_socialism
		}

		relative_position_id = SPR_miracle_of_spanish_communism
		x = 5
		y = 2
		
		completion_reward = {
			add_ideas = {idea_spr_international_red_aid}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions_real_small
				}
				IF = {
					limit = {
						has_government = revolutionary_socialist
					}
					every_country = {
						limit = {
							has_government = revolutionary_socialist
							NOT = {
								tag = SPR
								tag = SPN
							}
						}
						country_event = {
							id = spain_diplo.195
						}
					}
					every_country = {
						limit = {
							OR = {
								has_government = moderate_socialist
								has_government = communist
							}
							NOT = {
								tag = SPR
								tag = SPN
							}
						}
						country_event = {
							id = spain_diplo.196
						}
					}
				}
				IF = {
					limit = {
						has_government = communist
					}
					every_country = {
						limit = {
							has_government = communist
							NOT = {
								tag = SPR
								tag = SPN
							}
						}
						country_event = {
							id = spain_diplo.195
						}
					}
					every_country = {
						limit = {
							OR = {
								has_government = moderate_socialist
								has_government = revolutionary_socialist
							}
							NOT = {
								tag = SPR
								tag = SPN
							}
						}
						country_event = {
							id = spain_diplo.196
						}
					}
				}
			}
			country_event = {
				id = spain.205
			}
		}
	}
	focus = {
		id = SPR_spains_five_year_plan
		icon = GFX_goal_Five_Year_Plan
		cost = 10
		prerequisite = {
			focus = SPR_miracle_of_spanish_communism
		}

		relative_position_id = SPR_miracle_of_spanish_communism
		x = 0
		y = 1
		
		completion_reward = {
			add_timed_idea = {
				idea = idea_spr_spanish_five_year_plan
				days = 1826
			}
		}
	}
	focus = {
		id = SPR_spanish_socialist_science
		icon = Technology_PCA
		cost = 7.2
		prerequisite = {
			focus = SPR_miracle_of_spanish_communism
		}

		relative_position_id = SPR_miracle_of_spanish_communism
		x = -2
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			swap_ideas = {
				remove_idea = idea_SPR_miracle_of_spanish_communism
				add_idea = idea_SPR_miracle_of_spanish_communism_2
			}
		}
	}
	focus = {
		id = SPR_open_state_mining_operations
		icon = steel
		cost = 7.2
		prerequisite = {
			focus = SPR_spains_five_year_plan
		}

		relative_position_id = SPR_spains_five_year_plan
		x = 1
		y = 1
		
		completion_reward = {
			176 = {
				add_resource = {
					type = steel
					amount = 25
				}
				add_resource = {
					type = aluminium
					amount = 6
				}
			}
			41 = {
				add_resource = {
					type = steel
					amount = 7
				}
				add_resource = {
					type = aluminium
					amount = 20
				}
			}
			170 = {
				add_resource = {
					type = tungsten
					amount = 15
				}
				add_resource = {
					type = chromium
					amount = 3
				}
			}
		}
	}
	focus = {
		id = SPR_expand_central_military_industries
		icon = industry_2
		cost = 7.2
		prerequisite = {
			focus = SPR_spains_five_year_plan
		}

		relative_position_id = SPR_spains_five_year_plan
		x = -1
		y = 1
		
		completion_reward = {
			176 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			41 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			175 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_invest_in_underindustrialized_regions
		icon = communist_construction
		cost = 10
		prerequisite = {
			focus = SPR_spains_five_year_plan
		}

		relative_position_id = SPR_spains_five_year_plan
		x = 0
		y = 2
		
		completion_reward = {
			170 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			169 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			173 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			178 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			175 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			IF = {
				limit = {
					owns_state = 921
				}
				921 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 931
				}
				931 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
		##Typical Democracy##
	
	focus = {
		id = SPR_continue_with_elections
		icon = GFX_goal_elections
		cost = 5
		
		prerequisite = {
			focus = SPR_republican_coup
		}
		
		available = {
			has_country_flag = held_elections_anyway
		}
		
		relative_position_id = SPR_republican_coup
		x = 5
		y = 1
		offset = {
			x = -5
			y = -0
			trigger = {
				has_completed_focus = SPR_continue_with_elections
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		allow_branch = {
		if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
				OR = {
					has_completed_focus = SPR_submitted_to_general_strike
					has_completed_focus = SPR_military_coup
					has_completed_focus = SPR_felipe_stays
					}
				}
			}
		}
		completion_reward = {
			country_event = spain.266
			hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	
		##Left Coalition##
	
	focus = {
		id = SPR_Left_coalition
		icon = SPR_left_coalition
		cost = 7

		prerequisite = {
			focus = SPR_continue_with_elections
		}
		
		available = {
			has_country_flag = left_coalition
		}
		
		relative_position_id = SPR_continue_with_elections
		x = -4
		y = 1
		completion_reward = {
			country_event = spain.53
		}
	}
	focus = {
		id = SPR_pass_labor_reform_laws
		icon = industry_paper
		cost = 7.2

		prerequisite = {
			focus = SPR_Left_coalition
		}
		
		relative_position_id = SPR_Left_coalition
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
			country_event = {
				id = spain.241
			}
		}
	}
	focus = {
		id = SPR_promise_living_wage_for_all
		icon = peace_money_development
		cost = 7.2

		prerequisite = {
			focus = SPR_pass_labor_reform_laws
		}
		
		available = {
			liberal > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_union_representation_act
			focus = SPR_workers_association_rights
		}
		relative_position_id = SPR_pass_labor_reform_laws
		x = 2
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_ideas = {
				idea_SPR_living_wage_for_all
			}
			country_event = {
				id = spain.242
			}
		}
	}
	focus = {
		id = SPR_workers_association_rights
		icon = generic_welfare_focus
		cost = 7.2

		prerequisite = {
			focus = SPR_pass_labor_reform_laws
		}
		
		available = {
			new_democrat > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_union_representation_act
			focus = SPR_promise_living_wage_for_all
		}
		relative_position_id = SPR_pass_labor_reform_laws
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_ideas = {
				idea_SPR_strong_workers_rights
			}
			country_event = {
				id = spain.243
			}
		}
	}
	focus = {
		id = SPR_union_representation_act
		icon = socialist_industry_generic
		cost = 7.2

		prerequisite = {
			focus = SPR_pass_labor_reform_laws
		}
		
		available = {
			moderate_socialist > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_workers_association_rights
			focus = SPR_promise_living_wage_for_all
		}
		relative_position_id = SPR_pass_labor_reform_laws
		x = -2
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_ideas = {
				idea_SPR_union_rep_act
			}
			country_event = {
				id = spain.244
			}
		}
	}
	focus = {
		id = SPR_a_ceremonial_nobility
		icon = SPR_a_ceremonial_nobility
		cost = 8

		prerequisite = {
			focus = SPR_union_representation_act
			focus = SPR_workers_association_rights
			focus = SPR_promise_living_wage_for_all
		}
		
		available = {
			liberal > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_new_obligations_of_nobility
			focus = SPR_outright_abolish_nobility
		}
		relative_position_id = SPR_promise_living_wage_for_all
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_ceremonial_nobility
			}
			add_popularity = {
				ideology = monarchist
				popularity = -0.05
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			country_event = {
				id = spain.245
			}
		}
	}
	focus = {
		id = SPR_new_obligations_of_nobility
		icon = SPR_new_obligations_of_nobility
		cost = 8

		prerequisite = {
			focus = SPR_union_representation_act
			focus = SPR_workers_association_rights
			focus = SPR_promise_living_wage_for_all
		}
		
		available = {
			new_democrat > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_a_ceremonial_nobility
			focus = SPR_outright_abolish_nobility
		}
		relative_position_id = SPR_promise_living_wage_for_all
		x = -4
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_new_obligations
			}
			add_popularity = {
				ideology = monarchist
				popularity = -0.05
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			country_event = {
				id = spain.246
			}
		}
	}
	focus = {
		id = SPR_outright_abolish_nobility
		icon = SPR_outright_abolish_nobility
		cost = 8

		prerequisite = {
			focus = SPR_union_representation_act
			focus = SPR_workers_association_rights
			focus = SPR_promise_living_wage_for_all
		}
		
		available = {
			moderate_socialist > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_new_obligations_of_nobility
			focus = SPR_a_ceremonial_nobility
		}
		relative_position_id = SPR_promise_living_wage_for_all
		x = -6
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_abolished_nobility
			}
			add_popularity = {
				ideology = monarchist
				popularity = -0.15
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			country_event = {
				id = spain.247
			}
		}
	}
	focus = {
		id = SPR_guarantee_universal_suffrage
		icon = left_wing_win
		cost = 5

		prerequisite = {
			focus = SPR_outright_abolish_nobility
			focus = SPR_new_obligations_of_nobility
			focus = SPR_a_ceremonial_nobility
		}
		
		relative_position_id = SPR_new_obligations_of_nobility
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_universal_suffrage
			}
			add_stability = 0.05
			country_event = {
				id = spain.248
			}
		}
	}
	focus = {
		id = SPR_freedom_of_speech_and_association
		icon = focus_freedom_of_speech
		cost = 5

		prerequisite = {
			focus = SPR_guarantee_universal_suffrage
		}
		
		relative_position_id = SPR_guarantee_universal_suffrage
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = 0.05
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
			add_political_power = 100
			country_event = {
				id = spain.87
			}
		}
	}
	focus = {
		id = SPR_repeal_state_catholicism
		icon = ban_christian_groups
		cost = 5

		prerequisite = {
			focus = SPR_freedom_of_speech_and_association
		}
		
		relative_position_id = SPR_freedom_of_speech_and_association
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_secular_governance}
			country_event = {
				id = spain.249
			}
		}
	}
	
	
	focus = {
		id = SPR_codify_regional_autonomy
		icon = SPR_codify_regional_autonomy
		cost = 7.2

		prerequisite = {
			focus = SPR_repeal_state_catholicism
		}
		
		available = {
			liberal > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_a_federal_spain
			focus = SPR_a_confederate_spain
		}
		relative_position_id = SPR_repeal_state_catholicism
		x = 2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			IF = {
				limit = {
					owns_state = 1020
					owns_state = 172
					NOT = {
						1020 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
						172 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
					}
				}
				1020 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
				172 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			IF = {
				limit = {
					owns_state = 171
					NOT = {
						171 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
					}
				}
				171 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			IF = {
				limit = {
					owns_state = 165
					NOT = {
						165 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
					}
				}
				165 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			IF = {
				limit = {
					owns_state = 852
					NOT = {
						852 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
					}
				}
				852 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			IF = {
				limit = {
					owns_state = 911
					NOT = {
						911 = {
							has_dynamic_modifier = { modifier = autonomous_state }
						}
					}
				}
				911 = {
					add_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			country_event = {
				id = spain.250
			}
			hidden_effect = {
				IF = {
					limit = {
						owns_state = 171
						OR = {
							has_government = new_democrat
							has_government = moderate_socialist
						}
					}
					country_event = {
						id = spain.240
						days = 11
					}
				}
			}
		}
	}
	focus = {
		id = SPR_a_federal_spain
		icon = SPR_a_federal_spain
		cost = 7.2

		prerequisite = {
			focus = SPR_repeal_state_catholicism
		}
		
		available = {
			new_democrat > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_codify_regional_autonomy
			focus = SPR_a_confederate_spain
		}
		relative_position_id = SPR_repeal_state_catholicism
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
			add_ideas = {
				idea_SPR_federalized_state
			}
			country_event = {
				id = spain.251
			}
			hidden_effect = {
				IF = {
					limit = {
						owns_state = 171
						OR = {
							has_government = new_democrat
							has_government = moderate_socialist
						}
					}
					country_event = {
						id = spain.240
						days = 11
					}
				}
			}
		}
	}
	focus = {
		id = SPR_a_confederate_spain
		icon = SPR_a_confederate_spain
		cost = 7.2

		prerequisite = {
			focus = SPR_repeal_state_catholicism
		}
		
		available = {
			moderate_socialist > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_codify_regional_autonomy
			focus = SPR_a_federal_spain
		}
		relative_position_id = SPR_repeal_state_catholicism
		x = -2
		y = 1
		
		completion_reward = {
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							country_exists = CAT
						}
						owns_state = 852
						owns_state = 165
						owns_state = 911
					}
				}
				hidden_effect = {
					CAT = {
						transfer_state = 165
						transfer_state = 852
						transfer_state = 911
					}
					every_state = {
						limit = {
							is_core_of = CAT
						}
						remove_core_of = ROOT
					}
				}
				puppet = CAT
			}
			IF = {
				limit = {
					NOT = {
						country_exists = GAL
					}
				}
				hidden_effect = {
					GAL = {
						transfer_state = 171
					}
					every_state = {
						limit = {
							is_core_of = GAL
						}
						remove_core_of = ROOT
					}
				}
				puppet = GAL
			}
			IF = {
				limit = {
					NOT = {
						country_exists = BSQ
					}
				}
				hidden_effect = {
					BSQ = {
						transfer_state = 1020
					}
					1020 = {
						remove_core_of = ROOT
					}
				}
				puppet = BSQ
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			IF = {
				limit = {
					NOT = {
						has_country_flag = spr_picked_wreath_over_crown
					}
				}
				set_cosmetic_tag = SPR_confederate
			}
			IF = {
				limit = {
					has_country_flag = spr_picked_wreath_over_crown
				}
				set_cosmetic_tag = SPR_confederate_wreath
			}
			country_event = {
				id = spain.81
			}
		}
	}
	focus = {
		id = SPR_reshuffle_military_organization
		icon = army_reform
		cost = 5

		prerequisite = {
			focus = SPR_promise_living_wage_for_all
			focus = SPR_workers_association_rights
			focus = SPR_union_representation_act
		}
		
		relative_position_id = SPR_promise_living_wage_for_all
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPR_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Patricia_Ortega
					traits={ brilliant_strategist trait_cautious infantry_officer skilled_staffer organizer}
					skill=3
					attack_skill=3
					defense_skill=2
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Begona_Aramendia_Rodriguez
					traits={ brilliant_strategist trait_cautious commando trickster }
					skill=3
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = SPN_Ana_Betegon
					traits={ inflexible_strategist trait_cautious engineer_officer trait_engineer adaptable }
					skill=2
					attack_skill=1
					defense_skill=3
					planning_skill=2
					logistics_skill=3
				}
			}
			country_event = {
				id = spain.252
			}
		}
	}
	focus = {
		id = SPR_reduce_military_spending
		icon = focus_showcase_public_opinion
		cost = 6

		prerequisite = {
			focus = SPR_reshuffle_military_organization
		}
		
		available = {
			liberal > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_force_disloyal_leaders_into_retirement
			focus = SPR_form_republican_home_guard
		}
		relative_position_id = SPR_reshuffle_military_organization
		x = 2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_reduced_military_spending
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			country_event = {
				id = spain.253
			}
		}
	}
	focus = {
		id = SPR_force_disloyal_leaders_into_retirement
		icon = anti_fascist
		cost = 6

		prerequisite = {
			focus = SPR_reshuffle_military_organization
		}
		
		available = {
			new_democrat > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_form_republican_home_guard
			focus = SPR_reduce_military_spending
		}
		relative_position_id = SPR_reshuffle_military_organization
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_loyal_republican_military
			}
			add_timed_idea = {
				idea = idea_SPR_paying_army_pensions
				days = 365
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPR
					}
					retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPR_Antonio_Martorell_Lacave
					retire_character = SPR_Fulgencio_Coll_Bucher
					retire_character = SPR_Francisco_Javier_Varela_Salas
					retire_character = SPR_Felix_Sanz_Roldan
					retire_character = SPR_Agustin_Rosety
					retire_character = SPR_Alberto_Asarta
					retire_character = SPR_Carlos_Villar_Turrau
					retire_character = SPR_Miguel_Angel_Ballesteros
					retire_character = SPR_Rafael_Comas
					retire_character = SPR_Luis_Alejandre_Sintes
					retire_character = SPR_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPR_Jose_Mena_Aguado
				}
				IF = {
					limit = {
						tag = SPN
					}
					retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPN_Antonio_Martorell_Lacave
					retire_character = SPN_Fulgencio_Coll_Bucher
					retire_character = SPN_Francisco_Javier_Varela_Salas
					retire_character = SPN_Felix_Sanz_Roldan
					retire_character = SPN_Agustin_Rosety
					retire_character = SPN_Alberto_Asarta
					retire_character = SPN_Carlos_Villar_Turrau
					retire_character = SPN_Miguel_Angel_Ballesteros
					retire_character = SPN_Rafael_Comas
					retire_character = SPN_Luis_Alejandre_Sintes
					retire_character = SPN_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPN_Jose_Mena_Aguado
				}
			}
			custom_effect_tooltip = spr_we_will_purge_senior_staff
			country_event = {
				id = spain.254
			}
		}
	}
	focus = {
		id = SPR_form_republican_home_guard
		icon = GFX_arsenal_of_democracy
		cost = 6

		prerequisite = {
			focus = SPR_reshuffle_military_organization
		}
		
		available = {
			moderate_socialist > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_force_disloyal_leaders_into_retirement
			focus = SPR_reduce_military_spending
		}
		relative_position_id = SPR_reshuffle_military_organization
		x = -2
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_republican_home_guard
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			division_template = {
				name = "Republican Home Guard"
				regiments = {
					armored_car = { x = 0 y = 0 }
					armored_car = { x = 0 y = 1 }
					armored_car = { x = 0 y = 2 }
					
					armored_car = { x = 1 y = 0 }
					armored_car = { x = 1 y = 1 }
					armored_car = { x = 1 y = 2 }

					armored_car = { x = 2 y = 0 }
					armored_car = { x = 2 y = 1 }
					armored_car = { x = 2 y = 2 }
				}
				support = {
					field_hospital = { x = 0 y = 0 }
					military_police = { x = 0 y = 1 }
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_tech = armored_car1
						}
					}
					set_technology = {
						armored_car1 = 1
					}
				}
			}
			41 = {
				create_unit = {
					division = "name = \"Republican Home Guard\" division_template = \"Republican Home Guard\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Republican Home Guard\" division_template = \"Republican Home Guard\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Republican Home Guard\" division_template = \"Republican Home Guard\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Republican Home Guard\" division_template = \"Republican Home Guard\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			hidden_effect = {
				IF = {
					limit = {
						tag = SPR
					}
					retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPR_Fernando_Garcia_Sanchez
					retire_character = SPR_Antonio_Martorell_Lacave
					retire_character = SPR_Fulgencio_Coll_Bucher
					retire_character = SPR_Francisco_Javier_Varela_Salas
					retire_character = SPR_Felix_Sanz_Roldan
					retire_character = SPR_Agustin_Rosety
					retire_character = SPR_Antonio_Budino
					retire_character = SPR_Luis_Cebrian
					retire_character = SPR_Alberto_Asarta
					retire_character = SPR_Carlos_Villar_Turrau
					retire_character = SPR_Miguel_Angel_Ballesteros
					retire_character = SPR_Rafael_Comas
					retire_character = SPR_Fernando_Lens_Astray
					retire_character = SPR_Miguel_Angel_Villarroya
					retire_character = SPR_Luis_Alejandre_Sintes
					retire_character = SPR_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPR_Jose_Mena_Aguado
				}
				IF = {
					limit = {
						tag = SPN
					}
					retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
					retire_character = SPN_Fernando_Garcia_Sanchez
					retire_character = SPN_Antonio_Martorell_Lacave
					retire_character = SPN_Fulgencio_Coll_Bucher
					retire_character = SPN_Francisco_Javier_Varela_Salas
					retire_character = SPN_Felix_Sanz_Roldan
					retire_character = SPN_Agustin_Rosety
					retire_character = SPN_Antonio_Budino
					retire_character = SPN_Luis_Cebrian
					retire_character = SPN_Alberto_Asarta
					retire_character = SPN_Carlos_Villar_Turrau
					retire_character = SPN_Miguel_Angel_Ballesteros
					retire_character = SPN_Rafael_Comas
					retire_character = SPN_Fernando_Lens_Astray
					retire_character = SPN_Miguel_Angel_Villarroya
					retire_character = SPN_Luis_Alejandre_Sintes
					retire_character = SPN_Jose_Antonio_Garcia_Gonzalez
					retire_character = SPN_Jose_Mena_Aguado
				}
			}
			custom_effect_tooltip = spr_we_will_purge_a_lot_of_generals
			country_event = {
				id = spain.255
			}
		}
	}
	
		##Right Coalition##
		
	focus = {
		id = SPR_right_coalition
		icon = CAN_spanish_democracy
		cost = 7

		prerequisite = {
			focus = SPR_continue_with_elections
			focus = SPR_felipe_victory_tour
		}
		
		available = {
			OR = {
				has_country_flag = right_coalition
				has_country_flag = felipe_democratic_constitution
			}
		}
		
		bypass = {
			has_country_flag = felipe_democratic_constitution
		}
		
		relative_position_id = SPR_continue_with_elections
		x = 4
		y = 1
		
		completion_reward = {
			country_event = spain.52
		}
	}
	focus = {
		id = SPR_pay_scabs_to_break_strike
		icon = pay_scabs_to_break_strikes
		cost = 7.2

		prerequisite = {
			focus = SPR_right_coalition
		}
		
		relative_position_id = SPR_right_coalition
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
			country_event = {
				id = spain.256
			}
		}
		
	}
	focus = {
		id = SPR_offer_bonuses_to_returning_workers
		icon = GFX_uplift_saada
		cost = 7.2

		prerequisite = {
			focus = SPR_pay_scabs_to_break_strike
		}
		
		available = {
			centrist > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_allow_limited_military_intervention
		}
		
		relative_position_id = SPR_pay_scabs_to_break_strike
		x = -1
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_timed_idea = {
				idea = idea_SPR_paying_off_strikers
				days = 90
			}
			country_event = {
				id = spain.257
			}
		}
	}
	focus = {
		id = SPR_rc_new_military_admins
		icon = military_salute
		cost = 5

		prerequisite = {
			focus = SPR_offer_bonuses_to_returning_workers
			focus = SPR_allow_limited_military_intervention
		}
		
		relative_position_id = SPR_offer_bonuses_to_returning_workers
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			IF = {
				limit = {
					tag = SPR
				}
				add_corps_commander_role = {
					Character = SPR_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPR_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				add_corps_commander_role = {
					Character = SPN_Ignacio_Olazabal_Elorz
					traits={ organizer armor_officer brilliant_strategist }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = SPN_Benito_Tauler_Cid
					traits={ brilliant_strategist trait_cautious organizer infantry_officer engineer_officer media_personality }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=3
					logistics_skill=2
				}
			}
			country_event = {
				id = spain.261
			}
		}
	}
	focus = {
		id = SPR_allow_limited_military_intervention
		icon = GFX_tanks_in_the_streets
		cost = 7.2

		prerequisite = {
			focus = SPR_pay_scabs_to_break_strike
		}
		
		available = {
			national_conservative > 0.2
		}
		
		mutually_exclusive = {
			focus = SPR_offer_bonuses_to_returning_workers
		}
		
		relative_position_id = SPR_pay_scabs_to_break_strike
		x = 2
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = SPR
			}
			add_manpower = -974
			country_event = {
				id = spain.258
			}
		}
	}
	focus = {
		id = SPR_uphold_sanctity_of_crown
		icon = royal_strength
		cost = 5

		prerequisite = {
			focus = SPR_allow_limited_military_intervention
			focus = SPR_offer_bonuses_to_returning_workers
		}
		
		relative_position_id = SPR_allow_limited_military_intervention
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_felipe_vi
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
			IF = {
				limit = {
					has_completed_focus = SPR_felipe_stays
				}
				country_event = {
					id = spain.260
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_felipe_stays
					}
				}
				country_event = {
					id = spain.259
				}
			}
		}
	}
	focus = {
		id = SPR_compromise_with_the_military
		icon = minority_rights
		cost = 6

		prerequisite = {
			focus = SPR_rc_new_military_admins
		}
		
		mutually_exclusive = {
			focus = SPR_force_the_army_to_modernize
		}
		
		available = {
			centrist > 0.2
		}
		
		relative_position_id = SPR_rc_new_military_admins
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_military_compromise
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			country_event = {
				id = spain.262
			}
		}
	}
	focus = {
		id = SPR_force_the_army_to_modernize
		icon = SPR_force_the_army_to_modernize
		cost = 6

		prerequisite = {
			focus = SPR_rc_new_military_admins
		}
		
		mutually_exclusive = {
			focus = SPR_compromise_with_the_military
		}
		
		available = {
			national_conservative > 0.2
		}
		
		relative_position_id = SPR_rc_new_military_admins
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_SPR_army_modernization
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			add_war_support = -0.05
			country_event = {
				id = spain.263
			}
		}
	}
	focus = {
		id = SPR_king_in_parliament
		icon = refresh_cortes_espanolas
		cost = 8

		prerequisite = {
			focus = SPR_uphold_sanctity_of_crown
		}
		
		mutually_exclusive = {
			focus = SPR_king_as_sic
		}
		
		available = {
			OR = {
				centrist > 0.15
				has_government = centrist
			}
		}
		
		relative_position_id = SPR_uphold_sanctity_of_crown
		x = -1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = -0.05
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
			add_political_power = 75
			IF = {
				limit = {
					has_completed_focus = SPR_felipe_victory_tour
				}
				country_event = {
					id = spain.105
				}
			}
			country_event = {
				id = spain.106
			}
		}
	}
	focus = {
		id = SPR_king_as_sic
		icon = support_monarchy
		cost = 8

		prerequisite = {
			focus = SPR_uphold_sanctity_of_crown
		}
		
		mutually_exclusive = {
			focus = SPR_king_in_parliament
		}
		
		available = {
			has_government = national_conservative
		}
		
		relative_position_id = SPR_uphold_sanctity_of_crown
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				spr_sic_felipe_vi
			}
			custom_effect_tooltip = spr_the_king_will_be_sic
			add_popularity = {
				ideology = monarchist
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
			country_event = {
				id = spain.264
			}
		}
	}
	focus = {
		id = SPR_rc_ties_to_church
		icon = focus_fund_christian_charities
		cost = 5

		prerequisite = {
			focus = SPR_king_in_parliament
			focus = SPR_king_as_sic
		}
		
		relative_position_id = SPR_uphold_sanctity_of_crown
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {idea_SPR_church_political_connections}
			country_event = {
				id = spain.265
			}
		}
	}
	focus = {
		id = SPR_limited_suffrage
		icon = focus_reform_port_procedures
		cost = 7.2

		prerequisite = {
			focus = SPR_rc_ties_to_church
		}
		
		mutually_exclusive = {
			focus = SPR_universal_suffrage
		}
		
		available = {
			national_conservative > 0.2
		}
		
		relative_position_id = SPR_rc_ties_to_church
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_limited_suffrage}
			country_event = {
				id = spain.268
			}
		}
	}
	focus = {
		id = SPR_universal_suffrage
		icon = GFX_reaffirms_universal_suffragge
		cost = 7.2

		prerequisite = {
			focus = SPR_rc_ties_to_church
		}
		
		mutually_exclusive = {
			focus = SPR_limited_suffrage
		}
		
		available = {
			centrist > 0.2
		}
		
		relative_position_id = SPR_rc_ties_to_church
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_universal_suffrage_2
			}
			country_event = {
				id = spain.267
			}
		}
	}
	focus = {
		id = SPR_protect_noble_titles
		icon = protect_noble_titles
		cost = 5

		prerequisite = {
			focus = SPR_limited_suffrage
			focus = SPR_universal_suffrage
		}
		
		relative_position_id = SPR_rc_ties_to_church
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_SPR_strengthened_nobility
			}
			country_event = {
				id = spain.269
			}
		}
	}
	
	##Coalition collapses##
	focus = {
		id = SPR_cement_the_new_coalition
		icon = focus_enforce_1990_constitution
		cost = 5

		prerequisite = {
			focus = SPR_a_confederate_spain
			focus = SPR_a_federal_spain
			focus = SPR_codify_regional_autonomy
			focus = SPR_protect_noble_titles
		}
		prerequisite = {
			focus = SPR_reduce_military_spending
			focus = SPR_force_disloyal_leaders_into_retirement
			focus = SPR_form_republican_home_guard
			focus = SPR_compromise_with_the_military
			focus = SPR_force_the_army_to_modernize
		}
		
		relative_position_id = SPR_rc_new_military_admins
		x = -2
		y = 4
		completion_reward = {
			remove_ideas = {
				idea_SPR_lingering_military_radicalism
				idea_SPR_lingering_republican_radicalism
			}
			hidden_effect = {
				IF = {
					limit = {
						OR = {
							has_government = centrist
							has_government = national_conservative
						}
					}
					set_cosmetic_tag = SPR_irl_monarchy
				}
			}
			country_event = {
				id = spain.114
			}
		}
	}
	focus = {
		id = SPR_hold_new_elections
		icon = GFX_goal_elections
		cost = 3
		
		available = {
			has_country_flag = spr_coalitions_collapse
		}
		
		prerequisite = {
			focus = SPR_cement_the_new_coalition
		}
		
		relative_position_id = SPR_cement_the_new_coalition
		x = 0
		y = 4
		
		completion_reward = {
			country_event = {
				id = spain.59
			}
		}
	}
	##Nationalist victory##
	focus = {
		id = SPR_nationalist_election_victory
		icon = national_democracy_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_national_democracy_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = -6
		y = 1
	}
	focus = {
		id = SPR_nat_military_expansion
		icon = GFX_mass_fund_the_army
		cost = 10
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nationalist_election_victory
		}
		
		relative_position_id = SPR_nationalist_election_victory
		x = -1
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_ideas = {
				idea_SPR_rapid_military_expansion
			}
		}
	}
	focus = {
		id = SPR_nat_enforce_a_new_education_curriculum
		icon = patriotic_education
		cost = 7.2
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_military_expansion
		}
		
		relative_position_id = SPR_nat_military_expansion
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_nationalist_education
			}
		}
	}
	focus = {
		id = SPR_nat_spain_for_spaniards
		icon = SPR_spain_for_spaniards
		cost = 7.2
		
		bypass = {
			has_completed_focus = SPR_natcon_immigration_restrictions
		}
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_enforce_a_new_education_curriculum
		}
		
		relative_position_id = SPR_nat_enforce_a_new_education_curriculum
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_immigration_restrictions
			}
			IF = {
				limit = {
					has_idea = idea_SPR_welcome_refugees
				}
				remove_ideas = {
					idea_SPR_welcome_refugees
				}
			}
		}
	}
	focus = {
		id = SPR_nat_reunite_spain
		icon = SPR_nat_reunite_spain
		cost = 10
		
		available = {
			has_government = nationalist
		}
		
		bypass = {
			AND = {
				NOT = {
					country_exists = CAT
				}
				NOT = {
					country_exists = GAL
				}
				NOT = {
					country_exists = BSQ
				}
				NOT = {
					has_completed_focus = SPR_a_confederate_spain
				}
				NOT = {
					OR = {
						has_idea = idea_SPR_separatist_woes_basques_appeased
						has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
						has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
						has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
						has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
						has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
						has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
						has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
						has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
						has_idea = idea_SPR_separatist_woes_start
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_nat_spain_for_spaniards
		}
		
		relative_position_id = SPR_nat_spain_for_spaniards
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = SPR_a_confederate_spain
					NOT = {
						has_country_flag = spr_picked_wreath_over_crown
					}
				}
				set_cosmetic_tag = SPR_thirdrep
			}
			IF = {
				limit = {
					has_completed_focus = SPR_a_confederate_spain
					has_country_flag = spr_picked_wreath_over_crown
				}
				set_cosmetic_tag = SPR_thirdrep
			}
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BSQ
				}
				every_state = {
					limit = {
						is_core_of = BSQ
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = GAL
					GAL = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GAL
				}
				every_state = {
					limit = {
						is_core_of = GAL
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						is_puppet = yes
					}
				}
				end_puppet = CAT
				CAT = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						is_puppet = yes
					}
				}
				end_puppet = BSQ
				BSQ = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = BSQ
				}
				every_state = {
					limit = {
						is_core_of = BSQ
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = GAL
					GAL = {
						is_puppet = yes
					}
				}
				end_puppet = GAL
				GAL = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = GAL
				}
				every_state = {
					limit = {
						is_core_of = GAL
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = CAI
					CAI = {
						is_puppet = yes
					}
				}
				end_puppet = CAI
				CAI = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = CAI
				}
				every_state = {
					limit = {
						is_core_of = CAI
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = CCM
					CCM = {
						is_puppet = yes
					}
				}
				end_puppet = CCM
				CCM = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = CCM
				}
				every_state = {
					limit = {
						is_core_of = CCM
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = ALU
					ALU = {
						is_puppet = yes
					}
				}
				end_puppet = ALU
				ALU = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = ALU
				}
				every_state = {
					limit = {
						is_core_of = ALU
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = ATA
					ATA = {
						is_puppet = yes
					}
				}
				end_puppet = ATA
				ATA = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = ATA
				}
				every_state = {
					limit = {
						is_core_of = ATA
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = EQG
					EQG = {
						is_puppet = yes
					}
				}
				end_puppet = EQG
				EQG = {
					drop_cosmetic_tag = yes
					set_country_flag = spr_nationalist_spain_is_annexing_its_puppets
				}
				create_wargoal = {
					type = annex_everything
					target = EQG
				}
				every_state = {
					limit = {
						is_core_of = EQG
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					any_country = {
						has_country_flag = spr_nationalist_spain_is_annexing_its_puppets
					}
				}
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					country_event = {
						id = spain_diplo.201
					}
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
		}
	}
	focus = {
		id = SPR_nat_major_tax_cuts
		icon = CSD_abolish_corporate_taxation
		cost = 5
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nationalist_election_victory
		}
		
		relative_position_id = SPR_nationalist_election_victory
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_tax_cuts
			}
		}
	}
	focus = {
		id = SPR_nat_abolish_welfare_spending
		icon = focus_freedom_for_the_top_hat
		cost = 10
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_major_tax_cuts
		}
		
		relative_position_id = SPR_nat_major_tax_cuts
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_2
				}
			}
			swap_ideas = {
				remove_idea = idea_SPR_tax_cuts
				add_idea = idea_SPR_abolished_welfare_spending
			}
			IF = {
				limit = {
					has_idea= idea_spr_modsoc_welfare
				}
				remove_ideas = {
					has_idea= idea_spr_modsoc_welfare
				}
			}
			IF = {
				limit = {
					has_idea= idea_spr_modsoc_welfare_2
				}
				remove_ideas = {
					has_idea= idea_spr_modsoc_welfare_2
				}
			}
			IF = {
				limit = {
					has_idea= idea_spr_modsoc_welfare_3
				}
				remove_ideas = {
					has_idea= idea_spr_modsoc_welfare_3
				}
			}
			IF = {
				limit = {
					has_idea= idea_spr_modsoc_welfare_4
				}
				remove_ideas = {
					has_idea= idea_spr_modsoc_welfare_4
				}
			}
			IF = {
				limit = {
					has_idea= idea_SPR_social_safety_net
				}
				remove_ideas = {
					has_idea= idea_SPR_social_safety_net
				}
			}
			IF = {
				limit = {
					has_idea= idea_SPR_social_safety_net_2
				}
				remove_ideas = {
					has_idea= idea_SPR_social_safety_net_2
				}
			}
			IF = {
				limit = {
					has_idea= idea_SPR_social_safety_net_3
				}
				remove_ideas = {
					has_idea= idea_SPR_social_safety_net_3
				}
			}
			IF = {
				limit = {
					has_idea= idea_SPR_social_safety_net_4
				}
				remove_ideas = {
					has_idea= idea_SPR_social_safety_net_4
				}
			}
			IF = {
				limit = {
					has_idea= idea_SPR_social_safety_net_5
				}
				remove_ideas = {
					has_idea= idea_SPR_social_safety_net_5
				}
			}
		}
	}
	focus = {
		id = SPR_nat_mass_privatization
		icon = GFX_further_privatisation
		cost = 10
		
		prerequisite = {
			focus = SPR_nat_abolish_welfare_spending
		}
		
		available = {
			has_government = nationalist
		}
		
		relative_position_id = SPR_nat_abolish_welfare_spending
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_nat_no_more_red_tape
				}
				swap_ideas = {
					remove_idea = idea_SPR_deregulation
					add_idea = idea_SPR_deregulation_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_nat_no_more_red_tape
					}
				}
				add_ideas = {
					idea_SPR_deregulation
				}
			}
		}
	}
	focus = {
		id = SPR_nat_no_more_red_tape
		icon = SPR_cut_red_tape_focus
		cost = 6
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_abolish_welfare_spending
		}
		
		relative_position_id = SPR_nat_abolish_welfare_spending
		x = 2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = SPR_nat_mass_privatization
				}
				swap_ideas = {
					remove_idea = idea_SPR_deregulation
					add_idea = idea_SPR_deregulation_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_nat_mass_privatization
					}
				}
				add_ideas = {
					idea_SPR_deregulation
				}
			}
		}
	}
	focus = {
		id = SPR_nat_rejoin_the_world_economy
		icon = GFX_global_tax_haven
		cost = 10
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_no_more_red_tape
		}
		prerequisite = {
			focus = SPR_nat_mass_privatization
		}
		
		relative_position_id = SPR_nat_no_more_red_tape
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
			add_ideas = {free_trade}
			add_offsite_building = {
				type = industrial_complex
				level = 3
			}
		}
	}
	focus = {
		id = SPR_nat_enforce_law_and_order
		icon = police_action_plan2
		cost = 5
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_nat_rejoin_the_world_economy
		}
		prerequisite = {
			focus = SPR_nat_reunite_spain
		}
		
		relative_position_id = SPR_nat_rejoin_the_world_economy
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_law_and_order
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPR_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPR_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPR_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPR_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPN_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPN_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPN_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPN_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPR_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPR_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPN_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPN_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPR_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPR_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPR_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPR_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPR_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPR_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPN_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPN_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPN_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPN_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPN_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPN_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
		}
	}
	focus = {
		id = SPR_nat_reinstate_state_catholicism
		icon = SPR_nat_reinstate_state_catholicism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_nat_enforce_law_and_order
		}
		
		mutually_exclusive = {
			focus = SPR_nat_subvert_the_king
		}
		
		available = {
			has_government = nationalist
			OR = {
				has_country_flag = left_coalition
				has_country_flag = spr_the_unitary_republic
			}
		}
		
		relative_position_id = SPR_nat_enforce_law_and_order
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_revitalized_church
			}
		}
	}
	focus = {
		id = SPR_nat_subvert_the_king
		icon = anti_monarchy
		cost = 7.2
		
		prerequisite = {
			focus = SPR_nat_enforce_law_and_order
		}
		
		mutually_exclusive = {
			focus = SPR_nat_reinstate_state_catholicism
		}
		
		available = {
			has_government = nationalist
			OR = {
				has_country_flag = right_coalition
				has_country_flag = felipe_democratic_constitution
			}
			NOT = {
				has_country_flag = spr_the_unitary_republic
			}
		}
		
		relative_position_id = SPR_nat_enforce_law_and_order
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_subverting_the_king
			}
			IF = {
				limit = {
					has_completed_focus = SPR_king_as_sic
					has_idea = spr_sic_felipe_vi
				}
				remove_ideas = {
					spr_sic_felipe_vi
				}
				add_ideas = {
					spr_sic_ignacio_cosido_gutierrez
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_king_as_sic
					has_idea = spr_sic_carlos_javier_I
				}
				remove_ideas = {
					spr_sic_carlos_javier_I
				}
				add_ideas = {
					spr_sic_ignacio_cosido_gutierrez
				}
			}
		}
	}
	focus = {
		id = SPR_nat_repeal_freedom_of_association
		icon = SPR_nat_repeal_freedom_of_association
		cost = 5
		
		prerequisite = {
			focus = SPR_nat_reinstate_state_catholicism
			focus = SPR_nat_subvert_the_king
		}
		
		available = {
			has_government = nationalist
		}
		
		relative_position_id = SPR_nat_reinstate_state_catholicism
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_restricted_political_freedoms
			}
			add_popularity = {
				ideology = new_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.15
			}
		}
	}
	focus = {
		id = SPR_nat_illiberal_democracy
		icon = spain_illiberal_democracy
		cost = 10
		
		prerequisite = {
			focus = SPR_nat_repeal_freedom_of_association
		}
		
		available = {
			has_government = nationalist
		}
		
		relative_position_id = SPR_nat_repeal_freedom_of_association
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_an_illiberal_democracy
			}
		}
	}
	
	##ModSoc##
	focus = {
		id = SPR_modsoc_election_victory
		icon = united_labor_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_united_labor_party_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = 0
		y = 1
	}
	focus = {
		id = SPR_modsoc_enact_ubi
		icon = welfare_statism
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_election_victory
		}
		
		relative_position_id = SPR_modsoc_election_victory
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_modsoc_welfare
			}
		}
	}
	focus = {
		id = SPR_modsoc_right_to_education
		icon = GFX_goal_education
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_enact_ubi
		}
		
		relative_position_id = SPR_modsoc_enact_ubi
		x = 0
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			swap_ideas = {
				remove_idea = idea_spr_modsoc_welfare
				add_idea = idea_spr_modsoc_welfare_3
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_modsoc_welcome_refugees
		icon = Encourage_Immigration_2
		cost = 6
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_right_to_education
		}
		
		relative_position_id = SPR_modsoc_right_to_education
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_welcome_refugees
			}
			add_stability = -0.03
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_modsoc_guarantee_good_housing
		icon = housing
		cost = 7.2
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_welcome_refugees
		}
		
		relative_position_id = SPR_modsoc_welcome_refugees
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_modsoc_welfare_3
				add_idea = idea_spr_modsoc_welfare_2
			}
		}
	}
	focus = {
		id = SPR_modsoc_community_policing
		icon = GFX_purge_police
		cost = 5
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_guarantee_good_housing
		}
		
		relative_position_id = SPR_modsoc_guarantee_good_housing
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_community_policing
			}
		}
	}
	focus = {
		id = SPR_modsoc_accumulated_wealth_tax
		icon = parties
		cost = 6
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_election_victory
		}
		
		relative_position_id = SPR_modsoc_election_victory
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_accumulated_wealth_tax
			}
		}
	}
	focus = {
		id = SPR_modsoc_smash_big_business
		icon = crush_minnesota_elites
		cost = 10
		 
		available = {
			has_government = moderate_socialist
		}
		 
		prerequisite = {
			focus = SPR_modsoc_accumulated_wealth_tax
		}
		
		relative_position_id = SPR_modsoc_accumulated_wealth_tax
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_2
				}
			}
			swap_ideas = {
				remove_idea = idea_spr_accumulated_wealth_tax
				add_idea = idea_spr_accumulated_wealth_tax_2
			}
		}
	}
	focus = {
		id = SPR_modsoc_industrial_collectivization
		icon = industry_1
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		prerequisite = {
			focus = SPR_modsoc_smash_big_business
		}
		
		relative_position_id = SPR_modsoc_smash_big_business
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 10
				}
			}
		    170 = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = tungsten
					amount = 7
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_modsoc_reduce_dependency_on_cash_crops
		icon = GFX_goal_generic_agriculture
		cost = 8
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_smash_big_business
		}
		
		relative_position_id = SPR_modsoc_smash_big_business
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_reduced_dependency_on_cash_crops
			}
		}
	}
	focus = {
		id = SPR_modsoc_nationalize_critical_industries
		icon = industry_generic_focus
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_reduce_dependency_on_cash_crops
		}
		prerequisite = {
			focus = SPR_modsoc_industrial_collectivization
		}
		
		relative_position_id = SPR_modsoc_industrial_collectivization
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_modsoc_exhume_francos_remains
		icon = focus_state_funeral_for_sanders
		cost = 4
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_guarantee_good_housing
		}
		prerequisite = {
			focus = SPR_modsoc_nationalize_critical_industries
		}
		
		relative_position_id = SPR_modsoc_guarantee_good_housing
		x = 1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = -0.05
			}
			add_political_power = 100
			country_event = {
				id = spain.95
			}
		}
	}
	focus = {
		id = SPR_modsoc_reconcile_the_communists
		icon = cooperate_with_some_communists
		cost = 6
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_nationalize_critical_industries
		}
		
		relative_position_id = SPR_modsoc_nationalize_critical_industries
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = 0.05
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			add_ideas = {
				idea_SPR_reconcile_the_communists
			}
			custom_effect_tooltip = spr_modsoc_spain_lets_in_neocommunists_and_ccoo
			country_event = {
				id = spain.96
			}
		}
	}
	focus = {
		id = SPR_modsoc_model_euro_democracy
		icon = SPR_modsoc_model_euro_democracy
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_modsoc_community_policing
		}
		prerequisite = {
			focus = SPR_modsoc_exhume_francos_remains
		}
		prerequisite = {
			focus = SPR_modsoc_reconcile_the_communists
		}
		
		relative_position_id = SPR_modsoc_exhume_francos_remains
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_model_european_democracy
			}
		}
	}
	##NewDem Election Victory##
	focus = {
		id = SPR_newdem_election_victory
		icon = psoe_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_psoe_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = 6
		y = 1
	}
	focus = {
		id = SPR_newdem_enact_social_security
		icon = SPR_social_security
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_election_victory
		}
		
		relative_position_id = SPR_newdem_election_victory
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_social_safety_net
			}
		}
	}
	focus = {
		id = SPR_newdem_pass_dependency_law
		icon = aid_to_the_community
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_enact_social_security
		}
		
		relative_position_id = SPR_newdem_enact_social_security
		x = -2
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_social_safety_net
				add_idea = idea_SPR_social_safety_net_2
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_newdem_alliance_with_big_business
		icon = canada_protectionism
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_enact_social_security
		}
		
		relative_position_id = SPR_newdem_enact_social_security
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_2
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_newdem_federalize_spain
		icon = SPR_spain_federalized
		cost = 7.2
		
		available = {
			has_government = new_democrat
			has_completed_focus = SPR_right_coalition
			OR = {
				has_idea = idea_SPR_separatist_woes_basques_appeased
				has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				has_idea = idea_SPR_separatist_woes_start
			}
		}
		
		prerequisite = {
			focus = SPR_newdem_alliance_with_big_business
		}
		
		relative_position_id = SPR_newdem_alliance_with_big_business
		x = 1
		y = 1
		completion_reward = {
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			add_ideas = {
				idea_SPR_federalized_state
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
			}
		}
	}
	focus = {
		id = SPR_newdem_full_employment_program
		icon = intelligence_exchange
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		prerequisite = {
			focus = SPR_newdem_alliance_with_big_business
		}
		prerequisite = {
			focus = SPR_newdem_pass_dependency_law
		}
		
		relative_position_id = SPR_newdem_enact_social_security
		x = 0
		y = 2
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
			swap_ideas = {
				remove_idea = idea_SPR_social_safety_net_2
				add_idea = idea_SPR_social_safety_net_3
			}
		}
	}
	focus = {
		id = SPR_newdem_invest_in_promising_industrial_hubs
		icon = peace_money_development
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_full_employment_program
		}
		
		relative_position_id = SPR_newdem_full_employment_program
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_newdem_national_projects_administration
		icon = factory_build
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_full_employment_program
		}
		
		relative_position_id = SPR_newdem_full_employment_program
		x = 2
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_social_safety_net_3
				add_idea = idea_SPR_social_safety_net_4
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_newdem_socialize_healthcare
		icon = focus_friends_in_the_medicinal_council
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_pass_dependency_law
		}
		
		relative_position_id = SPR_newdem_full_employment_program
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_socialized_healthcare
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_newdem_no_monuments_to_tyrants
		icon = SPR_newdem_no_monuments_to_tyrants
		cost = 6
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_invest_in_promising_industrial_hubs
		}
		prerequisite = {
			focus = SPR_newdem_socialize_healthcare
		}
		
		relative_position_id = SPR_newdem_invest_in_promising_industrial_hubs
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_no_monuments_to_tyrants
			}
		}
	}
	focus = {
		id = SPR_newdem_exhume_francos_body
		icon = SPR_newdem_exhume_francos_body
		cost = 5
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_no_monuments_to_tyrants
		}
		
		relative_position_id = SPR_newdem_no_monuments_to_tyrants
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = -0.05
			}
			add_political_power = 100
			country_event = {
				id = spain.97
			}
		}
	}
	focus = {
		id = SPR_newdem_emphasize_renewable_energy
		icon = wind_power_initiative
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_invest_in_promising_industrial_hubs
		}
		prerequisite = {
			focus = SPR_newdem_national_projects_administration
		}
		
		relative_position_id = SPR_newdem_invest_in_promising_industrial_hubs
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_renewable_energy_focus
			}
		}
	}
	focus = {
		id = SPR_newdem_sustainable_farming_act
		icon = GFX_hail_the_farmer
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_emphasize_renewable_energy
		}
		
		relative_position_id = SPR_newdem_emphasize_renewable_energy
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_sustainable_farming_act
			}
		}
	}
	focus = {
		id = SPR_newdem_a_fair_society
		icon = rose_with_dove_focus
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_newdem_exhume_francos_body
		}
		prerequisite = {
			focus = SPR_newdem_sustainable_farming_act
		}
		
		relative_position_id = SPR_newdem_exhume_francos_body
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_fair_society
			}
		}
	}
	##Liberal Election Victory##
	focus = {
		id = SPR_liberal_election_victory
		icon = popular_union_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_popular_union_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = 11
		y = 1
	}
	focus = {
		id = SPR_liberal_guarantee_unemployment_subsidies
		icon = investigate_industrial_corruption
		cost = 6
		 
		prerequisite = {
			focus = SPR_liberal_election_victory
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_election_victory
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_unemployment_subsidies
			}
		}
	}
	focus = {
		id = SPR_liberal_olive_branch_to_the_right
		icon = major_alliance
		cost = 5
		 
		prerequisite = {
			focus = SPR_liberal_election_victory
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_election_victory
		x = -2
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = centrist
				popularity = 0.04
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.02
			}
			add_ideas = {
				idea_SPR_olive_branch_to_the_right
			}
			country_event = {
				id = spain.98
			}
		}
	}
	focus = {
		id = SPR_liberal_drug_legalization
		icon = legalise_cannabis
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_liberal_election_victory
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_election_victory
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_glr_cannabis
			}
		}
	}
	focus = {
		id = SPR_liberal_subsidize_research_spending
		icon = focus_bribe_technology_council
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_olive_branch_to_the_right
		}
		prerequisite = {
			focus = SPR_liberal_guarantee_unemployment_subsidies
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_olive_branch_to_the_right
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_subsidize_research_spending
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_liberal_attract_foreign_business
		icon = invite_multinationals
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_drug_legalization
		}
		prerequisite = {
			focus = SPR_liberal_guarantee_unemployment_subsidies
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_guarantee_unemployment_subsidies
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_SPR_foreign_investments
			}
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_3
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy_2
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
		}
	}
	focus = {
		id = SPR_liberal_smash_bureaucracy
		icon = Redress_The_Nation_CEA
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_subsidize_research_spending
		}
		prerequisite = {
			focus = SPR_liberal_attract_foreign_business
		}
		available = {
			has_government = liberal
		}
		bypass = {
			NOT = {
				has_idea = idea_SPR_backwards_economy_2
			}
			NOT = {
				has_idea = idea_SPR_backwards_economy_3
			}
		}
		
		relative_position_id = SPR_liberal_subsidize_research_spending
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {idea_SPR_streamlined_bureaucracy}
			remove_ideas = {idea_SPR_backwards_economy_3}
			hidden_effect = {
				remove_ideas = {idea_SPR_backwards_economy_2}
			}
		}
	}
	focus = {
		id = SPR_liberal_discourage_unions
		icon = SPR_discourage_labor_unions_focus
		cost = 6
		 
		prerequisite = {
			focus = SPR_liberal_smash_bureaucracy
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_smash_bureaucracy
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_union_restrictions}
		}
	}
	focus = {
		id = SPR_liberal_encourage_spanish_nationalism
		icon = SPR_liberal_encourage_spanish_nationalism
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_smash_bureaucracy
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_smash_bureaucracy
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_encourage_spanish_nationalism}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
		}
	}
	focus = {
		id = SPR_liberal_immigration_reform
		icon = SPR_liberal_immigration_reform
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_liberal_discourage_unions
		}
		prerequisite = {
			focus = SPR_liberal_encourage_spanish_nationalism
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_smash_bureaucracy
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_SPR_immigration_premiums
			}
			country_event = {
				id = spain.99
			}
		}
	}
	focus = {
		id = SPR_liberal_consolidate_rural_electorates
		icon = tree_focus
		cost = 5
		 
		prerequisite = {
			focus = SPR_liberal_immigration_reform
		}
		
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_immigration_reform
		x = -1
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_popularity = {
				ideology = liberal
				popularity = 0.05
			}
			add_political_power = 75
		}
	}
	focus = {
		id = SPR_liberal_ban_communist_parties
		icon = focus_spread_democracy
		cost = 5
		 
		prerequisite = {
			focus = SPR_liberal_immigration_reform
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_immigration_reform
		x = 1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = -0.15
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.10
			}
			country_event = {
				id = spain.100
			}
		}
	}
	focus = {
		id = SPR_liberal_recentralize_spain
		icon = SPR_liberal_recentralize_spain
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_ban_communist_parties
		}
		prerequisite = {
			focus = SPR_liberal_consolidate_rural_electorates
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_ban_communist_parties
		x = -1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = SPR_codify_regional_autonomy
				}
				country_event = {
					id = spain.101
				}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_a_federal_spain
				}
				country_event = {
					id = spain.102
				}
				remove_ideas = {idea_SPR_federalized_state}
				IF = {
					limit = {
						owns_state = 1020
						owns_state = 172
						NOT = {
							1020 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
							172 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
						}
					}
					1020 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
					172 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
				}
				IF = {
					limit = {
						owns_state = 171
						NOT = {
							171 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
						}
					}
					171 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
				}
				IF = {
					limit = {
						owns_state = 852
						NOT = {
							852 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
						}
					}
					852 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
				}
				IF = {
					limit = {
						owns_state = 852
						NOT = {
							852 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
						}
					}
					852 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
				}
				IF = {
					limit = {
						owns_state = 911
						NOT = {
							911 = {
								has_dynamic_modifier = { modifier = autonomous_state }
							}
						}
					}
					911 = {
						add_dynamic_modifier = { modifier = autonomous_state }
					}
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_a_confederate_spain
				}
				country_event = {
					id = spain.103
				}
				set_cosmetic_tag = SPR_thirdrep
				every_country = {
					limit = {
						is_puppet_of = ROOT
						OR = {
							tag = CAT
							tag = BSQ
							tag = GAL
							tag = ALU
							tag = CAI
							tag = CCM
							tag = ATA
							tag = WSA
						}
					}
					every_state = {
						limit = {
							is_core_of = PREV
						}
						add_claim_by = ROOT
					}
				}
				every_country = {
					limit = {
						is_puppet_of = ROOT
						OR = {
							tag = CAT
							tag = BSQ
							tag = GAL
							tag = ALU
							tag = CAI
							tag = CCM
							tag = ATA
							tag = WSA
						}
					}
					country_event = {
						id = spain_diplo.38
					}
				}
			}
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BSQ
				}
				every_state = {
					limit = {
						is_core_of = BSQ
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = GAL
					GAL = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GAL
				}
				every_state = {
					limit = {
						is_core_of = GAL
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = ALU
					ALU = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ALU
				}
				every_state = {
					limit = {
						is_core_of = ALU
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = CAI
					CAI = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CAI
				}
				every_state = {
					limit = {
						is_core_of = CAI
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = CCM
					CCM = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CCM
				}
				every_state = {
					limit = {
						is_core_of = CCM
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = ATA
					ATA = {
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ATA
				}
				every_state = {
					limit = {
						is_core_of = ATA
					}
					add_claim_by = ROOT
				}
			}
			custom_effect_tooltip = spr_recentralize_spain
		}
	}
	focus = {
		id = SPR_liberal_a_free_spain
		icon = free_spain_focus
		cost = 10
		 
		prerequisite = {
			focus = SPR_liberal_recentralize_spain
		}
		available = {
			has_government = liberal
		}
		
		relative_position_id = SPR_liberal_recentralize_spain
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_in_pursuit_of_liberty
			}
		}
	}
	##Centrist Election Victory##
	focus = {
		id = SPR_centrist_election_victory
		icon = one_spain_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_one_spain_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = 16
		y = 1
	}
	focus = {
		id = SPR_centrist_soften_church_traditions
		icon = soften_church_traditions
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_centrist_election_victory
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_election_victory
		x = -1
		y = 1
		
		completion_reward = {
			add_stability = 0.04
			add_political_power = 80
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.104
			}
		}
	}
	focus = {
		id = SPR_centrist_the_asylum_act
		icon = concessions
		cost = 6
		 
		prerequisite = {
			focus = SPR_centrist_election_victory
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_election_victory
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_asylum_act
			}
		}
	}
	focus = {
		id = SPR_centrist_promote_traditional_gender_roles
		icon = traditional_values
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_centrist_soften_church_traditions
		}
		prerequisite = {
			focus = SPR_centrist_the_asylum_act
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_election_victory
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_spr_traditional_gender_roles
			}
		}
	}
	focus = {
		id = SPR_centrist_invite_foreign_investment
		icon = YEM_trade_with_the_west
		cost = 10
		 
		prerequisite = {
			focus = SPR_centrist_promote_traditional_gender_roles
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_promote_traditional_gender_roles
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_2
				}
			}
			add_ideas = {
				idea_SPR_foreign_investments
			}
		}
	}
	focus = {
		id = SPR_centrist_embrace_spanish_cultural_traditions
		icon = embrace_spanish_traditions
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_centrist_promote_traditional_gender_roles
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_promote_traditional_gender_roles
		x = -2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = SPR_extoll_spanish_tradition
				}
				swap_ideas = {
					remove_idea = idea_SPR_strength_of_tradition
					add_idea = idea_SPR_strength_of_tradition_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_extoll_spanish_tradition
					}
				}
				add_ideas = {
					idea_SPR_strength_of_tradition
				}
			}
		}
	}
	focus = {
		id = SPR_centrist_measures_towards_secularism
		icon = GFX_a_secular_society
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_centrist_embrace_spanish_cultural_traditions
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_embrace_spanish_cultural_traditions
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_partial_secularization
			}
		}
	}
	focus = {
		id = SPR_centrist_major_tax_overhaul
		icon = invite_multinationals
		cost = 6
		 
		prerequisite = {
			focus = SPR_centrist_promote_traditional_gender_roles
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_promote_traditional_gender_roles
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_tax_overhaul
			}
		}
	}
	focus = {
		id = SPR_centrist_deregulate_the_markets
		icon = positive_trade_relations
		cost = 10
		 
		prerequisite = {
			focus = SPR_centrist_invite_foreign_investment
		}
		prerequisite = {
			focus = SPR_centrist_major_tax_overhaul
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_invite_foreign_investment
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
			add_ideas = {idea_SPR_moderate_deregulation}
		}
	}
	focus = {
		id = SPR_centrist_open_up_military_contracts
		icon = GFX_modernised_armed_forces
		cost = 10
		 
		prerequisite = {
			focus = SPR_centrist_measures_towards_secularism
		}
		prerequisite = {
			focus = SPR_centrist_deregulate_the_markets
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_invite_foreign_investment
		x = 0
		y = 2
		
		completion_reward = {
			hidden_effect = {
				IF = {
					limit = {
						has_country_leader = {
							name = "Mariano Rajoy"
							ruling_only = yes
						}
					}
					country_event = {
						id = spain.62
					}
				}
			}
			add_ideas = {idea_SPR_military_contracts}
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
		}
	}
	focus = {
		id = SPR_centrist_allow_nobility_in_parliament
		icon = allow_nobility_in_parliament
		cost = 5
		
		mutually_exclusive = {
			focus = SPR_centrist_anti_corruption_campaign
		}
		
		prerequisite = {
			focus = SPR_centrist_open_up_military_contracts
		}

		available = {
			has_country_leader = {
				name = "Mariano Rajoy"
				ruling_only = yes
			}
			has_government = centrist
			has_country_flag = rajoy_stays
		}
		
		relative_position_id = SPR_centrist_open_up_military_contracts
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_ita_culture_of_corruption 
			}
		}
	}
	focus = {
		id = SPR_centrist_reform_labor_laws
		icon = industry_paper
		cost = 7.2
		
		bypass = {
			has_completed_focus = SPR_natcon_enforce_ban_on_unions
		}
		
		prerequisite = {
			focus = SPR_centrist_allow_nobility_in_parliament
		}
		available = {
			has_government = centrist
		}

		relative_position_id = SPR_centrist_allow_nobility_in_parliament
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_labor_unions_banned
			}
		}
	}
	focus = {
		id = SPR_centrist_anti_corruption_campaign
		icon = focus_anti_corruption_crusade
		cost = 5
		
		mutually_exclusive = {
			focus = SPR_centrist_allow_nobility_in_parliament
		}
		
		prerequisite = {
			focus = SPR_centrist_open_up_military_contracts
		}

		available = {
			NOT = {
				has_country_leader = {
					name = "Mariano Rajoy"
					ruling_only = yes
				}
			}
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_open_up_military_contracts
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_anti_corruption_campaign}
		}
	}
	focus = {
		id = SPR_centrist_collaborate_with_psoe
		icon = SPR_ue_collab_with_psoe
		cost = 7.2
		
		mutually_exclusive = {
			focus = SPR_centrist_collaborate_with_pp
		}
		
		prerequisite = {
			focus = SPR_centrist_anti_corruption_campaign
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_anti_corruption_campaign
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_glr_committed_to_progress 
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_centrist_collaborate_with_pp
		icon = SPR_ue_collab_with_pp
		cost = 7.2
		
		mutually_exclusive = {
			focus = SPR_centrist_collaborate_with_psoe
		}
		
		prerequisite = {
			focus = SPR_centrist_anti_corruption_campaign
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_anti_corruption_campaign
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_social_conservatism_reinforced 
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_centrist_live_up_to_one_spain
		icon = live_up_to_the_name_one_spain
		cost = 10
		
		bypass = {
			NOT = {
				country_exists = CAT
				country_exists = BSQ
				country_exists = GAL
			}
			all_owned_state = {
				NOT = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			NOT = {
				has_idea = idea_SPR_separatist_woes_basques_appeased
				has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				has_idea = idea_SPR_separatist_woes_start
			}
		}
		
		prerequisite = {
			focus = SPR_centrist_collaborate_with_pp
			focus = SPR_centrist_collaborate_with_psoe
			focus = SPR_centrist_reform_labor_laws
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_collaborate_with_psoe
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {country_exists = CAT}
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {country_exists = BSQ}
				create_wargoal = {
					type = annex_everything
					target = BSQ
				}
				every_state = {
					limit = {
						is_core_of = BSQ
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {country_exists = GAL}
				create_wargoal = {
					type = annex_everything
					target = GAL
				}
				every_state = {
					limit = {
						is_core_of = GAL
					}
					add_claim_by = ROOT
				}
			}
			hidden_effect = {
				set_country_flag = spain_gets_revenge
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}
	focus = {
		id = SPR_centrist_a_sensible_spain
		icon = a_sensible_spain
		cost = 10
		 
		prerequisite = {
			focus = SPR_centrist_live_up_to_one_spain
		}
		available = {
			has_government = centrist
		}
		
		relative_position_id = SPR_centrist_live_up_to_one_spain
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {idea_spr_a_sensible_nation}
		}
	}
	##Conservative Election Victory##
	focus = {
		id = SPR_natcon_election_victory
		icon = peoples_party_victory
		cost = 5
		 
		prerequisite = {
			focus = SPR_hold_new_elections
		}
		
		available = {
			has_country_flag = spr_peoples_party_won_elections
		}
		
		relative_position_id = SPR_hold_new_elections
		x = 21
		y = 1
	}
	focus = {
		id = SPR_natcon_expand_church_authority
		icon = SPR_church_power
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_natcon_election_victory
		}
		
		relative_position_id = SPR_natcon_election_victory
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_revitalized_church
			}
		}
	}
	focus = {
		id = SPR_natcon_more_power_to_the_king
		icon = royal_strength
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_natcon_expand_church_authority
		}
		
		relative_position_id = SPR_natcon_expand_church_authority
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_further_power_to_the_king
			}
		}
	}
	focus = {
		id = SPR_natcon_new_crown_corporations
		icon = crown_industries
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_more_power_to_the_king
		}
		
		relative_position_id = SPR_natcon_more_power_to_the_king
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_backwards_economy
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy
					add_idea = idea_SPR_backwards_economy_2
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_natcon_encourage_spanish_business
		icon = lucrative_investment
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_new_crown_corporations
		}
		
		relative_position_id = SPR_natcon_new_crown_corporations
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_backwards_economy_2
					add_idea = idea_SPR_backwards_economy_3
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_natcon_new_business_ventures_in_spanish_africa
		icon = common_african_currency
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_encourage_spanish_business
		}
		
		mutually_exclusive = {
			focus = SPR_natcon_reform_dockyard_procedures
		}
		
		available = {
			OR = {
				owns_state = 297
				EQG = {
					OR = {
						is_puppet_of = SPR
						is_puppet_of = SPN
					}
				}
			}
		}
		
		relative_position_id = SPR_natcon_encourage_spanish_business
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
			IF = {
				limit = {
					SPR = {
						owns_state = 297
					}
				}
				IF = {
					limit = {
						tag = SPR
					}
					297 = {
						add_core_of = SPR
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			IF = {
				limit = {
					SPN = {
						owns_state = 297
					}
				}
				IF = {
					limit = {
						tag = SPN
					}
					297 = {
						add_core_of = SPN
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			IF = {
				limit = {
					EQG = {
						OR = {
							is_puppet_of = SPR
							is_puppet_of = SPN
						}
					}
				}
				297 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPR_natcon_reform_dockyard_procedures
		icon = naval_dockyard
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_encourage_spanish_business
		}
		
		mutually_exclusive = {
			focus = SPR_natcon_new_business_ventures_in_spanish_africa
		}

		relative_position_id = SPR_natcon_encourage_spanish_business
		x = 2
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_idea = idea_SPR_backwards_economy
						has_idea = idea_SPR_backwards_economy_2
						has_idea = idea_SPR_backwards_economy_3
					}
				}
				remove_ideas = {idea_SPR_backwards_economy_3}
			}
			add_ideas = {
				idea_SPR_dockyard_reforms
			}
		}
	}
	focus = {
		id = SPR_natcon_reduce_social_spending
		icon = focus_showcase_public_opinion
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_natcon_more_power_to_the_king
		}
		
		relative_position_id = SPR_natcon_more_power_to_the_king
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_budget_reallocation
			}
		}
	}
	focus = {
		id = SPR_natcon_boost_military_spending
		icon = license_production
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_reduce_social_spending
		}
		
		relative_position_id = SPR_natcon_reduce_social_spending
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_budget_reallocation
				add_idea = idea_spr_budget_reallocation_2
			}
		}
	}
	focus = {
		id = SPR_natcon_the_border_wall
		icon = GFX_RAJ_greater_emergency_powers
		cost = 7.2
		 
		prerequisite = {
			focus = SPR_natcon_boost_military_spending
		}
		
		relative_position_id = SPR_natcon_boost_military_spending
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					owns_state = 171
				}
				171 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 174
				}
				174 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 170
				}
				170 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 169
				}
				169 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 173
				}
				173 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 852
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 172
				}
				172 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 297
				}
				297 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
	}
	focus = {
		id = SPR_natcon_enforce_ban_on_unions
		icon = generic_crush_unions
		cost = 5
		
		bypass = {
			has_completed_focus = SPR_centrist_reform_labor_laws
		}
		
		prerequisite = {
			focus = SPR_natcon_the_border_wall
		}
		prerequisite = {
			focus = SPR_natcon_new_business_ventures_in_spanish_africa
			focus = SPR_natcon_reform_dockyard_procedures
		}
		
		relative_position_id = SPR_natcon_new_business_ventures_in_spanish_africa
		x = -1
		y = 1

		completion_reward = {
			add_ideas = {
				idea_SPR_labor_unions_banned
			}
		}
	}
	focus = {
		id = SPR_natcon_prosecute_leftists
		icon = CSD_ban_socialism
		cost = 4
		 
		prerequisite = {
			focus = SPR_natcon_the_border_wall
		}
		prerequisite = {
			focus = SPR_natcon_new_business_ventures_in_spanish_africa
			focus = SPR_natcon_reform_dockyard_procedures
		}
		
		relative_position_id = SPR_natcon_new_business_ventures_in_spanish_africa
		x = 1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = -0.15
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.10
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.10
			}
			add_stability = 0.05
			country_event = {
				id = spain.108
			}
		}
	}
	focus = {
		id = SPR_natcon_immigration_restrictions
		icon = close_borders_2
		cost = 6
		
		bypass = {
			has_completed_focus = SPR_nat_spain_for_spaniards
		}
		
		prerequisite = {
			focus = SPR_natcon_the_border_wall
		}
		prerequisite = {
			focus = SPR_natcon_new_business_ventures_in_spanish_africa
			focus = SPR_natcon_reform_dockyard_procedures
		}
		
		relative_position_id = SPR_natcon_the_border_wall
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_immigration_restrictions
			}
			IF = {
				limit = {
					has_idea = idea_SPR_welcome_refugees
				}
				remove_ideas = {
					idea_SPR_welcome_refugees
				}
			}
		}
	}
	focus = {
		id = SPR_natcon_salvation_day_parade
		icon = celebrate_salvation_day
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_immigration_restrictions
		}
		prerequisite = {
			focus = SPR_natcon_enforce_ban_on_unions
		}
		prerequisite = {
			focus = SPR_natcon_prosecute_leftists
		}
		
		relative_position_id = SPR_natcon_enforce_ban_on_unions
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			country_event = {
				id = spain.107
			}
		}
	}
	focus = {
		id = SPR_natcon_for_god_and_king
		icon = for_god_and_king
		cost = 10
		 
		prerequisite = {
			focus = SPR_natcon_salvation_day_parade
		}
		
		relative_position_id = SPR_natcon_salvation_day_parade
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_for_god_and_king
			}
		}
	}
	
################ MILITARY COUP ###################
	focus = {
		id = SPR_military_picks_a_leader
		icon = SPR_leadership_question
		cost = 5
		
		prerequisite = {
			focus = SPR_military_coup
		}
		available = {
			has_war = no
		}
		
		relative_position_id = SPR_military_coup
		x = 0
		y = 1
		
		completion_reward = {
			country_event = spain.45
			hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	
	##Carlism##
	focus = {
		id = SPR_carlist_tradition
		icon = prestige_of_the_royals
		cost = 5
		
		prerequisite = {
			focus = SPR_military_picks_a_leader
		}
		
		available = {
			has_country_flag = picked_the_carlists
		}
		
		mutually_exclusive = {
			focus = SPR_falangist_tradition
		}
		
		relative_position_id = SPR_military_picks_a_leader
		x = -6
		y = 1
	}
	focus = {
		id = SPR_carlist_the_new_face_of_spain
		icon = new_face_of_spain
		cost = 3
		
		prerequisite = {
			focus = SPR_carlist_tradition
		}
		
		relative_position_id = SPR_carlist_tradition
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = 0.05
			}
			add_war_support = 0.05
			country_event = {
				id = spain.123
			}
		}
	}
	focus = {
		id = SPR_carlist_crack_down_on_militant_protests
		icon = police_action_plan
		cost = 7
		
		prerequisite = {
			focus = SPR_carlist_the_new_face_of_spain
		}
		
		relative_position_id = SPR_carlist_the_new_face_of_spain
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_carlist_tighten_safety_regs
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_general_strike
					add_idea = idea_SPR_general_strike_2
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_carlist_tighten_safety_regs
				}
				remove_ideas = {idea_SPR_general_strike_2}
			}
			country_event = {
				id = spain.292
			}
		}
	}
	focus = {
		id = SPR_carlist_campaign_against_republicanism
		icon = information_campaign_generic
		cost = 3
		
		prerequisite = {
			focus = SPR_carlist_crack_down_on_militant_protests
		}
		
		relative_position_id = SPR_carlist_crack_down_on_militant_protests
		x = 0
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_SPR_banned_political_parties_felipe
				days = 120
			}
			country_event = {
				id = spain.293
			}
		}
	}
	focus = {
		id = SPR_carlist_restore_fuerismo
		icon = restore_fueros
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_the_new_face_of_spain
		}
		
		relative_position_id = SPR_carlist_the_new_face_of_spain
		x = -2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			add_ideas = {
				idea_SPR_decentralized_state
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = autonomous_state }
					}
					remove_dynamic_modifier = { modifier = autonomous_state }
				}
			}
			country_event = {
				id = spain.291
			}
		}
	}
	focus = {
		id = SPR_carlist_celebrate_diversity
		icon = focus_monarchist_diplomacy
		cost = 5
		
		prerequisite = {
			focus = SPR_carlist_restore_fuerismo
		}
		
		relative_position_id = SPR_carlist_restore_fuerismo
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_diverse_nation
			}
			country_event = {
				id = spain.294
			}
		}
	}
	focus = {
		id = SPR_carlist_increase_minimum_wage
		icon = peace_money_development
		cost = 5
		
		prerequisite = {
			focus = SPR_carlist_the_new_face_of_spain
		}
		
		relative_position_id = SPR_carlist_the_new_face_of_spain
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_paternalist_welfare
			}
		}
	}
	focus = {
		id = SPR_carlist_tighten_safety_regs
		icon = industry_paper
		cost = 7
		
		prerequisite = {
			focus = SPR_carlist_increase_minimum_wage
		}
		
		relative_position_id = SPR_carlist_increase_minimum_wage
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_carlist_crack_down_on_militant_protests
					}
				}
				swap_ideas = {
					remove_idea = idea_SPR_general_strike
					add_idea = idea_SPR_general_strike_2
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_carlist_crack_down_on_militant_protests
				}
				remove_ideas = {idea_SPR_general_strike_2}
			}
		}
	}
	focus = {
		id = SPR_carlist_empower_church_councils
		icon = SPR_church_power_focus_icon
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_celebrate_diversity
		}
		prerequisite = {
			focus = SPR_carlist_campaign_against_republicanism
		}
		
		relative_position_id = SPR_carlist_celebrate_diversity
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_revitalized_church
			}
			country_event = {
				id = spain.296
			}
		}
	}
	focus = {
		id = SPR_carlist_promote_church_charities
		icon = focus_fund_christian_charities
		cost = 4
		
		prerequisite = {
			focus = SPR_carlist_tighten_safety_regs
		}
		prerequisite = {
			focus = SPR_carlist_campaign_against_republicanism
		}
		
		relative_position_id = SPR_carlist_campaign_against_republicanism
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_paternalist_welfare
				add_idea = idea_spr_paternalist_welfare_2
			}
			country_event = {
				id = spain.297
			}
		}
	}
	focus = {
		id = SPR_carlist_dios_patria_fueros_rey
		icon = dios_patria_fueros_rey
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_empower_church_councils
		}
		prerequisite = {
			focus = SPR_carlist_promote_church_charities
		}
		
		relative_position_id = SPR_carlist_campaign_against_republicanism
		x = 0
		y = 2
		completion_reward = {
			remove_ideas = {idea_SPR_lingering_republican_radicalism}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
		}
	}
	focus = {
		id = SPR_carlist_establish_council_of_princes
		icon = council_advisors
		cost = 6
		
		prerequisite = {
			focus = SPR_carlist_dios_patria_fueros_rey
		}
		
		relative_position_id = SPR_carlist_dios_patria_fueros_rey
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_the_council_of_princes
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.298
			}
		}
	}
	focus = {
		id = SPR_carlist_religious_reform
		icon = carlist_religious_reform
		cost = 8
		
		prerequisite = {
			focus = SPR_carlist_establish_council_of_princes
		}
		
		relative_position_id = SPR_carlist_establish_council_of_princes
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_decentralized_catholic_church
			}
			country_event = {
				id = spain.124
			}
		}
	}
	focus = {
		id = SPR_carlist_condemn_franco_and_pretenders
		icon = anti_fascist
		cost = 4
		
		prerequisite = {
			focus = SPR_carlist_religious_reform
		}
		
		relative_position_id = SPR_carlist_religious_reform
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = -0.15
			}
			add_stability = 0.05
			
			country_event = {
				id = spain.125
			}
		}
	}
	focus = {
		id = SPR_carlist_hail_the_king_father
		icon = hail_the_king_father
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_condemn_franco_and_pretenders
		}
		prerequisite = {
			focus = SPR_carlist_command_loyalty
		}
		prerequisite = {
			focus = SPR_carlist_economic_devolution
		}
		
		relative_position_id = SPR_carlist_condemn_franco_and_pretenders
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_benevolence_of_the_king_father
			}
			country_event = {
				id = spain.299
			}
		}
	}
	focus = {
		id = SPR_carlist_decentralize_the_military
		icon = SPR_decentralized_carlist_military_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_dios_patria_fueros_rey
		}
		
		relative_position_id = SPR_carlist_dios_patria_fueros_rey
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPR_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPR_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPR_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPR_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPN_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPN_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPN_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPN_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPR_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPR_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPN_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPN_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPR_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPR_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPR_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPR_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPR_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPR_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPN_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPN_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPN_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPN_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPN_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPN_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
		}
	}
	focus = {
		id = SPR_carlist_found_the_royal_army
		icon = SPR_integrate_requetes
		cost = 5
		
		prerequisite = {
			focus = SPR_carlist_decentralize_the_military
		}
		
		relative_position_id = SPR_carlist_decentralize_the_military
		x = -2
		y = 1
		
		completion_reward = {
			division_template = {
				name = "Carlist Requets"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					
					motorized = { x = 2 y = 0 }
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
				}
				
				support = {
					recon = { x = 0 y = 0 }
					field_hospital = { x = 0 y = 1 }
					military_police = { x = 0 y = 2 }
				}
			}
			41 = {
				create_unit = {
					division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1  start_equipment_factor = 1"
					owner = ROOT
				}
			}
			IF = {
				limit = {
					owns_state = 172
				}
				172 = {
					create_unit = {
						division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			ELSE_IF = {
				limit = {
					owns_state = 166
					BSQ = {
						owns_state = 172
						NOT = {
							has_government = monarchist
						}
					}
				}
				166 = {
					create_unit = {
						division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Carlist Requet\" division_template = \"Carlist Requets\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			country_event = {
				id = spain.301
			}
		}
	}
	focus = {
		id = SPR_carlist_encourage_new_military_strats
		icon = army_doctrine
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_decentralize_the_military
		}
		
		relative_position_id = SPR_carlist_decentralize_the_military
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_bloated_military_2}
			army_experience = 45
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
		}
	}
	focus = {
		id = SPR_carlist_command_loyalty
		icon = send_the_army_in
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_found_the_royal_army
		}
		prerequisite = {
			focus = SPR_carlist_encourage_new_military_strats
		}
		
		relative_position_id = SPR_carlist_found_the_royal_army
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_loyal_army
			}
			IF = {
				limit = {
					tag = SPR
					has_completed_focus = SPR_carlist_tradition
				}
				create_field_marshal = {
					name = "King Enrique V"
					picture = "Portrait_SPR_Enrique_V.dds"
					traits = { old_guard war_hero politically_connected media_personality inspirational_leader harsh_leader }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 3
				}
			}
			IF = {
				limit = {
					tag = SPN
					has_completed_focus = SPR_carlist_tradition
				}
				create_field_marshal = {
					name = "King Enrique V"
					picture = "Portrait_SPN_Enrique_V.dds"
					traits = { old_guard war_hero politically_connected media_personality inspirational_leader harsh_leader }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 3
				}
			}
			country_event = {
				id = spain.302
			}
		}
	}
	focus = {
		id = SPR_carlist_open_up_spains_economy
		icon = positive_trade_relations
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_dios_patria_fueros_rey
		}
		
		
		relative_position_id = SPR_carlist_dios_patria_fueros_rey
		x = 2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			add_ideas = {free_trade}
			add_offsite_building = {
				type = industrial_complex
				level = 3
			}
		}
	}
	focus = {
		id = SPR_carlist_reduce_taxes
		icon = GFX_industry_act
		cost = 8
		
		prerequisite = {
			focus = SPR_carlist_open_up_spains_economy
		}
		
		relative_position_id = SPR_carlist_open_up_spains_economy
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_tax_cuts
			}
		}
	}
	focus = {
		id = SPR_carlist_issue_stimulus
		icon = royal_trade
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_open_up_spains_economy
		}
		
		relative_position_id = SPR_carlist_open_up_spains_economy
		x = 2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
			swap_ideas = {
				remove_idea = idea_spr_paternalist_welfare_2
				add_idea = idea_spr_paternalist_welfare_3
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_carlist_economic_devolution
		icon = economic_devolution
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_reduce_taxes
		}
		prerequisite = {
			focus = SPR_carlist_issue_stimulus
		}
		
		relative_position_id = SPR_carlist_reduce_taxes
		x = 1
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
			add_ideas = {idea_spr_economic_devolution}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.305
			}
		}
	}
	focus = {
		id = SPR_carlist_mobilize_the_red_berets
		icon = SPR_carlist_mobilize_the_red_berets
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_hail_the_king_father
		}
		
		relative_position_id = SPR_carlist_hail_the_king_father
		x = 3
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_the_red_berets
			}
		}
	}
	focus = {
		id = SPR_carlist_restore_the_foreign_legions
		icon = SPR_foreign_legion_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_hail_the_king_father
		}
		
		relative_position_id = SPR_carlist_hail_the_king_father
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_the_foreign_legions
			}
			division_template = {
				name = "Foreign Legions"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }

					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					artillery_brigade = { x = 2 y = 3 }
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Foreign Legion\" division_template = \"Foreign Legions\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
					}
				create_unit = {
					division = "name = \"Foreign Legion\" division_template = \"Foreign Legions\" start_experience_factor = 1  start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Foreign Legion\" division_template = \"Foreign Legions\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
					}
				create_unit = {
					division = "name = \"Foreign Legion\" division_template = \"Foreign Legions\" start_experience_factor = 1  start_equipment_factor = 1"
					owner = ROOT
				}
			}
			country_event = {
				id = spain.307
			}
		}
	}
	focus = {
		id = SPR_carlist_seek_papal_support
		icon = focus_meet_the_pope
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_hail_the_king_father
		}
		
		relative_position_id = SPR_carlist_hail_the_king_father
		x = -3
		y = 1
		
		completion_reward = {
		    if = {
				limit = {
					ITA = {
						has_cosmetic_tag = ITA_Papal
					}
				}
				ITA = {
					country_event = spain_diplo.179
				}
			}
			if = {
				limit = {
					NOT = {
						ITA = {
							has_cosmetic_tag = ITA_Papal
						}
					}
				}
				add_popularity = {
					ideology = monarchist
					popularity = 0.05
				}
				add_war_support = 0.05
				add_ideas = {
					idea_bsq_papal_support_weak
				}
				country_event = {
					id = spain_diplo.182
				}
			}
		}
	}
	focus = {
		id = SPR_carlist_crack_down_on_satanic_ideology
		icon = GFX_trample_degeneracy
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_seek_papal_support
		}
		
		relative_position_id = SPR_carlist_seek_papal_support
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_stringent_morality_laws
			}
			country_event = {
				id = spain.308
			}
		}
	}
	focus = {
		id = SPR_carlist_spain_stands_against_liberalism
		icon = SPR_carlist_spain_stands_against_liberalism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_seek_papal_support
		}
		
		relative_position_id = SPR_carlist_seek_papal_support
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_bulwark_against_liberalism
			}
		}
	}
	focus = {
		id = SPR_carlist_empower_the_order_of_saint_lazarus
		icon = SPR_carlist_empower_the_order_of_saint_lazarus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_hail_the_king_father
		}
		
		relative_position_id = SPR_carlist_hail_the_king_father
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_empower_the_order_of_saint_lazarus
			}
			country_event = {
				id = spain.309
			}
		}
	}
	focus = {
		id = SPR_carlist_claim_the_french_throne
		icon = royal_strength
		cost = 7.2
		
		prerequisite = {
			focus = SPR_carlist_empower_the_order_of_saint_lazarus
		}
		prerequisite = {
			focus = SPR_carlist_seek_papal_support
		}
		prerequisite = {
			focus = SPR_carlist_restore_the_foreign_legions
		}
		prerequisite = {
			focus = SPR_carlist_mobilize_the_red_berets
		}
		
		available = {
			has_completed_focus = SPR_fopo_grant_citizenship_to_portuguese_populace
		}
		
		relative_position_id = SPR_carlist_restore_the_foreign_legions
		x = 0
		y = 1
		
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = FRA
				}
				add_claim_by = ROOT
			}
			create_wargoal = {
				type = annex_everything
				target = FRA
			}
			country_event = {
				id = spain.310
			}
		}
	}
	focus = {
		id = SPR_carlist_the_franco_iberian_union
		icon = SPR_carlist_the_franco_iberian_union
		cost = 10
		
		prerequisite = {
			focus = SPR_carlist_claim_the_french_throne
		}
		
		available = {
			NOT = {
				country_exists = FRA
			}
			owns_state = 16
			owns_state = 927
			owns_state = 663
		}
		
		relative_position_id = SPR_carlist_claim_the_french_throne
		x = 0
		y = 1
		
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = FRA
				}
				add_compliance = 50
			}
			663 = {
				add_core_of = ROOT
			}
			927 = {
				add_core_of = ROOT
			}
			set_cosmetic_tag = SPR_carlist_franco_iberia
		}
	}


	##fascism##
	focus = {
		id = SPR_falangist_tradition
		icon = focus_ideology_fascist
		cost = 5
		
		prerequisite = {
			focus = SPR_military_picks_a_leader
		}
		
		available = {
			has_country_flag = picked_la_falange
		}
		
		mutually_exclusive = {
			focus = SPR_carlist_tradition
		}
		
		relative_position_id = SPR_military_picks_a_leader
		x = 5
		y = 1
		
		bypass = {
			has_country_flag = picked_la_falange
		}
	}
	focus = {
		id = SPR_military_picked_francoists
		icon = side_with_the_military
		cost = 5
		
		prerequisite = {
			focus = SPR_falangist_tradition
		}
		
		mutually_exclusive = {
			focus = SPR_military_picked_natsysns
		}
		
		available = {
			has_country_flag = picked_the_fascists
		}
		
		relative_position_id = SPR_falangist_tradition
		x = 3
		y = 1
		
		bypass = {
			has_country_flag = picked_the_fascists
		}
	}
	focus = {
		id = SPR_francoists_move_to_crush_protesters
		icon = SPR_crush_protesters_focus
		cost = 4
		
		prerequisite = {
			focus = SPR_military_picked_francoists
		}
	
		relative_position_id = SPR_military_picked_francoists
		x = 0
		y = 1
		
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
				producer = SPR
			}
			add_manpower = -3000
			country_event = {
				id = spain.131
			}
		}
	}
	focus = {
		id = SPR_francoists_pay_scabs_to_break_strikes
		icon = focus_anti_corruption_crusade
		cost = 7.2
		
		prerequisite = {
			focus = SPR_francoists_move_to_crush_protesters
		}
	
		relative_position_id = SPR_francoists_move_to_crush_protesters
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
			add_timed_idea = {
				idea = idea_SPR_paying_off_strikers
				days = 90
			}
			country_event = {
				id = spain.365
			}
		}
	}
	focus = {
		id = SPR_francoists_arrest_strike_leaders
		icon = arrest_derg_members
		cost = 7.2
		
		prerequisite = {
			focus = SPR_francoists_pay_scabs_to_break_strikes
		}
	
		relative_position_id = SPR_francoists_pay_scabs_to_break_strikes
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			country_event = {
				id = spain.366
			}
		}
	}
	focus = {
		id = SPR_francoists_illegalize_public_gatherings
		icon = police_action_plan2
		cost = 4
		
		prerequisite = {
			focus = SPR_francoists_move_to_crush_protesters
		}
	
		relative_position_id = SPR_francoists_move_to_crush_protesters
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_martial_law
			}
		}
	}
	focus = {
		id = SPR_francoists_execute_prominent_agitators
		icon = threaten_socialists
		cost = 3
		
		prerequisite = {
			focus = SPR_francoists_illegalize_public_gatherings
		}
	
		relative_position_id = SPR_francoists_illegalize_public_gatherings
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.10
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.10
			}
			add_popularity = {
				ideology = communist
				popularity = -0.10
			}	
			country_event = {
				id = spain.165
			}
		}
	}
	focus = {
		id = SPR_francoists_unify_military_and_police
		icon = paramilitary_brigades
		cost = 7.2
		
		prerequisite = {
			focus = SPR_francoists_execute_prominent_agitators
		}
		prerequisite = {
			focus = SPR_francoists_arrest_strike_leaders
		}
	
		relative_position_id = SPR_francoists_execute_prominent_agitators
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_unification_of_military_and_police
			}
			army_experience = 25
			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_country_flag = spr_recruited_tejero
						}
						NOT = {
							has_country_flag = spr_denied_tejero
						}
					}
					country_event = {
						id = spain.237
						days = 14
					}
				}
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPR_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPR_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPR_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPR_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPN_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPN_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPN_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPN_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPR_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPR_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPN_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPN_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPR_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPR_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPR_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPR_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPR_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPR_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPN_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPN_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPN_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPN_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPN_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPN_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			country_event = {
				id = spain.367
			}
		}
	}
	focus = {
		id = SPR_francoists_the_new_spanish_state_secured
		icon = SPR_francoists_the_new_spanish_state_secured
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_unify_military_and_police
			focus = SPR_natsyn_nationalize_all_trade_unions
		}
		prerequisite = {
			focus = SPR_reaffirm_ban_on_political_parties
		}
	
		relative_position_id = SPR_francoists_unify_military_and_police
		x = -3
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_lingering_republican_radicalism}
			add_war_support = 0.1
			add_political_power = 75
		}
	}
	focus = {
		id = SPR_francoists_rebuild_the_sindicato_vertical
		icon = focus_national_reorganisation_council
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_the_new_spanish_state_secured
		}
		prerequisite = {
			focus = SPR_francoists_unify_military_and_police
		}

		relative_position_id = SPR_francoists_the_new_spanish_state_secured
		x = 5
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			add_ideas = {
				idea_spr_sindicato_vertical
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.370
			}
		}
	}
	focus = {
		id = SPR_francoists_a_bettered_capitalism
		icon = SPR_bettered_capitalism_focus1
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_rebuild_the_sindicato_vertical
		}

		relative_position_id = SPR_francoists_rebuild_the_sindicato_vertical
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
			add_ideas = {idea_spr_a_bettered_capitalism}
		}
	}
	focus = {
		id = SPR_francoists_reopen_the_economy
		icon = positive_trade_relations
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_a_bettered_capitalism
		}

		relative_position_id = SPR_francoists_a_bettered_capitalism
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
			add_ideas = {free_trade}
			add_offsite_building = {
				type = industrial_complex
				level = 3
			}
		}
	}
	focus = {
		id = SPR_francoists_esto_con_franco_no_pasaba
		icon = esto_con_franco_no_pasaba
		cost = 5
		
		prerequisite = {
			focus = SPR_francoists_the_new_spanish_state_secured
		}
		prerequisite = {
			focus = SPR_francoists_unify_military_and_police
		}

		relative_position_id = SPR_francoists_the_new_spanish_state_secured
		x = 3
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_francoist_nostalgia
			}
			country_event = {
				id = spain.130
			}
		}
	}
	focus = {
		id = SPR_nats_appoint_church_officials
		icon = english_clergy
		prerequisite = {
			focus = SPR_military_picked_francoists
			focus = SPR_military_picked_natsysns
		}
			
		cost = 5
		relative_position_id = SPR_falangist_tradition
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_spr_revitalized_church
			}
			country_event = {
				id = spain.364
			}
		}
	}
	focus = {
		id = SPR_crack_down_on_local_autonomy
		icon = GFX_tanks_in_the_streets
		prerequisite = {
			focus = SPR_nats_appoint_church_officials
		}
		
		bypass = {
			all_owned_state = {
				NOT = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
			}
		}
		
		cost = 7.2
		relative_position_id = SPR_nats_appoint_church_officials
		x = 0
		y = 1
		
		completion_reward = {
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
			custom_effect_tooltip = spr_get_rid_of_state_autonomy
			add_stability = -0.05
		}
	}
	focus = {
		id = SPR_repress_non_spanish_culture
		icon = SPR_repress_non_spanish_culture
		prerequisite = {
			focus = SPR_crack_down_on_local_autonomy
		}
			
		cost = 10
		relative_position_id = SPR_crack_down_on_local_autonomy
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			country_event = {
				id = spain.163
			}
		}
	}
	focus = {
		id = SPR_reaffirm_ban_on_political_parties
		icon = SPR_reaffirm_ban_on_political_parties
		prerequisite = {
			focus = SPR_repress_non_spanish_culture
		}
			
		cost = 3
		relative_position_id = SPR_repress_non_spanish_culture
		x = 0
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = 0.10
			}
			set_party_name = { 
				ideology = fascist
				long_name = SPR_fet_y_de_las_jons_long
				name = SPR_fet_y_de_las_jons
			}
			add_political_power = 50
			country_event = {
				id = spain.129
			}
		}
	}
	focus = {
		id = SPR_reclaim_the_breakaways
		icon = SPR_reclaim_the_breakaways
		prerequisite = {
			focus = SPR_francoists_the_new_spanish_state_secured
		}
		
		available = {
			OR = {
				country_exists = CAT
				country_exists = BSQ
				country_exists = GAL
			}
		}
			
		cost = 10
		relative_position_id = SPR_reaffirm_ban_on_political_parties
		x = 0
		y = 2
		
		bypass = {
			AND = {
				NOT = {
					country_exists = CAT
				}
				NOT = {
					country_exists = GAL
				}
				NOT = {
					country_exists = BSQ
				}
			}
		}
		
		completion_reward = {
			IF = {
				limit = {country_exists = CAT}
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {country_exists = BSQ}
				create_wargoal = {
					type = annex_everything
					target = BSQ
				}
				every_state = {
					limit = {
						is_core_of = BSQ
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {country_exists = GAL}
				create_wargoal = {
					type = annex_everything
					target = GAL
				}
				every_state = {
					limit = {
						is_core_of = GAL
					}
					add_claim_by = ROOT
				}
			}
			hidden_effect = {
				set_country_flag = spain_gets_revenge
			}
		}
	}
	focus = {
		id = SPR_military_el_caudillo_nuevo
		icon = SPR_military_el_caudillo_nuevo
		prerequisite = {
			focus = SPR_francoists_punish_weakness
			focus = SPR_natsyn_syndicate_the_military
		}
			
		cost = 5
		relative_position_id = SPR_reclaim_the_breakaways
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {idea_spr_the_new_dictator}
			country_event = {
				id = spain.375
			}
		}
	}
	focus = {
		id = SPR_military_disband_military_juntas
		icon = maintain_divide
		prerequisite = {
			focus = SPR_military_el_caudillo_nuevo
		}
			
		cost = 10
		relative_position_id = SPR_military_el_caudillo_nuevo
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_bloated_military_2}
			IF = {
				limit = {
					has_completed_focus = SPR_francoists_punish_weakness
				}
				add_ideas = {idea_spr_punish_weakness}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_natsyn_syndicate_the_military
				}
				add_ideas = {idea_spr_fascist_unionized_military}
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
		}
	}
	focus = {
		id = SPR_francoists_punish_weakness
		icon = gun_barrel_governance
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_esto_con_franco_no_pasaba
		}
		prerequisite = {
			focus = SPR_reclaim_the_breakaways
		}

		mutually_exclusive = {
			focus = SPR_natsyn_syndicate_the_military
		}

		relative_position_id = SPR_reclaim_the_breakaways
		x = 2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
		}
	}
	focus = {
		id = SPR_francoists_economic_tripartism
		icon = SPR_economic_tripartism
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_punish_weakness
		}
		prerequisite = {
			focus = SPR_francoists_reopen_the_economy
		}

		relative_position_id = SPR_francoists_reopen_the_economy
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_economic_tripartism
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_francoists_restore_the_kings_ceremonial_role
		icon = focus_constitutional_referendum
		cost = 4
		
		prerequisite = {
			focus = SPR_military_disband_military_juntas
		}
		prerequisite = {
			focus = SPR_francoists_economic_tripartism
		}

		relative_position_id = SPR_francoists_economic_tripartism
		x = -2
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = 0.15
			}
			country_event = {
				id = spain.132
			}
		}
	}
	focus = {
		id = SPR_francoists_nada_contra_el_estado
		icon = SPR_francoists_nada_contra_el_estado
		cost = 5
		
		prerequisite = {
			focus = SPR_francoists_restore_the_kings_ceremonial_role
			focus = SPR_natsyn_abolish_noble_privileges
		}

		relative_position_id = SPR_francoists_restore_the_kings_ceremonial_role
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_nothing_against_the_state
			}
		}
	}
	focus = {
		id = SPR_francoists_purge_the_left_falange
		icon = purge_the_left_falange
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_restore_the_kings_ceremonial_role
		}

		relative_position_id = SPR_francoists_restore_the_kings_ceremonial_role
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_francoist_dominance
			}
			country_event = {
				id = spain.164
			}
		}
	}
	focus = {
		id = SPR_francoists_the_saviors_of_francos_legacy
		icon = the_saviours_of_francos_legacy
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_purge_the_left_falange
		}
		prerequisite = {
			focus = SPR_francoists_nada_contra_el_estado
		}

		relative_position_id = SPR_francoists_nada_contra_el_estado
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_francoism_triumphant
			}
			country_event = {
				id = spain.371
			}
		}
	}
	##national bolshevism##
	focus = {
		id = SPR_military_picked_natsysns
		icon = side_with_the_falangists
		cost = 5
		
		prerequisite = {
			focus = SPR_falangist_tradition
		}
		
		mutually_exclusive = {
			focus = SPR_military_picked_francoists
		}
		
		available = {
			has_country_flag = picked_the_natsyns
		}
		
		relative_position_id = SPR_falangist_tradition
		x = -3
		y = 1
		
		bypass = {
			has_country_flag = picked_the_natsyns
		}
	}
	focus = {
		id = SPR_natsyn_move_to_appease_protestors
		icon = socialist_youth
		cost = 4
		
		prerequisite = {
			focus = SPR_military_picked_natsysns
		}
		
		relative_position_id = SPR_military_picked_natsysns
		x = 0
		y = 1
		
		completion_reward = {
			add_political_power = 75
			add_stability = 0.05
			country_event = {
				id = spain.128
			}
		}
	}
	focus = {
		id = SPR_natsyn_reappropriate_the_image_of_franco
		icon = information_campaign_generic
		cost = 4
		
		prerequisite = {
			focus = SPR_natsyn_move_to_appease_protestors
		}
		
		relative_position_id = SPR_natsyn_move_to_appease_protestors
		x = -1
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = 0.05
			}
			add_ideas = {
				idea_spr_francoist_reinterpretation
			}
			country_event = {
				id = spain.355
			}
		}
	}
	focus = {
		id = SPR_natsyn_kidnap_republican_figureheads
		icon = GFX_the_surveillance_state_perfected
		cost = 3
		
		prerequisite = {
			focus = SPR_natsyn_reappropriate_the_image_of_franco
		}
		
		relative_position_id = SPR_natsyn_reappropriate_the_image_of_franco
		x = 0
		y = 1
		
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = communist
				popularity = -0.05
			}
			army_experience = 10
			country_event = {
				id = spain.127
			}
		}
	}
	focus = {
		id = SPR_natsyn_legalize_trade_unions
		icon = industry_generic_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_move_to_appease_protestors
		}
		
		relative_position_id = SPR_natsyn_move_to_appease_protestors
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
			add_popularity = {
				ideology = national_bolshevik
				popularity = 0.05
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			country_event = {
				id = spain.353
			}
		}
	}
	focus = {
		id = SPR_natsyn_appoint_strike_leaders_to_government
		icon = time_for_business
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_legalize_trade_unions
		}
		
		relative_position_id = SPR_natsyn_legalize_trade_unions
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			country_event = {
				id = spain.354
			}
		}
	}
	focus = {
		id = SPR_natsyn_nationalize_all_trade_unions
		icon = falangist_focus1
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_appoint_strike_leaders_to_government
		}
		prerequisite = {
			focus = SPR_natsyn_kidnap_republican_figureheads
		}
		
		relative_position_id = SPR_natsyn_appoint_strike_leaders_to_government
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {idea_SPR_nationalized_unions}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_natsyn_unify_la_falange
		icon = unify_la_falange
		cost = 5
		
		prerequisite = {
			focus = SPR_natsyn_nationalize_all_trade_unions
		}
		prerequisite = {
			focus = SPR_francoists_the_new_spanish_state_secured
		}

		relative_position_id = SPR_francoists_the_new_spanish_state_secured
		x = -3
		y = 1
		
		completion_reward = {
			hidden_effect = {
				add_ideas = spr_sic_manuel_andrino_lobo
			}
			custom_effect_tooltip = spain_falangist_replace_bucher_tooltip
			add_ideas = {
				idea_spr_falangist_dominance
			}
			country_event = {
				id = spain.167
			}
		}
	}
	focus = {
		id = SPR_natsyn_syndicate_the_military
		icon = military_salute
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_unify_la_falange
		}
		prerequisite = {
			focus = SPR_reclaim_the_breakaways
		}
		
		mutually_exclusive = {
			focus = SPR_francoists_punish_weakness
		}

		relative_position_id = SPR_natsyn_unify_la_falange
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
		}
	}
	focus = {
		id = SPR_natsyn_enact_social_welfare
		icon = generic_welfare_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_the_new_spanish_state_secured
		}
		prerequisite = {
			focus = SPR_natsyn_nationalize_all_trade_unions
		}

		relative_position_id = SPR_francoists_the_new_spanish_state_secured
		x = -5
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			add_ideas = {
				idea_spr_corporatist_welfare
			}
			country_event = {
				id = spain.358
			}
		}
	}
	focus = {
		id = SPR_natsyn_tie_business_to_the_state
		icon = deal_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_enact_social_welfare
		}

		relative_position_id = SPR_natsyn_enact_social_welfare
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
			swap_ideas = {
				remove_idea = idea_spr_corporatist_welfare
				add_idea = idea_spr_corporatist_welfare_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_natsyn_agrarian_syndication
		icon = agriculuture_agrarianism
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_tie_business_to_the_state
		}

		relative_position_id = SPR_natsyn_tie_business_to_the_state
		x = 0
		y = 1
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
			swap_ideas = {
				remove_idea = idea_spr_corporatist_welfare_2
				add_idea = idea_spr_corporatist_welfare_3
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.360
			}
		}
	}
	focus = {
		id = SPR_natsyn_class_cooperation
		icon = cooperate
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_agrarian_syndication
		}
		prerequisite = {
			focus = SPR_natsyn_syndicate_the_military
		}

		relative_position_id = SPR_natsyn_agrarian_syndication
		x = 2
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_corporatist_welfare_3
				add_idea = idea_spr_corporatist_welfare_4
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_natsyn_abolish_noble_privileges
		icon = anti_monarchy
		cost = 5
		
		prerequisite = {
			focus = SPR_natsyn_class_cooperation
		}
		prerequisite = {
			focus = SPR_military_disband_military_juntas
		}

		relative_position_id = SPR_natsyn_class_cooperation
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_abolished_nobility
			}
			add_popularity = {
				ideology = monarchist
				popularity = -0.15
			}
			country_event = {
				id = spain.166
			}
		}
	}
	focus = {
		id = SPR_natsyn_denounce_capitalism
		icon = embrace_anti_capitalism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_abolish_noble_privileges
		}

		relative_position_id = SPR_natsyn_abolish_noble_privileges
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_anticapitalist_agenda
			}
		}
	}
	focus = {
		id = SPR_natsyn_the_true_third_position
		icon = the_true_third_position
		cost = 10
		
		prerequisite = {
			focus = SPR_francoists_nada_contra_el_estado
		}
		prerequisite = {
			focus = SPR_natsyn_denounce_capitalism
		}

		relative_position_id = SPR_natsyn_denounce_capitalism
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_true_third_position
			}
			country_event = {
				id = spain.361
			}
		}
	}
	focus = {
		id = SPR_cede_power_to_technocrats
		icon = scientific_exchange
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_the_true_third_position
			focus = SPR_francoists_the_saviors_of_francos_legacy
		}

		relative_position_id = SPR_natsyn_the_true_third_position
		x = 0
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			add_ideas = {
				idea_SPR_technocrats_in_government
			}
		}
	}
	focus = {
		id = SPR_increase_conscription_laws
		icon = army_marching_red
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_the_true_third_position
			focus = SPR_francoists_the_saviors_of_francos_legacy
		}

		relative_position_id = SPR_natsyn_the_true_third_position
		x = 2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_idea = extensive_conscription
					}
				}
				add_ideas = {
					extensive_conscription 
				}
			}
			add_ideas = {
				idea_SPR_conscription_reform
			}
		}
	}
	focus = {
		id = SPR_an_ultimatum_to_heretics_and_apostates
		icon = SPR_an_ultimatum_to_heritics_and_apostates
		cost = 7.2
		
		prerequisite = {
			focus = SPR_increase_conscription_laws
		}

		relative_position_id = SPR_increase_conscription_laws
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_non_catholics_disenfranchised
			}
			country_event = {
				id = spain.376
			}
		}
	}
	focus = {
		id = SPR_exploit_the_lands_resources
		icon = steel
		cost = 7.2
		
		prerequisite = {
			focus = SPR_cede_power_to_technocrats
		}

		relative_position_id = SPR_cede_power_to_technocrats
		x = 0
		y = 1
		
		completion_reward = {
			176 = {
				add_resource = {
					type = steel
					amount = 25
				}
				add_resource = {
					type = aluminium
					amount = 6
				}
			}
			41 = {
				add_resource = {
					type = steel
					amount = 7
				}
				add_resource = {
					type = aluminium
					amount = 20
				}
			}
			170 = {
				add_resource = {
					type = tungsten
					amount = 15
				}
				add_resource = {
					type = chromium
					amount = 3
				}
			}
		}
	}
	focus = {
		id = SPR_the_dialectics_of_fists_and_guns
		icon = SPR_the_dialectics_of_fists_and_guns
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_the_true_third_position
		}

		relative_position_id = SPR_natsyn_the_true_third_position
		x = -2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_falangist_militancy
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			country_event = {
				id = spain.362
			}
		}
	}
	focus = {
		id = SPR_the_heirs_of_primo_de_rivera
		icon = honour_the_father_of_spanish_fascism
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natsyn_the_true_third_position
		}

		relative_position_id = SPR_natsyn_the_true_third_position
		x = -4
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_heirs_of_primo_de_rivera
			}
		}
	}
	focus = {
		id = SPR_mobilize_falangist_youth_paramilitaries
		icon = mobilize_falangist_youth_paramilitaries
		cost = 7.2
		
		prerequisite = {
			focus = SPR_the_heirs_of_primo_de_rivera
		}
		prerequisite = {
			focus = SPR_the_dialectics_of_fists_and_guns
		}

		relative_position_id = SPR_the_heirs_of_primo_de_rivera
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_falangist_militancy
				add_idea = idea_SPR_falangist_militancy_2
			}
		}
	}
	focus = {
		id = SPR_encourage_grassroots_syndicates
		icon = collectivist_focus
		cost = 10
		
		prerequisite = {
			focus = SPR_natsyn_the_true_third_position
		}

		relative_position_id = SPR_natsyn_the_true_third_position
		x = -1
		y = 3
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_nationalized_unions
				add_idea = idea_SPR_nationalized_unions_falangists
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_permanent_military_stewardship_of_the_state
		icon = YEM_Officer_Coup
		cost = 7.2
		
		prerequisite = {
			focus = SPR_francoists_the_saviors_of_francos_legacy
		}

		relative_position_id = SPR_francoists_the_saviors_of_francos_legacy
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_military_with_a_state
			}
			country_event = {
				id = spain.377
			}
		}
	}
	focus = {
		id = SPR_state_control_of_the_arms_industry
		icon = spanish_guns
		cost = 10
		
		prerequisite = {
			focus = SPR_permanent_military_stewardship_of_the_state
		}

		relative_position_id = SPR_permanent_military_stewardship_of_the_state
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_military_with_a_state
				add_idea = idea_SPR_military_with_a_state_2
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_civilian_sector_privatization
		icon = power_to_the_president
		cost = 10
		
		prerequisite = {
			focus = SPR_state_control_of_the_arms_industry
		}

		relative_position_id = SPR_state_control_of_the_arms_industry
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_economic_tripartism
				add_idea = idea_spr_economic_tripartism_2
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_el_caudillo_de_la_ultima_cruzada
		icon = SPR_el_caudillo_de_la_ultima_cruzada
		cost = 7.2
		
		prerequisite = {
			focus = SPR_an_ultimatum_to_heretics_and_apostates
		}
		prerequisite = {
			focus = SPR_civilian_sector_privatization
		}

		relative_position_id = SPR_permanent_military_stewardship_of_the_state
		x = -1
		y = 3
		
		completion_reward = {
			add_ideas = {
				idea_SPR_leader_of_the_final_crusade
			}
		}
	}

	
############# FELIPE STAYS ########################
	focus = {
		id = SPR_felipe_victory_tour
		icon = A_Victorious_Tour_Of_The_Country_SPR
		prerequisite = {focus = SPR_felipe_stays}
		cost = 3
		relative_position_id = SPR_felipe_stays
		x = 0
		y = 1
		
		completion_reward = {
			add_stability = 0.15
			country_event = {
				id = spain.82
			}
			hidden_effect = { #collapse focus tree
				load_focus_tree = {
					tree = spain_tree
					keep_completed = yes
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	focus = {
		id = SPR_reduce_crown_expenditures
		icon = focus_showcase_public_opinion
		cost = 5
		
		available = {
			has_country_flag = felipe_absolutist_constitution
		}
		
		prerequisite = {
			focus = SPR_felipe_victory_tour
		}
		
		x = -2
		y = 1
		relative_position_id = SPR_felipe_victory_tour
		completion_reward = {
			add_ideas = {idea_SPR_reduced_crown_expenditures}
			country_event = {
				id = spain.270
			}
		}
	}
	focus = {
		id = SPR_refresh_cortes_espanolas
		icon = refresh_cortes_espanolas
		cost = 4
		
		available = {
			has_country_flag = felipe_absolutist_constitution
		}
		
		prerequisite = {
			focus = SPR_felipe_victory_tour
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_victory_tour
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = 0.05
			}
			add_stability = 0.05
			add_political_power = 125
			country_event = {
				id = spain.109
			}
		}
	}
	focus = {
		id = SPR_divide_and_conquer
		icon = infiltration
		cost = 7
		
		available = {
			has_country_flag = felipe_absolutist_constitution
		}
		
		prerequisite = {
			focus = SPR_felipe_victory_tour
		}
		
		x = 2
		y = 1
		relative_position_id = SPR_felipe_victory_tour
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_general_strike
				add_idea = idea_SPR_general_strike_2
			}
		}
	}
	focus = {
		id = SPR_raid_republican_strongholds
		icon = focus_syria_secret_police
		cost = 7
		
		prerequisite = {
			focus = SPR_divide_and_conquer
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_divide_and_conquer
		completion_reward = {
			remove_ideas = {idea_SPR_general_strike_2}
			country_event = {
				id = spain.272
			}
		}
	}
	focus = {
		id = SPR_reform_noble_money_responsibilities
		icon = Reform_Nobles_Fiscal_Responsibilities_SPR
		cost = 10
		
		prerequisite = {
			focus = SPR_reduce_crown_expenditures
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_reduce_crown_expenditures
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_reduced_crown_expenditures
				add_idea = idea_SPR_taxes_on_the_nobility
			}
		}
	}
	focus = {
		id = SPR_limit_church_power
		icon = limit_church_power
		cost = 5
		
		prerequisite = {
			focus = SPR_refresh_cortes_espanolas
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_refresh_cortes_espanolas
		completion_reward = {
			add_ideas = {
				idea_SPR_partial_secularization
			}
			country_event = {
				id = spain.274
			}
		}
	}
	focus = {
		id = SPR_uproot_terrorist_cells
		icon = uproot_terrorist_cells
		cost = 10
		
		prerequisite = {
			focus = SPR_limit_church_power
		}
		prerequisite = {
			focus = SPR_raid_republican_strongholds
		}
		
		x = 1
		y = 1
		relative_position_id = SPR_limit_church_power
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
		}
	}
	focus = {
		id = SPR_felipe_bans_political_parties
		icon = CSD_ban_socialism
		cost = 3
		
		prerequisite = {
			focus = SPR_limit_church_power
		}
		prerequisite = {
			focus = SPR_reform_noble_money_responsibilities
		}
		
		x = -1
		y = 1
		relative_position_id = SPR_limit_church_power
		completion_reward = {
			add_timed_idea = {
				idea = idea_SPR_banned_political_parties_felipe
				days = 120
			}
		}
	}
	focus = {
		id = SPR_natural_ruler
		icon = focus_a_strong_leader
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_bans_political_parties
		}
		prerequisite = {
			focus = SPR_uproot_terrorist_cells
		}
		
		x = 1
		y = 1
		relative_position_id = SPR_felipe_bans_political_parties
		completion_reward = {
			remove_ideas = {idea_SPR_lingering_republican_radicalism}
			add_war_support = 0.1
			add_political_power = 75
			army_experience = 35
		}
	}
	focus = {
		id = SPR_felipe_assumes_direct_control
		icon = SPR_direct_military_control
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natural_ruler
		}
		
		x = -3
		y = 1
		relative_position_id = SPR_natural_ruler
		
		completion_reward = {
			IF = {
				limit = {
					tag = SPR
				}
				create_field_marshal = {
					name = "King Felipe VI"
					picture = "Portrait_Rey_Felipe_VI_general.dds"
					traits = { politically_connected media_personality inspirational_leader }
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 1
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				create_field_marshal = {
					name = "King Felipe VI"
					picture = "Portrait_Rey_Felipe_VI_general.dds"
					traits = { politically_connected media_personality inspirational_leader }
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 1
				}
			}
			country_event = {
				id = spain.112
			}
		}
	}
	focus = {
		id = SPR_construct_new_palace
		icon = construct_a_new_royal_palace
		cost = 7.2
		
		prerequisite = {
			focus = SPR_natural_ruler
		}
		
		x = -1
		y = 1
		relative_position_id = SPR_natural_ruler
		
		completion_reward = {
			country_event = {
				id = spain.110
			}
		}
	}
	focus = {
		id = SPR_felipe_builds_schools
		icon = GFX_future_minds_program
		cost = 8
		
		prerequisite = {
			focus = SPR_natural_ruler
		}
		
		x = 1
		y = 1
		relative_position_id = SPR_natural_ruler
		completion_reward = {
			add_ideas = {
				idea_SPR_subsidize_research_spending
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.279
			}
		}
	}
	focus = {
		id = SPR_felipe_opens_international_trade
		icon = positive_trade_relations
		cost = 10
		
		prerequisite = {
			focus = SPR_natural_ruler
		}
		
		x = 3
		y = 1
		relative_position_id = SPR_natural_ruler
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy
				add_idea = idea_SPR_backwards_economy_2
			}
			add_ideas = {free_trade}
			add_offsite_building = {
				type = industrial_complex
				level = 3
			}
		}
	}
	focus = {
		id = SPR_felipe_reshuffles_military
		icon = military_salute
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_assumes_direct_control
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_assumes_direct_control
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military
				add_idea = idea_SPR_bloated_military_2
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPR_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPR_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPR_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPR_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					owns_state = 171
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPN_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPN_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPN_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPN_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPR_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPR_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					owns_state = 165
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPN_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPN_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPR_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPR_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPR_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPR_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPR_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPR_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					owns_state = 1020
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPN_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPN_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPN_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPN_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPN_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPN_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
		}
	}
	focus = {
		id = SPR_felipe_royal_guard
		icon = ethiopia_the_emperors_army
		cost = 5
		
		prerequisite = {
			focus = SPR_construct_new_palace
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_construct_new_palace
		
		completion_reward = {
			IF = {
				limit = {
					tag = SPR
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = SPR
					}
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = SPR
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = SPR
					}
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = SPR
					}
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = SPN
					}
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = SPN
					}
				}
				random_owned_state = {
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = SPN
					}
					create_unit = {
						division = "name = \"Royal Guard\" division_template = \"Veteran Division\" start_experience_factor = 1  start_equipment_factor = 1"
						owner = SPN
					}
				}
			}
		}
	}
	focus = {
		id = SPR_felipe_depolitic_military
		icon = unify_command
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_royal_guard
		}
		prerequisite = {
			focus = SPR_felipe_reshuffles_military
		}	
	
		x = -1
		y = 1
		relative_position_id = SPR_felipe_royal_guard
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_bloated_military_2
				add_idea = idea_spr_the_kings_guard
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			IF = {
				limit = {
					tag = SPR
				}
				retire_character = SPR_Teodoro_Esteban_Lopez_Calderon
				retire_character = SPR_Fulgencio_Coll_Bucher
			}
			IF = {
				limit = {
					tag = SPN
				}
				retire_character = SPN_Teodoro_Esteban_Lopez_Calderon
				retire_character = SPN_Fulgencio_Coll_Bucher
			}
			country_event = {
				id = spain.278
			}
		}
	}
	focus = {
		id = SPR_felipe_royal_lottery
		icon = revive_the_royal_lottery
		cost = 5
		
		prerequisite = {
			focus = SPR_felipe_builds_schools
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_builds_schools
		
		completion_reward = {
			add_ideas = {
				idea_spr_the_royal_lottery
			}
			country_event = {
				id = spain.280
			}
		}
	}
	focus = {
		id = SPR_felipe_centralize_laws
		icon = one_coalition
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_royal_lottery
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_royal_lottery
		
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_start
				}
				remove_ideas = {
					idea_SPR_separatist_woes_start
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_worse_rest_norm
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_and_galicians_appeased
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
				}
			}
			IF = {
				limit = {
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
				remove_ideas = {
					idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			every_owned_state = {
				limit = {
					has_dynamic_modifier = { modifier = autonomous_state }
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
			country_event = {
				id = spain.281
			}
		}
	}
	focus = {
		id = SPR_felipe_makes_economic_societies
		icon = CSD_national_council_investors
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_opens_international_trade
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_opens_international_trade
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_backwards_economy_2
				add_idea = idea_SPR_backwards_economy_3
			}
			add_ideas = {
				idea_spr_economic_societies
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.283
			}
		}
	}
	focus = {
		id = SPR_felipe_extends_crown_grants
		icon = royal_trade
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_makes_economic_societies
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_makes_economic_societies
		
		completion_reward = {
			remove_ideas = {idea_SPR_backwards_economy_3}
			add_timed_idea = {
				idea = idea_spr_new_crown_grants
				days = 180
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.284
			}
		}
	}
	focus = {
		id = SPR_felipe_feedom_of_religion
		icon = peace_chance
		cost = 4
		
		prerequisite = {
			focus = SPR_felipe_depolitic_military
		}
		prerequisite = {
			focus = SPR_felipe_centralize_laws
		}
		
		x = -2
		y = 1
		relative_position_id = SPR_felipe_centralize_laws
		
		completion_reward = {
			add_stability = -0.05
			add_political_power = 125
			country_event = {
				id = spain.113
			}
		}
	}
	focus = {
		id = SPR_felipe_stimulate_spanish_markets
		icon = canada_protectionism
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_extends_crown_grants
		}
		prerequisite = {
			focus = SPR_felipe_centralize_laws
		}
		
		x = 1
		y = 1
		relative_position_id = SPR_felipe_centralize_laws
		
		completion_reward = {
			add_ideas = {
				idea_spr_stimulated_markets
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_felipe_heavy_lies_the_crown
		icon = focus_ideology_monarchist
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_feedom_of_religion
		}
		prerequisite = {
			focus = SPR_felipe_stimulate_spanish_markets
		}
		
		x = -1
		y = 1
		relative_position_id = SPR_felipe_stimulate_spanish_markets
		
		completion_reward = {
			add_ideas = {
				idea_spr_born_to_rule
			}
			hidden_effect = {
				set_cosmetic_tag = SPR_irl_monarchy
			}
			country_event = {
				id = spain.285
			}
		}
	}
	focus = {
		id = SPR_felipe_recognize_lgbt_organizations
		icon = focus_love_syria
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_heavy_lies_the_crown
		}
		
		x = -2
		y = 1
		relative_position_id = SPR_felipe_heavy_lies_the_crown
		
		completion_reward = {
			add_ideas = {
				idea_amc_progressive_agenda
			}
			add_manpower = 25000
			country_event = {
				id = spain.286
			}
		}
	}
	focus = {
		id = SPR_felipe_a_royal_pay_cut
		icon = anti_monarchy
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_heavy_lies_the_crown
		}
		
		x = -4
		y = 1
		relative_position_id = SPR_felipe_heavy_lies_the_crown
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_taxes_on_the_nobility
				add_idea = idea_spr_royal_paycheck_reductions
			}
		}
	}
	focus = {
		id = SPR_felipe_donate_to_public_hospitals
		icon = increase_healthcare_coverage
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_a_royal_pay_cut
		}
		
		x = 0
		y = 2
		relative_position_id = SPR_felipe_a_royal_pay_cut
		
		completion_reward = {
			random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = spain.288
			}
		}
	}
	focus = {
		id = SPR_felipe_expand_intranet_development
		icon = SPR_subsidize_intranet_development
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_a_royal_pay_cut
		}
		prerequisite = {
			focus = SPR_felipe_recognize_lgbt_organizations
		}
		x = 1
		y = 1
		relative_position_id = SPR_felipe_a_royal_pay_cut
		
		completion_reward = {
			add_ideas = {
				idea_spr_intranet_expansion
			}
			add_research_slot = 1
		}
	}
	focus = {
		id = SPR_felipe_give_back_to_asturian_communities
		icon = investigate_industrial_corruption
		cost = 10
		
		prerequisite = {
			focus = SPR_felipe_a_royal_pay_cut
		}
		
		x = -1
		y = 1
		relative_position_id = SPR_felipe_a_royal_pay_cut
		
		completion_reward = {
			928 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			country_event = {
				id = spain.289
			}
		}
	}
	focus = {
		id = SPR_felipe_a_meeting_with_the_pope
		icon = focus_meet_the_pope
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_heavy_lies_the_crown
		}
		
		x = 0
		y = 1
		relative_position_id = SPR_felipe_heavy_lies_the_crown
		
		completion_reward = {
			add_popularity = {
				ideology = monarchist
				popularity = 0.05
			}
			add_war_support = 0.05
			add_ideas = {
				idea_bsq_papal_support_weak
			}
			country_event = {
				id = spain_diplo.182
			}		
		}
	}
	focus = {
		id = SPR_felipe_meet_with_foreign_business_leaders
		icon = intelligence_exchange
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_heavy_lies_the_crown
		}
		
		x = 2
		y = 1
		relative_position_id = SPR_felipe_heavy_lies_the_crown
		
		completion_reward = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
		}
	}
	focus = {
		id = SPR_felipe_military_training_for_the_royalist_youth
		icon = generic_ideology
		cost = 7.2
		
		prerequisite = {
			focus = SPR_felipe_a_meeting_with_the_pope
		}
		prerequisite = {
			focus = SPR_felipe_meet_with_foreign_business_leaders
		}
		x = 1
		y = 1
		relative_position_id = SPR_felipe_a_meeting_with_the_pope
		
		completion_reward = {
			add_ideas = {
				idea_spr_royalist_paramilitaries
			}
			country_event = {
				id = spain.290
			}
		}
	}

	#########Catalan War########
	focus = {
		id = SPR_the_war_for_spains_soul
		icon = The_War_for_the_Soul_of_Spain
		cost = 3
		
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
	
		allow_branch = {
			AND = {
				NOT = {
					has_completed_focus = SPR_military_picks_a_leader
				}
				NOT = {
					has_completed_focus = SPR_felipe_victory_tour
				}
				NOT = {
					has_completed_focus = SPR_continue_with_elections
				}
				NOT = {
					has_completed_focus = SPR_submitted_to_general_strike
				}
			}
		}
	
		x = 60
		y = 0
		completion_reward = {
			add_ideas = {idea_SPR_spains_soul}
		}
	}
	focus = {
		id = SPR_all_must_do_their_part_to_save_the_nation
		icon = All_Must_Do_Their_Part_SPR
		cost = 3
		
		prerequisite = {
			focus = SPR_the_war_for_spains_soul
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_the_war_for_spains_soul
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {idea_SPR_all_must_serve}
		}
	}
	focus = {
		id = SPR_utilize_public_transportation
		icon = exploit_transportation_networks
		cost = 2
		
		prerequisite = {
			focus = SPR_all_must_do_their_part_to_save_the_nation
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_all_must_do_their_part_to_save_the_nation
		x = 3
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_all_must_serve
				add_idea = idea_SPR_all_must_serve_2
			}
		}
	}
	focus = {
		id = SPR_a_call_out_to_the_world
		icon = exploit_transportation_networks
		cost = 2
		
		prerequisite = {
			focus = SPR_all_must_do_their_part_to_save_the_nation
		}
		available = {
			OR = {
				has_war_with = SPN
				has_war_with = SPR
			}
		}
		
		relative_position_id = SPR_all_must_do_their_part_to_save_the_nation
		x = -3
		y = 1
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_government = monarchist
						has_government = fascist
					}
				}
				every_country = {
					limit = {
						OR = {
							AND = {
								tag = MEX
								OR = {
									has_government = nationalist
									has_government = national_conservative
									has_government = fascist
								}
							}
							AND = {
								OR = {
									tag = PRU
									tag = GUA
									tag = URG
									tag = ITA
									tag = RUS
								}
								OR = {
									has_government = nationalist
									has_government = fascist
									has_government = monarchist
								}
							}
						}
					}
					country_event = {
						id = spain_diplo.204
					}
				}
			}
			IF = {
				limit = {
					has_government = moderate_socialist
				}
				every_country = {
					limit = {
						OR = {
							has_idea = idea_eu_member
							AND = {
								tag = POR
								OR = {
									has_government = new_democrat
									has_government = moderate_socialist
									has_government = revolutionary_socialist
									has_government = communist
								}
							}
						}
					}
					country_event = {
						id = spain_diplo.205
					}
				}
			}
		}
	}
	focus = {
		id = SPR_suppress_the_strikes
		icon = The_Emergency_Behind_The_Lines_SPR
		cost = 5
		
		prerequisite = {
			focus = SPR_the_war_for_spains_soul
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
			OR = {
				has_idea = idea_SPR_general_strike_2
				has_idea = idea_SPR_general_strike
			}
		}
		
		relative_position_id = SPR_the_war_for_spains_soul
		x = 2
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_SPR_general_strike_suppressed
				days = 365
			}
		}
	}
	focus = {
		id = SPR_reappropriate_civilian_lands
		icon = reappropriate_civilian_lands
		cost = 5
		
		prerequisite = {
			focus = SPR_the_war_for_spains_soul
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_the_war_for_spains_soul
		x = -2
		y = 1
		completion_reward = {
		    random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_stability = -0.05
			add_war_support = -0.05
		}
	}
	focus = {
		id = SPR_raise_veteran_divisions
		icon = raise_veteran_divisions
		cost = 3
		
		prerequisite = {
			focus = SPR_reappropriate_civilian_lands
		}
		prerequisite = {
			focus = SPR_all_must_do_their_part_to_save_the_nation
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_the_war_for_spains_soul
		x = -1
		y = 2
		completion_reward = {
			division_template = {
				name = "Veteran Division"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					artillery_brigade = { x = 1 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Veteran Division\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Veteran Division\" division_template = \"Veteran Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
				}
			}
		}
	}
	focus = {
		id = SPR_incorporate_partisan_militias
		icon = incorporate_partisan_militias
		cost = 3
		
		prerequisite = {
			focus = SPR_reappropriate_civilian_lands
		}
		prerequisite = {
			focus = SPR_all_must_do_their_part_to_save_the_nation
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_the_war_for_spains_soul
		x = 1
		y = 2
		completion_reward = {
			division_template = {
				name = "Partisan Militia"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 0 y = 3 }

					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Partisan Militia\" division_template = \"Partisan Militia\" start_experience_factor = 0 start_equipment_factor = 0.7"
					owner = ROOT
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Partisan Militia\" division_template = \"Partisan Militia\" start_experience_factor = 0 start_equipment_factor = 0.7"
					owner = ROOT
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Partisan Militia\" division_template = \"Partisan Militia\" start_experience_factor = 0 start_equipment_factor = 0.7"
					owner = ROOT
				}
			}
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"Partisan Militia\" division_template = \"Partisan Militia\" start_experience_factor = 0 start_equipment_factor = 0.7"
					owner = ROOT
				}
			}
		}
	}
	focus = {
		id = SPR_the_final_push
		icon = the_final_push
		cost = 5
		
		prerequisite = {
			focus = SPR_raise_veteran_divisions
		}
		prerequisite = {
			focus = SPR_incorporate_partisan_militias
		}
		available = {
			OR = {
				has_war_with = CAT
				has_war_with = SPN
				has_war_with = SPR
				has_war_with = GAL
				has_war_with = BSQ
			}
		}
		
		relative_position_id = SPR_raise_veteran_divisions
		x = 1
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_SPR_the_final_push
				days = 90
			}
		}
	}
	
###Foreign Policy###
	focus = {
		id = SPR_fopo_foreign_policy
		icon = focus_commonwealth_un_membership
		cost = 3
		
		available = {
			custom_trigger_tooltip = {
				tooltip = spain_we_have_stabilized_our_government
				OR = {
					has_completed_focus = SPR_leninist_victory
					has_completed_focus = SPR_neocommunist_victory
					has_completed_focus = SPR_syndicalist_victory
					has_completed_focus = SPR_hold_new_elections
					has_completed_focus = SPR_felipe_victory_tour
					has_completed_focus = SPR_carlist_tradition
					has_completed_focus = SPR_falangist_tradition
				}
				NOT = {
					has_idea = idea_SPR_lingering_military_radicalism
				}
				NOT = {
					has_idea = idea_SPR_lingering_republican_radicalism
				}
			}
		}

		x = 47
		y = 25
		offset = {
			x = -2
			y = -25
			trigger = {
				has_completed_focus = SPR_submitted_to_general_strike
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = -5
			y = -25
			trigger = {
				has_completed_focus = SPR_continue_with_elections
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = 5
			y = -25
			trigger = {
				has_completed_focus = SPR_military_picks_a_leader
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = 17
			y = -25
			trigger = {
				has_completed_focus = SPR_felipe_victory_tour
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		completion_reward = {
			add_political_power = 100
		}
	}
	focus = {
		id = SPR_fopo_demand_reunification
		icon = demand_territory
		cost = 5
		
		available = {
			custom_trigger_tooltip = {
				tooltip = spain_the_breakaways_exist_and_are_independent
				OR = {
					AND = {
						country_exists = CAT
						CAT = {
							is_puppet = no
						}
					}
					AND = {
						country_exists = BSQ
						BSQ = {
							is_puppet = no
						}
					}
					AND = {
						country_exists = GAL
						GAL = {
							is_puppet = no
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = spain_we_have_solved_our_separatist_issues
				NOT = {
					has_idea = idea_SPR_separatist_woes_start
					has_idea = idea_SPR_separatist_woes_basques_appeased
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			custom_trigger_tooltip = {
				tooltip = spain_our_government_does_not_already_get_war_goals
				NOT = {
					has_government = liberal
				}
				NOT = {
					has_government = centrist
				}
				NOT = {
					has_government = fascist
				}
				NOT = {
					has_government = nationalist
				}
			}
			NOT = {
				has_country_flag = spr_spain_decided_to_play_nice_with_the_basques
			}
			NOT = {
				has_country_flag = spr_spain_and_portugal_pursued_peace_with_galicia
			}
			NOT = {
				has_country_flag = spr_spain_decided_to_play_nice_with_the_catalans
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = spain_the_breakaways_dont_exist_or_we_killed_them
				OR = {
					has_completed_focus = SPR_nat_reunite_spain
					has_completed_focus = SPR_liberal_recentralize_spain
					has_completed_focus = SPR_centrist_live_up_to_one_spain
					has_completed_focus = SPR_reclaim_the_breakaways
					AND = {
						NOT = {
							country_exists = CAT
						}
						NOT = {
							country_exists = GAL
						}
						NOT = {
							country_exists = BSQ
						}
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		mutually_exclusive = {
			focus = SPR_fopo_recognize_the_breakaways
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = 1
		y = 1
		completion_reward = {
			custom_effect_tooltip = spr_we_will_demand_the_return_of_our_breakaways
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						NOT = {
							is_puppet_of = ROOT
						}
					}
				}
				CAT = {
					country_event = {
						id = spain_diplo.19
					}
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						NOT = {
							is_puppet_of = ROOT
						}
					}
				}
				BSQ = {
					country_event = {
						id = spain_diplo.22
					}
				}
			}
			IF = {
				limit = {
					country_exists = GAL
					GAL = {
						NOT = {
							is_puppet_of = ROOT
						}
					}
				}
				GAL = {
					country_event = {
						id = spain_diplo.25
					}
				}
			}
			set_country_flag = spain_gets_revenge
		}
	}
	focus = {
		id = SPR_fopo_purge_separatist_leaders
		icon = gun_barrel_governance
		cost = 5
		
		available = {
			OR = {
				BSQ = {
					is_puppet_of = ROOT
				}
				AND = {
					owns_state = 1020
					owns_state = 172
				}
			}
			OR = {
				CAT = {
					is_puppet_of = ROOT
				}
				AND = {
					owns_state = 167
					owns_state = 177
					owns_state = 852
					owns_state = 165
				}
			}
			OR = {
				GAL = {
					is_puppet_of = ROOT
				}
				owns_state = 171
			}
		}
		
		bypass = {
			AND = {
				177 = {
					is_core_of = ROOT
				}
				167 = {
					is_core_of = ROOT
				}
				165 = {
					is_core_of = ROOT
				}
				172 = {
					is_core_of = ROOT
				}
				1020 = {
					is_core_of = ROOT
				}
				171 = {
					is_core_of = ROOT
				}
				852 = {
					is_core_of = ROOT
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_demand_reunification
		}

		relative_position_id = SPR_fopo_demand_reunification
		x = 0
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain_diplo.28
			}
			every_owned_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
					NOT = {
						is_core_of = EQG
					}
				}
				add_compliance = 15
			}
			hidden_effect = {
				IF = {
					limit = {
						has_government = revolutionary_socialist
						has_country_flag = SPR_basques_broke_off
						has_country_flag = SPR_ETA_got_overthrown
					}
					country_event = {
						id = spain.388
						days = 2
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_begin_reintegration_projects
		icon = SPR_codify_regional_autonomy
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_purge_separatist_leaders
		}
		
		bypass = {
			AND = {
				177 = {
					is_core_of = ROOT
				}
				167 = {
					is_core_of = ROOT
				}
				165 = {
					is_core_of = ROOT
				}
				172 = {
					is_core_of = ROOT
				}
				1020 = {
					is_core_of = ROOT
				}
				171 = {
					is_core_of = ROOT
				}
				852 = {
					is_core_of = ROOT
				}
			}
		}

		relative_position_id = SPR_fopo_purge_separatist_leaders
		x = 0
		y = 1
		
		completion_reward = {
			hidden_effect = {
				IF = {
					limit = {
						has_government = revolutionary_socialist
						has_country_flag = SPR_basques_broke_off
						has_country_flag = SPR_ETA_got_overthrown
					}
					country_event = {
						id = spain.389
						days = 10
					}
				}
			}
			IF = {
				limit = {
					OR = {
						NOT = {
							has_completed_focus = SPR_a_confederate_spain
						}
						has_completed_focus = SPR_nat_reunite_spain
						has_completed_focus = SPR_liberal_recentralize_spain
					}
				}
				IF = {
					limit = {
						CAT = {
							NOT = {
								is_puppet_of = ROOT
							}
						}
					}
					every_state = {
						limit = {
							is_core_of = CAT
						}
						add_core_of = ROOT
					}
				}
				IF = {
					limit = {
						GAL = {
							NOT = {
								is_puppet_of = ROOT
							}
						}
					}
					every_state = {
						limit = {
							is_core_of = GAL
						}
						add_core_of = ROOT
					}
				}
				IF = {
					limit = {
						BSQ = {
							NOT = {
								is_puppet_of = ROOT
							}
						}
					}
					every_state = {
						limit = {
							is_core_of = BSQ
						}
						add_core_of = ROOT
					}
				}
			}
			ELSE_IF = {
				limit = {
					has_completed_focus = SPR_a_confederate_spain
					NOT = {
						has_completed_focus = SPR_nat_reunite_spain
					}
					NOT = {
						has_completed_focus = SPR_liberal_recentralize_spain
					}
				}
				country_event = {
					id = spain_diplo.199
				}
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPR_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPR_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPR_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPR_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPR_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_galician_civil_guard
					}
					NOT = {
						GAL = {
							has_country_flag = spr_civil_guard_aided_galicia
						}
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_galician_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_Jose_Hermida
						traits = { old_guard politically_connected }
						skill = 4
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 4
					}
					add_field_marshal_role = {
						Character = SPN_jose_amedo_general
						traits = { old_guard politically_connected logistics_wizard offensive_doctrine }
						skill = 5
						attack_skill = 4
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 4
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tejada_Blanco
						traits = { old_guard trait_cautious }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 3
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Antonio_Vilarino
						traits = { infantry_officer engineer_officer }
						skill = 2
						attack_skill = 2
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					add_corps_commander_role = {
						Character = SPN_Jesus_Gayoso
						traits = { infantry_officer engineer_officer career_officer}
						skill = 3
						attack_skill = 2
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 2
					}
					add_advisor_role = {
						character = SPN_Jesus_Gayoso
						advisor = {
							slot = high_command
							idea_token = SPN_Jesus_Gayoso
							traits = {
								army_infantry_3 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Hermida
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Hermida
							traits = {
								army_chief_drill_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Jose_Antonio_Vilarino
						advisor = {
							slot = high_command
							idea_token = SPN_Jose_Antonio_Vilarino
							traits = {
								army_armored_1 
							}
						}
					}
				}
				set_country_flag = spr_integrated_galician_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPR_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPR_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_catalan_civil_guard
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_catalan_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_pedro_garrido_general
						traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
						skill=4
						attack_skill=5
						defense_skill=4
						planning_skill=5
						logistics_skill=2
					}
					add_field_marshal_role = {
						Character = SPN_Angel_Gonzalo
						traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
						skill=3
						attack_skill=2
						defense_skill=4
						planning_skill=3
						logistics_skill=3
					}
					add_naval_commander_role = {
						Character = SPN_J_Reina
						traits={ old_guard_navy gentlemanly }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=2
						coordination_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Luis_Tovar
						traits={ organizer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=3
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Pizarro
						traits={ trickster infantry_officer trait_reckless }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Daniel_Baena
						traits={ trait_cautious brilliant_strategist armor_officer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Pedro_Alfonso_Casado
						traits={ career_officer engineer_officer trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Jordi_Verger
						traits={ organizer adaptable harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=3
						planning_skill=1
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Francisco_Barreiro
						traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
						skill=3
						attack_skill=4
						defense_skill=3
						planning_skill=4
						logistics_skill=2
					}
				}
				set_country_flag = spr_integrated_catalan_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPR_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPR_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPR_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPR_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPR_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPR_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPR_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPR_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPR_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPR_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPN
					NOT = {
						has_country_flag = spr_integrated_basque_civil_guard
					}
					OR = {
						has_government = monarchist
						has_government = fascist
						has_government = nationalist
						has_government = national_conservative
						has_government = centrist
						has_government = liberal
					}
				}
				custom_effect_tooltip = spr_we_will_get_basque_civil_guard
				hidden_effect = {
					add_field_marshal_role = {
						Character = SPN_enrique_rodriguez_galindo_field_marshal
						traits = { old_guard politically_connected brilliant_strategist fast_planner }
						skill = 5
						attack_skill = 6
						defense_skill = 4
						planning_skill = 5
						logistics_skill = 5
					}
					add_corps_commander_role = {
						Character = SPN_Miguel_Castro_Manterola
						traits = { old_guard trait_reckless }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Javier_Hernandez
						traits = { old_guard infantry_leader skilled_staffer }
						skill = 3
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
					add_corps_commander_role = {
						Character = SPN_Jose_Raposo_Casares
						traits = { politically_connected infantry_leader skilled_staffer infantry_expert }
						skill = 4
						attack_skill = 4
						defense_skill = 5
						planning_skill = 3
						logistics_skill = 3
					}
					add_advisor_role = {
						character = SPN_Jose_Raposo_Casares
						advisor = {
							slot = army_chief
							idea_token = SPN_Jose_Raposo_Casares
							traits = {
								army_chief_organizational_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_Javier_Hernandez
						advisor = {
							slot = high_command
							idea_token = SPN_Javier_Hernandez
							traits = {
								army_infantry_1
							}
						}
					}
					add_advisor_role = {
						character = SPN_Miguel_Castro_Manterola
						advisor = {
							slot = high_command
							idea_token = SPN_Miguel_Castro_Manterola
							traits = {
								army_military_police_2 
							}
						}
					}
					add_advisor_role = {
						character = SPN_enrique_rodriguez_galindo_field_marshal
						advisor = {
							slot = high_command
							idea_token = SPN_enrique_rodriguez_galindo_field_marshal
							traits = {
								army_commando_3 
							}
						}
					}
				}
				set_country_flag = spr_integrated_basque_civil_guard
			}
			IF = {
				limit = {
					tag = SPR
					has_government = revolutionary_socialist
					NOT = {
						CAT = {
							has_country_flag = cat_anarchists_took_over
						}
					}
					NOT = {
						has_country_flag = spr_integrated_catalan_anarchists
					}
				}
				custom_effect_tooltip = spr_we_will_get_anarchist_generals
				hidden_effect = {
					add_naval_commander_role = {
						Character = SPR_Nunia_Cadenes
						traits={ seawolf }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=1
						coordination_skill=1
					}
					add_field_marshal_role = {
						Character = SPR_carles_riera
						traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Ricard_de_Vargas_Golarons
						traits={ trickster trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Guillem_Agullo
						traits={ media_personality }
						skill=1
						attack_skill=1
						defense_skill=2
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Alfonso_Alvarez
						traits={ trickster war_hero politically_connected }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=2
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPR_Fidel_Manrique
						traits={ trickster media_personality politically_connected old_guard }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=3
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPR_Martin_Paradelo
						traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Ignacio_Fernandez_Toxo
						traits={ politically_connected war_hero brilliant_strategist }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Stuart_Christie
						traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPR_Tomas_Sayes_i_Jato
						traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
				}
				set_country_flag = spr_integrated_catalan_anarchists
			}
			IF = {
				limit = {
					tag = SPN
					has_government = revolutionary_socialist
					NOT = {
						CAT = {
							has_country_flag = cat_anarchists_took_over
						}
					}
					NOT = {
						has_country_flag = spr_integrated_catalan_anarchists
					}
				}
				custom_effect_tooltip = spr_we_will_get_anarchist_generals
				hidden_effect = {
					add_naval_commander_role = {
						Character = SPN_Nunia_Cadenes
						traits={ seawolf }
						skill=2
						attack_skill=2
						defense_skill=2
						maneuvering_skill=1
						coordination_skill=1
					}
					add_field_marshal_role = {
						Character = SPN_carles_riera
						traits={ politically_connected trait_reckless media_personality infantry_officer fast_planner aggressive_assaulter inspirational_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Ricard_de_Vargas_Golarons
						traits={ trickster trait_cautious }
						skill=2
						attack_skill=2
						defense_skill=3
						planning_skill=2
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Guillem_Agullo
						traits={ media_personality }
						skill=1
						attack_skill=1
						defense_skill=2
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Alfonso_Alvarez
						traits={ trickster war_hero politically_connected }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=2
						logistics_skill=3
					}
					add_corps_commander_role = {
						Character = SPN_Fidel_Manrique
						traits={ trickster media_personality politically_connected old_guard }
						skill=2
						attack_skill=2
						defense_skill=2
						planning_skill=3
						logistics_skill=2
					}
					add_corps_commander_role = {
						Character = SPN_Martin_Paradelo
						traits={ skilled_staffer organizer infantry_leader infantry_officer media_personality }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Ignacio_Fernandez_Toxo
						traits={ politically_connected war_hero brilliant_strategist }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Stuart_Christie
						traits={ old_guard international_volunteer war_hero trait_reckless harsh_leader }
						skill=2
						attack_skill=3
						defense_skill=2
						planning_skill=3
						logistics_skill=1
					}
					add_corps_commander_role = {
						Character = SPN_Tomas_Sayes_i_Jato
						traits={ infantry_officer media_personality trait_cautious inflexible_strategist organizer skilled_staffer }
						skill=1
						attack_skill=2
						defense_skill=1
						planning_skill=1
						logistics_skill=1
					}
				}
				set_country_flag = spr_integrated_catalan_anarchists
			}
		}
	}
	focus = {
		id = SPR_fopo_recognize_the_breakaways
		icon = SPR_fopo_recognize_the_breakaways
		cost = 5
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = spain_has_catalonia_the_basque_country_and_galicia_as_puppets
				AND = {
					country_exists = CAT
					CAT = {
						is_puppet_of = ROOT
					}
				}
				AND = {
					country_exists = BSQ
					BSQ = {
						is_puppet_of = ROOT
					}
				}
				AND = {
					country_exists = GAL
					GAL = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = spain_the_breakaways_exist_and_are_independent
				OR = {
					AND = {
						country_exists = CAT
						CAT = {
							is_puppet = no
							NOT = {
								has_government = fascist
							}
							NOT = {
								has_government = nationalist
							}
						}
					}
					AND = {
						country_exists = BSQ
						BSQ = {
							is_puppet = no
							NOT = {
								has_government = fascist
							}
							NOT = {
								has_government = nationalist
							}
						}
					}
					AND = {
						country_exists = GAL
						GAL = {
							is_puppet = no
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = spain_we_have_solved_our_separatist_issues
				NOT = {
					has_idea = idea_SPR_separatist_woes_start
					has_idea = idea_SPR_separatist_woes_basques_appeased
					has_idea = idea_SPR_separatist_woes_basques_worse_rest_norm
					has_idea = idea_SPR_separatist_woes_basques_and_galicians_appeased
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_bad_catalans_good
					has_idea = idea_SPR_separatist_woes_basques_good_galicians_bad_catalans_good
					has_idea = idea_SPR_separatist_woes_basques_bad_galicians_good_catalans_good
				}
			}
			NOT = {
				OR = {
					has_government = centrist
					has_government = liberal
					has_government = nationalist
					has_government = fascist
					has_government = monarchist
					has_government = national_conservative
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		mutually_exclusive = {
			focus = SPR_fopo_demand_reunification
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = -1
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_we_will_recognize_the_breakaways
			IF = {
				limit = {
					country_exists = CAT
					CAT = {
						is_puppet = no
					}
				}
				CAT = {
					country_event = {
						id = spain_diplo.29
					}
				}
			}
			IF = {
				limit = {
					country_exists = BSQ
					BSQ = {
						is_puppet = no
					}
				}
				BSQ = {
					country_event = {
						id = spain_diplo.29
					}
				}
			}
			IF = {
				limit = {
					country_exists = GAL
					GAL = {
						is_puppet = no
					}
				}
				GAL = {
					country_event = {
						id = spain_diplo.29
					}
				}
			}
			IF = {
				limit = {
					owns_state = 171
					NOT = {
						171 = {
							is_core_of = ROOT
						}
					}
				}
				release_puppet = GAL
				hidden_effect = {
					GAL = {
						load_focus_tree = generic_focus
					}
				}
			}
			IF = {
				limit = {
					owns_state = 1020
					NOT = {
						1020 = {
							is_core_of = ROOT
						}
					}
				}
				release_puppet = BSQ
				hidden_effect = {
					BSQ = {
						load_focus_tree = generic_focus
					}
					BSQ = {
						transfer_state = 1020
					}
					1020 = {
						add_core_of = BSQ
					}
					transfer_state = 172
					172 = {
						add_core_of = ROOT
					}
				}
			}
			IF = {
				limit = {
					owns_state = 165
					NOT = {
						165 = {
							is_core_of = ROOT
						}
					}
				}
				release_puppet = CAT
				hidden_effect = {
					CAT = {
						load_focus_tree = generic_focus
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_mutual_development_scheme
		icon = deal_focus
		cost = 5
		
		bypass = {
			AND = {
				NOT = {
					any_country = {
						has_country_flag = spr_country_agreed_to_non_aggression
					}
				}
				any_country = {
					has_country_flag = spr_country_refused_non_aggression
				}
				NOT = {
					any_country = {
						is_puppet_of = ROOT
						OR = {
							tag = CAT
							tag = GAL
							tag = BSQ
							tag = ATA
							tag = ALU
							tag = CAI
							tag = CCM
						}
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_recognize_the_breakaways
		}

		available = {
			OR = {
				any_country = {
					has_country_flag = spr_country_agreed_to_non_aggression
				}
				any_country = {
					is_puppet_of = ROOT
					OR = {
						tag = CAT
						tag = GAL
						tag = BSQ
						tag = ATA
						tag = ALU
						tag = CAI
						tag = CCM
					}
				}
			}
		}

		relative_position_id = SPR_fopo_recognize_the_breakaways
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_mutual_development_scheme_tooltip
			every_country = {
				limit = {
					has_country_flag = spr_country_agreed_to_non_aggression
					OR = {
						tag = CAT
						tag = GAL
						tag = BSQ
						tag = ATA
						tag = ALU
						tag = CAI
						tag = CCM
					}
				}
				country_event = {
					id = spain_diplo.65
				}
			}
			every_country = {
				limit = {
					AND = {
						is_puppet_of = ROOT
						OR = {
							tag = CAT
							tag = GAL
							tag = BSQ
							tag = ATA
							tag = ALU
							tag = CAI
							tag = CCM
						}
					}
				}
				country_event = {
					id = spain_diplo.200
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_iberian_mutual_defense_pact
		icon = SPR_fopo_iberian_mutual_defense_pact
		cost = 5
		
		bypass = {
			OR = {
				AND = {
					NOT = {
						any_country = {
							has_country_flag = spr_country_agreed_to_non_aggression
						}
					}
					any_country = {
						has_country_flag = spr_country_refused_non_aggression
					}
				}
				custom_trigger_tooltip = {
					tooltip = spain_has_catalonia_the_basque_country_and_galicia_as_puppets
					AND = {
						country_exists = CAT
						CAT = {
							is_puppet_of = ROOT
						}
					}
					AND = {
						country_exists = BSQ
						BSQ = {
							is_puppet_of = ROOT
						}
					}
					AND = {
						country_exists = GAL
						GAL = {
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_mutual_development_scheme
		}
		
		available = {
			any_country = {
				has_country_flag = spr_country_agreed_to_non_aggression
			}
		}

		relative_position_id = SPR_fopo_mutual_development_scheme
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_iberian_mutual_defense_pact_tooltip
			every_country = {
				limit = {
					has_country_flag = spr_country_agreed_to_non_aggression
				}
				country_event = {
					id = spain_diplo.68
				}
			}
			hidden_effect = {
				country_event = {
					id = spain_diplo.77
					days = 7
				}
				set_variable = {iberian_defense_pact_signatories = 0}
				set_variable = {valid_independent_spanish_states = 0}
				IF = {
					limit = {
						country_exists = GAL
						GAL = {
							is_puppet = no
						}
					}
					add_to_variable = { valid_independent_spanish_states = 1 }
				}
				IF = {
					limit = {
						country_exists = CAT
						CAT = {
							is_puppet = no
							NOT = {
								has_government = nationalist
							}
							NOT = {
								has_government = fascist
							}
						}
					}
					add_to_variable = { valid_independent_spanish_states = 1 }
				}
				IF = {
					limit = {
						country_exists = BSQ
						BSQ = {
							is_puppet = no
							NOT = {
								has_government = nationalist
							}
							NOT = {
								has_government = fascist
							}
						}
					}
					add_to_variable = { valid_independent_spanish_states = 1 }
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_our_former_colonies
		icon = Our_Former_Colonies_SPR
		cost = 4
		
		mutually_exclusive = {
			focus = SPR_fopo_heirs_of_la_hispanidad
		}
		
		available = {
			NOT = {
				has_completed_focus = SPR_military_picked_natsysns
			}
			custom_trigger_tooltip = {
				tooltip = spain_we_fixed_the_economy_tooltip
				NOT = {
					has_idea = idea_SPR_backwards_economy
					has_idea = idea_SPR_backwards_economy_2
					has_idea = idea_SPR_backwards_economy_3
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = 4
		y = 1
		
		completion_reward = {
			add_stability = 0.05
			add_political_power = 50
		}
	}
	focus = {
		id = SPR_fopo_reclaim_eqg
		icon = spain_reclaim_equatorial_guinea_focus
		cost = 5
		
		available = {
			AND = {
				country_exists = EQG
				EQG = {
					is_puppet = no
				}
			}
			NOT = {
				has_completed_focus = SPR_freedom_for_spanish_africa
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_our_former_colonies
			focus = SPR_fopo_heirs_of_la_hispanidad
		}

		relative_position_id = SPR_fopo_our_former_colonies
		x = 3
		y = 1
		completion_reward = {
			EQG = {
				country_event = {
					id = spain_diplo.16
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_make_contact_with_latam_revolutionaries
		icon = agrarian_socialism
		cost = 6
		
		available = {
			OR = {
				has_government = revolutionary_socialist
				has_government = communist
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_reach_out_to_latam_markets
		}
		
		prerequisite = {
			focus = SPR_fopo_our_former_colonies
		}

		relative_position_id = SPR_fopo_our_former_colonies
		x = 1
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
						NOT = {
							has_government = moderate_socialist
						}
					}
				}
				country_event = {
					id = spain_diplo.118
				}
				add_stability = -0.05
				add_war_support = 0.05
				add_popularity = {
					ideology = revolutionary_socialist
					popularity = 0.01
				}
				add_popularity = {
					ideology = communist
					popularity = 0.01
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_align_latam_socialist_states
		icon = propaganda
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_make_contact_with_latam_revolutionaries
		}

		relative_position_id = SPR_fopo_make_contact_with_latam_revolutionaries
		x = 0
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
						}
					}
				}
				IF = {
					limit = {
						country_exists = SPR
					}
					add_opinion_modifier = {
						target = SPR
						modifier = spr_latam_madrid_conference
					}
				}
				IF = {
					limit = {
						country_exists = SPN
					}
					add_opinion_modifier = {
						target = SPN
						modifier = spr_latam_madrid_conference
					}
				}
				country_event = {
					id = spain_diplo.120
				}
			}
			country_event = {
				id = spain_diplo.119
			}
		}
	}
	focus = {
		id = SPR_fopo_iberian_american_resource_exchange
		icon = socialist_industry_generic
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_make_contact_with_latam_revolutionaries
		}

		relative_position_id = SPR_fopo_make_contact_with_latam_revolutionaries
		x = 2
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
						}
					}
				}
				country_event = {
					id = spain_diplo.123
				}
			}
			add_ideas = {
				idea_spr_iberian_american_resource_exchange
			}
		}
	}
	focus = {
		id = SPR_fopo_meet_with_leftist_militants
		icon = accomodate_the_hardliners
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_iberian_american_resource_exchange
		}
		prerequisite = {
			focus = SPR_fopo_align_latam_socialist_states
		}

		relative_position_id = SPR_fopo_iberian_american_resource_exchange
		x = -1
		y = 1
		
		completion_reward = {
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions
				}
			}
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
						NOT = {
							has_government = moderate_socialist
						}
					}
				}
				country_event = {
					id = spain_diplo.126
				}
				add_ideas = {
					idea_spr_spain_agitating_militants
				}
				set_country_flag = spr_target_of_the_spanish_revolution
			}
		}
	}
	focus = {
		id = SPR_fopo_spread_the_revolution
		icon = red_brigades
		cost = 10
		
		available = {
			NOT = {
				has_idea = idea_SPR_bloated_military
				has_idea = idea_SPR_bloated_military_2
			}
			has_army_manpower = {
				size > 750000
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_meet_with_leftist_militants
		}

		relative_position_id = SPR_fopo_meet_with_leftist_militants
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_we_will_begin_our_spreading_of_socialism_through_latin_america
			IF = {
				limit = {
					CEA = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CEA
				}
			}
			IF = {
				limit = {
					MEX = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = MEX
				}
			}
			IF = {
				limit = {
					RIO = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = RIO
				}
			}
			IF = {
				limit = {
					SON = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SON
				}
			}
			IF = {
				limit = {
					GUA = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GUA
				}
			}
			IF = {
				limit = {
					HON = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = HON
				}
			}
			IF = {
				limit = {
					ELS = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ELS
				}
			}
			IF = {
				limit = {
					COS = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = COS
				}
			}
			IF = {
				limit = {
					PAN = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = PAN
				}
			}
			IF = {
				limit = {
					COL = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = COL
				}
			}
			IF = {
				limit = {
					VEN = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = VEN
				}
			}
			IF = {
				limit = {
					ECU = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ECU
				}
			}
			IF = {
				limit = {
					PRU = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = PRU
				}
			}
			IF = {
				limit = {
					BOL = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BOL
				}
			}
			IF = {
				limit = {
					PAR = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = PAR
				}
			}
			IF = {
				limit = {
					URG = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = URG
				}
			}
			IF = {
				limit = {
					CHL = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CHL
				}
			}
			IF = {
				limit = {
					ARG = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ARG
				}
			}
			IF = {
				limit = {
					CUB = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CUB
				}
			}
			IF = {
				limit = {
					HAI = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = HAI
				}
			}
			IF = {
				limit = {
					DOM = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = DOM
				}
			}
			IF = {
				limit = {
					ANT = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ANT
				}
			}
			IF = {
				limit = {
					TAT = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = TAT
				}
			}
			IF = {
				limit = {
					GND = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GND
				}
			}
			IF = {
				limit = {
					BRA = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BRA
				}
			}
			IF = {
				limit = {
					SUL = {
						has_idea = idea_spr_spain_agitating_militants
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SUL
				}
			}
			every_country = {
				limit = {
					has_idea = idea_spr_spain_agitating_militants
				}
				remove_ideas = {
					idea_spr_spain_agitating_militants
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_reach_out_to_latam_markets
		icon = spanish_america_focus
		cost = 6
		
		available = {
			OR = {
				has_government = liberal
				has_government = fascist
				has_government = monarchist
				has_government = new_democrat
				has_government = moderate_socialist
				has_government = national_conservative
				has_government = nationalist
				has_government = centrist
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_make_contact_with_latam_revolutionaries
		}
		
		prerequisite = {
			focus = SPR_fopo_our_former_colonies
		}

		relative_position_id = SPR_fopo_our_former_colonies
		x = -1
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
						NOT = {
							has_government = moderate_socialist
						}
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = spain_latam_trade
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_iberian_american_free_trade_zone
		icon = positive_trade_relations
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_reach_out_to_latam_markets
		}

		relative_position_id = SPR_fopo_reach_out_to_latam_markets
		x = 0
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						NOT = {
							has_government = national_bolshevik
						}
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
						NOT = {
							has_government = moderate_socialist
						}
					}
				}
				country_event = {
					id = spain_diplo.143
				}
			}
			add_ideas = {
				idea_spr_iberian_american_free_trade_zone
			}
		}
	}
	focus = {
		id = SPR_fopo_allow_socialist_entries
		icon = focus_socialist_trading_network
		cost = 8
		
		available = {
			OR = {
				has_government = new_democrat
				has_government = moderate_socialist
				has_government = liberal
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_embargo_latam_socialists
		}
		
		prerequisite = {
			focus = SPR_fopo_iberian_american_free_trade_zone
		}

		relative_position_id = SPR_fopo_iberian_american_free_trade_zone
		x = 1
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
							has_government = moderate_socialist
						}
					}
				}
				country_event = {
					id = spain_diplo.146
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_mutual_development_latam
		icon = production
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_allow_socialist_entries
		}
		
		available = {
			any_country = {
				has_idea = idea_spr_iberian_american_free_trade_zone
			}
		}

		relative_position_id = SPR_fopo_allow_socialist_entries
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_mutual_development_for_latin_america_tooltip
			every_country = {
				limit = {
					has_idea = idea_spr_iberian_american_free_trade_zone
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_protect_latam_self_determination
		icon = Protect_Latin-American_Self_Determination_SPR
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_mutual_development_latam
			focus = SPR_fopo_spread_the_revolution
		}

		relative_position_id = SPR_fopo_mutual_development_latam
		x = 1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = CEA
					}
					country_exists = CEA
					CEA = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = CEA
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = MEX
					}
					country_exists = MEX
					MEX = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = MEX
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = RIO
					}
					country_exists = RIO
					RIO = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = RIO
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = SON
					}
					country_exists = SON
					SON = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = SON
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = GUA
					}
					country_exists = GUA
					GUA = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = GUA
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = HON
					}
					country_exists = HON
					HON = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = HON
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = ELS
					}
					country_exists = ELS
					ELS = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = ELS
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = COS
					}
					country_exists = COS
					COS = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = COS
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = PAN
					}
					country_exists = PAN
					PAN = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = PAN
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = COL
					}
					country_exists = COL
					COL = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = COL
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = VEN
					}
					country_exists = VEN
					VEN = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = VEN
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = ECU
					}
					country_exists = ECU
					ECU = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = ECU
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = PRU
					}
					country_exists = PRU
					PRU = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = PRU
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = BOL
					}
					country_exists = BOL
					BOL = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = BOL
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = URG
					}
					country_exists = URG
					URG = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = URG
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = CHL
					}
					country_exists = CHL
					CHL = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = CHL
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = ARG
					}
					country_exists = ARG
					ARG = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = ARG
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = CUB
					}
					country_exists = CUB
					CUB = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = CUB
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = HAI
					}
					country_exists = HAI
					HAI = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = HAI
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = DOM
					}
					country_exists = DOM
					DOM = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = DOM
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = ANT
					}
					country_exists = ANT
					ANT = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = ANT
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = TAT
					}
					country_exists = TAT
					TAT = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = TAT
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = GND
					}
					country_exists = GND
					GND = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = GND
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = BRA
					}
					country_exists = BRA
					BRA = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = BRA
			}
			IF = {
				limit = {
					NOT = {
						has_wargoal_against = SUL
					}
					country_exists = SUL
					SUL = {
						NOT = {
							has_government = fascist
						}
						NOT = {
							has_government = monarchist
						}
					}
				}
				give_guarantee = SUL
			}
		}
	}
	focus = {
		id = SPR_fopo_purchase_chilean_industrial_tech
		icon = Purchase_Chilean_Industrial_Technology_SPR
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_mutual_development_latam
		}

		relative_position_id = SPR_fopo_mutual_development_latam
		x = -1
		y = 1
		
		completion_reward = {
			CHL = {
				country_event = {
					id = spain_diplo.167
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_embargo_latam_socialists
		icon = GER_tariffs_on_foreign_goods
		cost = 8
		
		available = {
			OR = {
				has_government = new_democrat
				has_government = liberal
				has_government = fascist
				has_government = nationalist
				has_government = centrist
				has_government = monarchist
				has_government = national_conservative
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_allow_socialist_entries
		}
		
		prerequisite = {
			focus = SPR_fopo_iberian_american_free_trade_zone
		}

		relative_position_id = SPR_fopo_iberian_american_free_trade_zone
		x = -1
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						OR = {
							has_government = moderate_socialist
							has_government = revolutionary_socialist
							has_government = communist
							has_government = national_bolshevik
						}
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = embargo
				}
				hidden_effect = {
					country_event = {
						id = spain_diplo.170
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_fund_anti_communist_paramilitaries
		icon = SPR_latin_american_right_wing_militia_funding_focus
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_embargo_latam_socialists
		}

		relative_position_id = SPR_fopo_embargo_latam_socialists
		x = -2
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					AND = {
						OR = {
							tag = CEA
							tag = MEX
							tag = RIO
							tag = SON
							tag = GUA
							tag = HON
							tag = ELS
							tag = COS
							tag = PAN
							tag = COL
							tag = VEN
							tag = ECU
							tag = PRU
							tag = BOL
							tag = PAR
							tag = URG
							tag = CHL
							tag = ARG
							tag = CUB
							tag = HAI
							tag = DOM
							tag = ANT
							tag = TAT
							tag = GND
							tag = BRA
							tag = SUL
						}
						OR = {
							has_government = moderate_socialist
							has_government = revolutionary_socialist
							has_government = communist
							has_government = national_bolshevik
						}
					}
				}
				add_popularity = {
					ideology = fascist
					popularity = 0.07
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_purchase_latam_businesses
		icon = invite_multinationals
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_embargo_latam_socialists
		}

		relative_position_id = SPR_fopo_embargo_latam_socialists
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_buying_latam_businesses
			swap_ideas = {
				remove_idea = idea_spr_iberian_american_free_trade_zone
				add_idea = idea_spr_iberian_american_free_trade_zone_spain
			}
			every_country = {
				limit = {
					has_idea = idea_spr_iberian_american_free_trade_zone
					NOT = {
						tag = SPR
					}
					NOT = {
						tag = SPN
					}
				}
				country_event = {
					id = spain_diplo.171
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_foster_economic_dependence
		icon = lucrative_investment
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_purchase_latam_businesses
		}
		prerequisite = {
			focus = SPR_fopo_fund_anti_communist_paramilitaries
		}

		relative_position_id = SPR_fopo_fund_anti_communist_paramilitaries
		x = 1
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_nurturing_dependence
			IF = {
				limit = {
					tag = SPR
				}
				every_country = {
					limit = {
						has_idea = idea_spr_iberian_american_free_trade_zone_2
					}
					swap_ideas = {
						remove_idea = idea_spr_iberian_american_free_trade_zone_2
						add_idea = idea_spr_iberian_american_free_trade_zone_3_spr
					}
					country_event = {
						id = spain_diplo.174
					}
				}
			}
			IF = {
				limit = {
					tag = SPN
				}
				every_country = {
					limit = {
						has_idea = idea_spr_iberian_american_free_trade_zone_2
					}
					swap_ideas = {
						remove_idea = idea_spr_iberian_american_free_trade_zone_2
						add_idea = idea_spr_iberian_american_free_trade_zone_3_spn
					}
					country_event = {
						id = spain_diplo.174
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_addressing_our_neighbors
		icon = SPR_adressing_our_neighbors
		cost = 1
		
		available = {
			custom_trigger_tooltip = {
				tooltip = spain_we_have_started_to_improve_our_economy
				NOT = {
					has_idea = idea_SPR_backwards_economy
				}
			}
			custom_trigger_tooltip = {
				tooltip = spain_we_have_solved_our_military_issues
				NOT = {
					has_idea = idea_SPR_bloated_military
				}
				NOT = {
					has_idea = idea_SPR_bloated_military_2
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = -12
		y = 1
		
		completion_reward = {
			add_political_power = 25
			add_ai_strategy = {
				type = force_build_armies
				value = 30
			}
		}
	}
	focus = {
		id = SPR_fopo_pursue_friendship_with_morocco
		icon = morocco
		cost = 3
		
		mutually_exclusive = {
			focus = SPR_fopo_embargo_morocco
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = 0
		y = 1
		
		completion_reward = {
            add_opinion_modifier = {
				target = MOR
				modifier = spr_por_normalized_relations
			}
			country_event = {
				id = spain_diplo.86
			}
            MOR = {
                add_opinion_modifier = {
					target = ROOT
					modifier = spr_por_normalized_relations
				}
				country_event = {
					id = spain_diplo.87
				}
            }
		}
	}
	focus = {
		id = SPR_fopo_negotiate_basing_rights
		icon = GAL_adopt_a_good_neighbor_policy
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_pursue_friendship_with_morocco
		}

		relative_position_id = SPR_fopo_pursue_friendship_with_morocco
		x = 0
		y = 1
		
		completion_reward = {
			MOR = {
				country_event = {
					id = spain_diplo.88
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_the_matter_of_ceuta_and_melilla
		icon = peace_chance
		cost = 7
		
		prerequisite = {
			focus = SPR_fopo_negotiate_basing_rights
		}

		relative_position_id = SPR_fopo_negotiate_basing_rights
		x = 0
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain_diplo.91
			}
		}
	}
	focus = {
		id = SPR_fopo_invite_morocco_to_economic_pact
		icon = investigate_industrial_corruption
		cost = 7
		
		prerequisite = {
			focus = SPR_fopo_negotiate_basing_rights
		}

		relative_position_id = SPR_fopo_negotiate_basing_rights
		x = 2
		y = 1
		
		completion_reward = {
			MOR = {
				country_event = {
					id = spain_diplo.92
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_embargo_morocco
		icon = morocco_attack
		cost = 3
		
		mutually_exclusive = {
			focus = SPR_fopo_pursue_friendship_with_morocco
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = -4
		y = 1

		completion_reward = {
			add_opinion_modifier = {
				target = MOR
				modifier = embargo
			}
			MOR = {
				add_opinion_modifier = {
					target = ROOT
					modifier = embargo
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_reach_out_to_algeria
		icon = algeria
		cost = 4
		
		available = {
			has_army_manpower = {
				size > 500000
			}
			OR = {
				has_government = communist
				has_government = revolutionary_socialist
			}
			ALG = {
				OR = {
					has_government = communist
					has_government = revolutionary_socialist
				}
			}
			NOT = {
				has_war_with = ALG
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_right_francos_wrong
			focus = SPR_fopo_demand_sahrawi_independence
		}
		
		prerequisite = {
			focus = SPR_fopo_embargo_morocco
		}

		relative_position_id = SPR_fopo_embargo_morocco
		x = 2
		y = 1
		
		completion_reward = {
            add_opinion_modifier = {
				target = ALG
				modifier = spr_por_normalized_relations
			}
			country_event = {
				id = spain_diplo.82
			}
			ALG = {
				country_event = {
					id = spain_diplo.81
				}
                add_opinion_modifier = {
					target = ROOT
					modifier = spr_por_normalized_relations
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_mutual_intervention_in_morocco
		icon = SPR_algerian_war_on_morocco
		cost = 8
		
		available = {
			NOT = {
				has_war_with = ALG
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_reach_out_to_algeria
		}

		relative_position_id = SPR_fopo_reach_out_to_algeria
		x = 0
		y = 1
		
		completion_reward = {
			ALG = {
				country_event = {
					id = spain_diplo.83
				}
			}
			custom_effect_tooltip = spr_mutual_intervention
		}
	}
	focus = {
		id = SPR_fopo_right_francos_wrong
		icon = spain_franco_mistake_morocco
		cost = 4
		
		available = {
			OR = {
				has_government = fascist
				has_government = monarchist
				has_government = nationalist
			}
			has_army_manpower = {
				size > 500000
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_reach_out_to_algeria
			focus = SPR_fopo_demand_sahrawi_independence
		}
		
		prerequisite = {
			focus = SPR_fopo_embargo_morocco
		}

		relative_position_id = SPR_fopo_embargo_morocco
		x = 0
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = MOR
			}
			create_wargoal = {
				type = annex_everything
				target = WSA
			}
			every_state = {
				limit = {
					is_core_of = MOR
				}
				add_claim_by = ROOT
			}
			882 = {
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_demand_sahrawi_independence
		icon = SPR_fopo_demand_sahrawi_independence
		cost = 4
		
		available = {
			NOT = {
				has_government = fascist
			}
			has_army_manpower = {
				size > 500000
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_reach_out_to_algeria
			focus = SPR_fopo_right_francos_wrong
		}
		
		prerequisite = {
			focus = SPR_fopo_embargo_morocco
		}

		relative_position_id = SPR_fopo_embargo_morocco
		x = -2
		y = 1
		
		completion_reward = {
			MOR = {
				country_event = {
					id = spain_diplo.183
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_the_future_of_west_sahara
		icon = SPR_fopo_the_future_of_west_sahara
		cost = 8
		
		available = {
			OR = {
				WSA = {
					is_puppet_of = ROOT
				}
				AND = {
					owns_state = 699
					owns_state = 882
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_demand_sahrawi_independence
		}

		relative_position_id = SPR_fopo_demand_sahrawi_independence
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					AND = {
						owns_state = 699
					}
				}
				WSA = {
					transfer_state = 699
				}
				puppet = WSA
				hidden_effect = {
					699 = {
						remove_claim_by = ROOT
					}
					IF = {
						limit = {
							OR = {
								has_government = fascist
								has_government = nationalist
							}
						}
						WSA = {
							set_politics = {
								ruling_party = nationalist
								elections_allowed = no
								last_election = "1935.12.17"
								election_frequency = 48
							}
							add_popularity = {
								ideology = nationalist
								popularity = 0.5
							}
						}
					}
					IF = {
						limit = {
							OR = {
								has_government = monarchist
								has_government = national_conservative
								has_government = centrist
							}
						}
						WSA = {
							set_politics = {
								ruling_party = national_conservative
								elections_allowed = no
								last_election = "1935.12.17"
								election_frequency = 48
							}
							add_popularity = {
								ideology = national_conservative
								popularity = 0.5
							}
						}
					}
					IF = {
						limit = {
							OR = {
								has_government = liberal
								has_government = new_democrat
								has_government = moderate_socialist
							}
						}
						WSA = {
							set_politics = {
								ruling_party = liberal
								elections_allowed = no
								last_election = "1935.12.17"
								election_frequency = 48
							}
							add_popularity = {
								ideology = liberal
								popularity = 0.5
							}
						}
					}
					IF = {
						limit = {
							OR = {
								has_government = communist
								has_government = revolutionary_socialist
							}
						}
						WSA = {
							set_politics = {
								ruling_party = revolutionary_socialist
								elections_allowed = no
								last_election = "1935.12.17"
								election_frequency = 48
							}
							add_popularity = {
								ideology = revolutionary_socialist
								popularity = 0.5
							}
						}
					}
				}
			}
			country_event = {
				id = spain_diplo.186
			}
		}
	}
	focus = {
		id = SPR_fopo_reorganize_the_protectorate
		icon = SPR_fopo_reorganize_the_protectorate
		cost = 8
		
		available = {
			NOT = {
				country_exists = MOR
				country_exists = WSA
			}
			owns_state = 290
			owns_state = 461
			owns_state = 462
			owns_state = 882
			owns_state = 699
		}
		
		prerequisite = {
			focus = SPR_fopo_right_francos_wrong
		}

		relative_position_id = SPR_fopo_right_francos_wrong
		x = 0
		y = 1
		
		completion_reward = {
			release_puppet = MOR
			ROOT = {
				transfer_state = 290
				transfer_state = 699
				transfer_state = 882
			}
			290 = {
				add_core_of = ROOT
			}
			MOR = {
				set_cosmetic_tag = spr_protectorate_of_morocco
				set_politics = {
					ruling_party = monarchist
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
				}
				add_popularity = {
					ideology = monarchist
					popularity = 0.25
				}
				MOR_Moulay_Ismail = {
					add_country_leader_role = {
						promote_leader = yes		
						country_leader={
							ideology=absolute_monarchist
							expire="1.1.1.1"
							id=-1
						}
					}
				}
			}
			hidden_effect = {
				461 = {
					remove_claim_by = ROOT
				}
				462 = {
					remove_claim_by = ROOT
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_the_new_army_of_africa
		icon = SPR_new_african_army
		cost = 6
		
		prerequisite = {
			focus = SPR_fopo_reorganize_the_protectorate
			focus = SPR_fopo_mutual_intervention_in_morocco
			focus = SPR_fopo_the_future_of_west_sahara
		}

		relative_position_id = SPR_fopo_reorganize_the_protectorate
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_new_army_of_africa
			}
			IF = {
				limit = {
					country_exists = MOR
					MOR = {
						is_puppet_of = ROOT
					}
				}
				MOR = {
					add_ideas = {
						idea_spr_new_army_of_africa
					}
				}
			}
			IF = {
				limit = {
					country_exists = WSA
					WSA = {
						is_puppet_of = ROOT
					}
				}
				WSA = {
					add_ideas = {
						idea_spr_new_army_of_africa
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_the_gibraltar_issue
		icon = SPR_fopo_the_gibraltar_issue
		cost = 6
		
		available = {
			NOT = {
				owns_state = 118
			}
			OR = {
				has_war = no
				threat > 0.6
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = 2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					OR = {
						has_government = liberal
						has_government = national_conservative
						has_government = centrist
						has_government = moderate_socialist
						has_government = new_democrat
					}
				}
				ENG = {
					country_event = {
						id = spain_diplo.32
					}
				}
			}
			IF = {
				limit = {
					OR = {
						has_government = fascist
						has_government = national_bolshevik
						has_government = communist
						has_government = monarchist
						has_government = revolutionary_socialist
					}
				}
				ENG = {
					country_event = {
						id = spain_diplo.35
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		icon = portugal_attack
		cost = 10
		
		mutually_exclusive = {
			focus = SPR_fopo_revoke_the_treaty_of_lisbon
			focus = SPR_fopo_normalize_relations_with_portugal
		}
		
		available = {
			OR = {
				AND = {
					has_government = fascist
					NOT = {
						POR = {
							has_government = fascist
						}
					}
				}
				AND = {
					has_government = revolutionary_socialist
					NOT = {
						POR = {
							has_government = revolutionary_socialist
						}
					}
				}
				AND = {
					has_government = communist
					NOT = {
						POR = {
							has_government = communist
						}
					}
				}
				AND = {
					has_government = nationalist
					NOT = {
						POR = {
							has_government = nationalist
						}
					}
				}
			}
			NOT = {
				has_completed_focus = SPR_military_picked_natsysns
			}
			has_army_manpower = {
				size > 300000
			}
		}
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = 4
		y = 1
		
		completion_reward = {
			POR = {
				country_event = {
					id = spain_diplo.47
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_revoke_the_treaty_of_lisbon
		icon = tear_treaty
		cost = 10
		
		mutually_exclusive = {
			focus = SPR_fopo_demand_the_adoption_of_a_friendly_regime
			focus = SPR_fopo_normalize_relations_with_portugal
		}
		
		available = {
			OR = {
				has_government = monarchist
				has_completed_focus = SPR_right_coalition
			}
			NOT = {
				has_country_flag = spr_the_unitary_republic
			}
			has_army_manpower = {
				size > 300000
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = 6
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = POR
			}
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_normalize_relations_with_portugal
		icon = portugal
		cost = 10
		
		mutually_exclusive = {
			focus = SPR_fopo_revoke_the_treaty_of_lisbon
			focus = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		}
		
		available = {
			AND = {
				NOT = {
					has_government = fascist
				}
				NOT = {
					has_government = monarchist
				}
				NOT = {
					has_government = nationalist
				}
				NOT = {
					has_completed_focus = SPR_right_coalition
				}
				NOT = {
					has_completed_focus = SPR_military_picked_natsysns
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = 9
		y = 1
		
		completion_reward = {
            add_opinion_modifier = {
				target = POR
				modifier = spr_por_normalized_relations
			}
			country_event = {
				id = spain_diplo.51
			}
            POR = {
                add_opinion_modifier = {
					target = ROOT
					modifier = spr_por_normalized_relations
				}
				country_event = {
					id = spain_diplo.52
				}
            }
		}
	}
	focus = {
		id = SPR_fopo_invest_in_portuguese_economy
		icon = caliphate_build_up
		cost = 6
		
		available = {
			OR = {
				AND = {
					NOT = {
						country_exists = POR
					}
					owns_state = 180
					owns_state = 181
					owns_state = 112
					owns_state = 179
				}
				AND = {
					country_exists = POR
					POR = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_revoke_the_treaty_of_lisbon
			focus = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		}

		relative_position_id = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		x = 1
		y = 1
		
		completion_reward = {
			112 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			179 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			181 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_extract_tribute
		icon = puppet
		cost = 7.2
		
		available = {
			POR = {
				is_puppet_of = ROOT
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		}

		relative_position_id = SPR_fopo_demand_the_adoption_of_a_friendly_regime
		x = -1
		y = 1
		
		completion_reward = {
			POR = {
				add_ideas = {
					idea_spr_spanish_tribute
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_military_cohesion
		icon = generic_marching
		cost = 5
		
		available = {
			POR = {
				is_puppet_of = ROOT
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_invest_in_portuguese_economy
		}
		prerequisite = {
			focus = SPR_fopo_extract_tribute
		}

		relative_position_id = SPR_fopo_extract_tribute
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_spanish_portuguese_military_cohesion
			}
			POR = {
				add_ideas = {
					idea_spr_spanish_portuguese_military_cohesion
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_restore_dynamic_ties
		icon = focus_monarchist_diplomacy
		cost = 7.2
		
		available = {
			AND = {
				NOT = {
					country_exists = POR
				}
				owns_state = 180
				owns_state = 181
				owns_state = 112
				owns_state = 179
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_revoke_the_treaty_of_lisbon
		}

		relative_position_id = SPR_fopo_revoke_the_treaty_of_lisbon
		x = 1
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain_diplo.50
			}
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_compliance = 15
			}
		}
	}
	focus = {
		id = SPR_fopo_grant_citizenship_to_portuguese_populace
		icon = focus_constitutional_referendum
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_restore_dynamic_ties
		}
		prerequisite = {
			focus = SPR_fopo_invest_in_portuguese_economy
		}
		
		available = {
			AND = {
				NOT = {
					country_exists = POR
				}
				owns_state = 180
				owns_state = 181
				owns_state = 112
				owns_state = 179
			}
		}

		relative_position_id = SPR_fopo_restore_dynamic_ties
		x = -1
		y = 1
		
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					OR = {
						has_government = monarchist
						has_completed_focus = SPR_right_coalition
					}
					NOT = {
						has_completed_focus = SPR_carlist_tradition
					}
					NOT = {
						has_country_flag = constitutional_carlism
					}
				}
				set_cosmetic_tag = SPR_kingdom_of_iberia
			}
			IF = {
				limit = {
					OR = {
						AND = {
							has_government = monarchist
							has_completed_focus = SPR_carlist_tradition
						}
						has_country_flag = constitutional_carlism
					}
				}
				set_cosmetic_tag = SPR_carlist_kingdom_of_iberia
			}
			hidden_effect = {
				set_party_name = {
					ideology = communist
					long_name = "Communist Party of Iberia"
					name = "Communist Party"
				}
				IF = {
					limit = {
						NOT = {
							has_completed_focus = SPR_unite_the_royalists
						}
					}
					set_party_name = {
						ideology = centrist
						long_name = "One Iberia"
						name = "One Iberia"
					}
				}
				set_party_name = {
					ideology = new_democrat
					long_name = "Iberian Socialist Workers' Party"
					name = "Socialist Party"
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_spanish_portuguese_worker_exchange
		icon = SPR_liberal_immigration_reform
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_normalize_relations_with_portugal
		}

		relative_position_id = SPR_fopo_normalize_relations_with_portugal
		x = 0
		y = 1
		
		completion_reward = {
			POR = {
				country_event = {
					id = spain_diplo.53
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_suggest_unification
		icon = Suggest_Unification_SPR
		cost = 5
		
		mutually_exclusive = {
			focus = SPR_fopo_invite_portugal
		}
		
		available = {
			POR = {
				has_idea = idea_spr_portuguese_worker_exchange
			}
			OR = {
				has_completed_focus = SPR_hold_new_elections
				has_completed_focus = SPR_workers_federation_secured
				has_completed_focus = SPR_proclaim_the_fprs
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_spanish_portuguese_worker_exchange
		}

		relative_position_id = SPR_fopo_spanish_portuguese_worker_exchange
		x = -1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_a_confederate_spain
					}
				}
				POR = {
					country_event = {
						id = spain_diplo.56
						days = 1
					}
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_a_confederate_spain
				}
				POR = {
					country_event = {
						id = spain_diplo.59
						days = 1
					}
				}
			}
		}		
	}
	focus = {
		id = SPR_fopo_industrial_integration
		icon = industry_1
		cost = 7.2
		
		available = {
			OR = {
				NOT = {
					country_exists = POR
				}
				POR = {
					is_puppet_of = ROOT
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_suggest_unification
		}

		relative_position_id = SPR_fopo_suggest_unification
		x = 0
		y = 1
		
		completion_reward = {
			112 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			179 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			181 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_invite_portugal
		icon = spain_Invite_portugal
		cost = 5
		
		mutually_exclusive = {
			focus = SPR_fopo_suggest_unification
		}
		
		prerequisite = {
			focus = SPR_fopo_spanish_portuguese_worker_exchange
		}
		prerequisite = {
			focus = SPR_fopo_iberian_mutual_defense_pact
		}

		relative_position_id = SPR_fopo_spanish_portuguese_worker_exchange
		x = 1
		y = 1
		
		completion_reward = {
			POR = {
				country_event = {
					id = spain_diplo.78
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_iberian_special_economic_zone
		icon = Iberian_Special_Economic_Zone_SPR
		cost = 7.2
		
		available = {
			any_country = {
				has_country_flag = spr_iberian_defense_pact_signatory
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_invite_portugal
		}

		relative_position_id = SPR_fopo_invite_portugal
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_iberian_special_economic_zone
			}
			every_country = {
				limit = {
					has_country_flag = spr_iberian_defense_pact_signatory
				}
				add_ideas = {
					idea_spr_iberian_special_economic_zone
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_reconciliation_with_france
		icon = france
		cost = 5
		
		available = {
			NOT = {
				has_completed_focus = SPR_carlist_tradition	
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_fortify_the_pyrenees
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = -10
		y = 1
		
		completion_reward = {
            add_opinion_modifier = {
				target = FRA
				modifier = spr_por_normalized_relations
			}
			country_event = {
				id = spain_diplo.95
			}
            FRA = {
                add_opinion_modifier = {
					target = ROOT
					modifier = spr_por_normalized_relations
				}
				country_event = {
					id = spain_diplo.96
				}
            }
		}
	}
	focus = {
		id = SPR_fopo_fortify_the_pyrenees
		icon = france_attack
		cost = 7
		
		available = {
			OR = {
				NOT = {
					has_government = communist
				}
				FRA = {
					NOT = {
						has_government = communist
					}
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_reconciliation_with_france
		}
		
		prerequisite = {
			focus = SPR_fopo_addressing_our_neighbors
		}

		relative_position_id = SPR_fopo_addressing_our_neighbors
		x = -12
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 911
				}
				911 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 852
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 899
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 915
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 11838
					}
				}
			}
			IF = {
				limit = {
					owns_state = 172
				}
				172 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_recognize_basque_and_catalan_claims
		icon = Recognize_Basque_And_Catalan_Claims_SPR
		cost = 8
		
		available = {
			AND = {
				OR = {
					owns_state = 165
					CAT = {
						is_puppet_of = ROOT
					}
				}
				OR = {
					AND = {
						owns_state = 172
						owns_state = 1020
					}
					BSQ = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_prepare_for_communist_invasion
		}
		
		prerequisite = {
			focus = SPR_fopo_fortify_the_pyrenees
		}

		relative_position_id = SPR_fopo_fortify_the_pyrenees
		x = 1
		y = 1
		
		completion_reward = {
			663 = {
				add_claim_by = ROOT
				add_claim_by = CAT
			}
			927 = {
				add_claim_by = ROOT
				add_claim_by = BSQ
			}
			IF = {
				limit = {
					AND = {
						country_exists = CAT
						CAT = {
							is_puppet_of = ROOT
						}
						owns_state = 167
					}
				}
				CAT = {
					transfer_state = 167
				}
				167 = {
					add_core_of = CAT
				}
			}
			IF = {
				limit = {
					AND = {
						country_exists = CAT
						CAT = {
							is_puppet_of = ROOT
						}
						owns_state = 177
					}
				}
				CAT = {
					transfer_state = 177
				}
				177 = {
					add_core_of = CAT
				}
			}
			IF = {
				limit = {
					AND = {
						country_exists = BSQ
						BSQ = {
							is_puppet_of = ROOT
						}
						owns_state = 172
					}
				}
				BSQ = {
					transfer_state = 172
				}
				172 = {
					add_core_of = BSQ
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_expand_airbases
		icon = focus_a_new_international_airport
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_recognize_basque_and_catalan_claims
			focus = SPR_fopo_prepare_for_communist_invasion
		}

		relative_position_id = SPR_fopo_fortify_the_pyrenees
		x = 0
		y = 2
		
		completion_reward = {
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 852
				}
				852 = {
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 172
				}
				172 = {
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_surveil_the_border
		icon = GFX_the_surveillance_state_perfected
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_expand_airbases
		}

		relative_position_id = SPR_fopo_expand_airbases
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_surveil_the_border
			}
			add_tech_bonus = {
				bonus = 1.25
				uses = 4
				category = radar_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = SPR_fopo_prepare_for_communist_invasion
		icon = position_armies
		cost = 8
		
		mutually_exclusive = {
			focus = SPR_fopo_recognize_basque_and_catalan_claims
		}
		
		prerequisite = {
			focus = SPR_fopo_fortify_the_pyrenees
		}

		relative_position_id = SPR_fopo_fortify_the_pyrenees
		x = -1
		y = 1
		
		completion_reward = {
			add_war_support = 0.05
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_sabotage_french_military_command
		icon = infiltration
		cost = 7.2
		
		available = {
			OR = {
				AND = {
					NOT = {
						has_idea = idea_SPR_bloated_military
					}
					NOT = {
						has_idea = idea_SPR_bloated_military_2
					}
				}
				has_war_with = FRA
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_prepare_for_communist_invasion
		}
		prerequisite = {
			focus = SPR_fopo_surveil_the_border
		}

		relative_position_id = SPR_fopo_prepare_for_communist_invasion
		x = 0
		y = 3
		
		completion_reward = {
			add_ideas = {
				idea_spr_infiltrated_french_military_command
			}
		}
	}
	focus = {
		id = SPR_fopo_demand_basque_and_catalan_territories
		icon = demand_spanish_territories_in_france_focus
		cost = 7.2
		
		available = {
			has_army_manpower = {
				size > 850000
			}
			NOT = {
				has_idea = idea_SPR_bloated_military
				has_idea = idea_SPR_bloated_military_2
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_recognize_basque_and_catalan_claims
		}
		prerequisite = {
			focus = SPR_fopo_surveil_the_border
		}

		relative_position_id = SPR_fopo_recognize_basque_and_catalan_claims
		x = 0
		y = 3
		
		completion_reward = {
			FRA = {
				country_event = {
					id = spain_diplo.97
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_aviation_innovations
		icon = GFX_goal_advan_fighters
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_reconciliation_with_france
		}

		relative_position_id = SPR_fopo_reconciliation_with_france
		x = 1
		y = 1
		
		completion_reward = {
			FRA = {
				country_event = {
					id = spain_diplo.130
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_resume_andorran_corulership
		icon = SPR_fopo_resume_andorran_corulership
		cost = 8
		
		available = {
			owns_state = 852
		}
		
		prerequisite = {
			focus = SPR_fopo_reconciliation_with_france
		}

		relative_position_id = SPR_fopo_reconciliation_with_france
		x = 2
		y = 2
		
		completion_reward = {
			FRA = {
				country_event = {
					id = spain_diplo.127
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_mutual_industrial_investments
		icon = peace_money_development
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_aviation_innovations
		}

		relative_position_id = SPR_fopo_aviation_innovations
		x = -1
		y = 1
		
		completion_reward = {
			FRA = {
				country_event = {
					id = spain_diplo.133
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_request_aid_in_nuclear_program
		icon = nukes
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_mutual_industrial_investments
		}

		relative_position_id = SPR_fopo_mutual_industrial_investments
		x = 0
		y = 1
		
		completion_reward = {
			FRA = {
				country_event = {
					id = spain_diplo.136
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_heirs_of_la_hispanidad
		icon = spain_hispanidad_focus
		cost = 4
		
		mutually_exclusive = {
			focus = SPR_fopo_our_former_colonies
		}
		
		allow_branch = {
			OR = {
				has_country_flag = picked_the_natsyns
				has_country_flag = spr_show_the_whole_damn_tree
			}
		}
		
		available = {
			has_completed_focus = SPR_military_picked_natsysns
			custom_trigger_tooltip = {
				tooltip = spain_we_fixed_the_economy_tooltip
				NOT = {
					has_idea = idea_SPR_backwards_economy
					has_idea = idea_SPR_backwards_economy_2
					has_idea = idea_SPR_backwards_economy_3
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = 10
		y = 1
		
		completion_reward = {
			add_war_support = 0.1
			add_ai_strategy = {
				type = naval_invasion_focus
				value = 250
			}
			add_ai_strategy = {
				type = force_build_armies
				value = 30
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions_but_bigger
				}
				every_country = {
					limit = {
						NOT = {
							OR = {
								tag = SPR
								tag = SPN
							}
						}
					}
					news_event = {
						id = spain_news.6
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_secure_iberia
		icon = portugal_attack
		cost = 6

		available = {
			has_army_manpower = {
				size > 300000
			}
			custom_trigger_tooltip = {
				tooltip = spain_we_have_solved_our_military_issues
				NOT = {
					has_idea = idea_SPR_bloated_military
					has_idea = idea_SPR_bloated_military_2
				}
			}
		}

		prerequisite = {
			focus = SPR_fopo_heirs_of_la_hispanidad
		}

		relative_position_id = SPR_fopo_heirs_of_la_hispanidad
		x = 0
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = POR
			}
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_crush_portuguese_partisans
		icon = uproot_terrorist_cells
		cost = 7.2
		
		available = {
			AND = {
				NOT = {
					country_exists = POR
				}
				owns_state = 180
				owns_state = 181
				owns_state = 112
				owns_state = 179
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_secure_iberia
		}

		relative_position_id = SPR_fopo_secure_iberia
		x = -1
		y = 1
		
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_compliance = 15
			}
		}
	}
	focus = {
		id = SPR_fopo_reintegrate_portugal
		icon = portugal
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_crush_portuguese_partisans
		}

		relative_position_id = SPR_fopo_crush_portuguese_partisans
		x = -1
		y = 1
		
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_core_of = ROOT
			}
			add_ai_strategy = {
				type = force_build_armies
				value = 90
			}
		}
	}
	focus = {
		id = SPR_fopo_crown_jewels_of_empire
		icon = colombia_attack
		cost = 8
		
		available = {
			has_army_manpower = {
				size > 1000000
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_secure_iberia
		}

		relative_position_id = SPR_fopo_secure_iberia
		x = 1
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = MEX
			}
			create_wargoal = {
				type = annex_everything
				target = PRU
			}
			create_wargoal = {
				type = annex_everything
				target = COL
			}
			create_wargoal = {
				type = annex_everything
				target = ARG
			}
			every_state = {
				limit = {
					is_core_of = MEX
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = PRU
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = COL
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = ARG
				}
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_rebuild_the_spanish_armada
		icon = light_cruiser_program
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_crown_jewels_of_empire
		}

		relative_position_id = SPR_fopo_crown_jewels_of_empire
		x = 1
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 2
				uses = 1
				category = tp_tech
			}
			add_ideas = {
				idea_spr_the_spanish_armada
			}
		    928 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		    1019 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_form_departments_of_latin_america
		icon = spain_form_latin_american_departments
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_crown_jewels_of_empire
		}

		relative_position_id = SPR_fopo_crown_jewels_of_empire
		x = -1
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = CUB
			}
			create_wargoal = {
				type = annex_everything
				target = HAI
			}
			create_wargoal = {
				type = annex_everything
				target = DOM
			}
			create_wargoal = {
				type = annex_everything
				target = GUA
			}
			create_wargoal = {
				type = annex_everything
				target = PAN
			}
			create_wargoal = {
				type = annex_everything
				target = ECU
			}
			create_wargoal = {
				type = annex_everything
				target = VEN
			}
			create_wargoal = {
				type = annex_everything
				target = PAR
			}
			create_wargoal = {
				type = annex_everything
				target = CHL
			}
			create_wargoal = {
				type = annex_everything
				target = BOL
			}
			create_wargoal = {
				type = annex_everything
				target = URG
			}
			IF = {
				limit = {
					country_exists = CEA
				}
				create_wargoal = {
					type = annex_everything
					target = CEA
				}
				every_state = {
					limit = {
						is_core_of = CEA
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = HON
				}
				create_wargoal = {
					type = annex_everything
					target = HON
				}
				every_state = {
					limit = {
						is_core_of = HON
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = COS
				}
				create_wargoal = {
					type = annex_everything
					target = COS
				}
				every_state = {
					limit = {
						is_core_of = COS
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = NIC
				}
				create_wargoal = {
					type = annex_everything
					target = NIC
				}
				every_state = {
					limit = {
						is_core_of = NIC
					}
					add_claim_by = ROOT
				}
			}
			IF = {
				limit = {
					country_exists = ELS
				}
				create_wargoal = {
					type = annex_everything
					target = ELS
				}
				every_state = {
					limit = {
						is_core_of = ELS
					}
					add_claim_by = ROOT
				}
			}
			every_state = {
				limit = {
					is_core_of = URG
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = CUB
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = HAI
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = DOM
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = GUA
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = PAN
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = ECU
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = VEN
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = PAR
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = CHL
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = BOL
				}
				add_claim_by = ROOT
			}
			custom_effect_tooltip = SPR_departments_of_latam
		}
	}
	focus = {
		id = SPR_fopo_the_fullest_extent_of_new_spain
		icon = spain_fullest_extent_new_spain
		cost = 10
		
		prerequisite = {
			focus = SPR_fopo_form_departments_of_latin_america
		}

		relative_position_id = SPR_fopo_form_departments_of_latin_america
		x = 1
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = PCA
			}
			create_wargoal = {
				type = annex_everything
				target = ARI
			}
			create_wargoal = {
				type = annex_everything
				target = TEX
			}
			create_wargoal = {
				type = annex_everything
				target = MWA
			}
			create_wargoal = {
				type = annex_everything
				target = MOT
			}
			create_wargoal = {
				type = annex_everything
				target = USA
			}
			every_state = {
				limit = {
					is_core_of = MOT
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = ARI
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = UTA
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = TEX
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = MWA
				}
				add_claim_by = ROOT
			}
			378 = {
				add_claim_by = ROOT
			}
			1015 = {
				add_claim_by = ROOT
			}
			889 = {
				add_claim_by = ROOT
			}
			897 = {
				add_claim_by = ROOT
			}
			374 = {
				add_claim_by = ROOT
			}
			372 = {
				add_claim_by = ROOT
			}
			371 = {
				add_claim_by = ROOT
			}
			373 = {
				add_claim_by = ROOT
			}
			366 = {
				add_claim_by = ROOT
			}
			392 = {
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_the_forgotten_territory
		icon = major_war
		cost = 5
		
		prerequisite = {
			focus = SPR_fopo_the_fullest_extent_of_new_spain
		}

		relative_position_id = SPR_fopo_the_fullest_extent_of_new_spain
		x = 0
		y = 2
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = PHI
			}
			every_state = {
				limit = {
					is_core_of = PHI
				}
				add_claim_by = ROOT
			}
		}
	}
	focus = {
		id = SPR_fopo_department_of_brazil
		icon = brazil_attack
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_form_departments_of_latin_america
		}
		prerequisite = {
			focus = SPR_fopo_reintegrate_portugal
		}

		relative_position_id = SPR_fopo_form_departments_of_latin_america
		x = -1
		y = 1
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BRA
			}
			every_state = {
				limit = {
					is_core_of = BRA
				}
				add_claim_by = ROOT
			}
			custom_effect_tooltip = SPR_department_of_brazil_creation
		}
	}
	focus = {
		id = SPR_fopo_improve_latin_rails
		icon = infrastructure
		cost = 10
		
		available = {
			AND = {
				has_country_flag = formed_department_of_new_spain
				has_country_flag = formed_department_of_new_granada
				has_country_flag = formed_department_of_peru
				has_country_flag = formed_department_of_rio_de_la_plata
				has_country_flag = formed_department_of_brazil
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_department_of_brazil
		}

		relative_position_id = SPR_fopo_department_of_brazil
		x = -1
		y = 1
		
		completion_reward = {
			build_railway = {
			  level = 5
			  build_only_on_allied = no
			  fallback = yes
			  start_province = 1965
			  target_province = 13825
			}
			build_railway = {
			  level = 5
			  build_only_on_allied = no
			  fallback = yes
			  start_province = 13825
			  target_province = 10747
			}
			build_railway = {
			  level = 5
			  build_only_on_allied = no
			  fallback = yes
			  start_province = 10747
			  target_province = 12997
			}
			build_railway = {
			  level = 5
			  build_only_on_allied = no
			  fallback = yes
			  start_province = 12997
			  target_province = 8140
			}
			build_railway = {
			  level = 5
			  build_only_on_allied = no
			  fallback = yes
			  start_province = 8140
			  target_province = 12364
			}
		}
	}
	focus = {
		id = SPR_fopo_help_crush_resistance
		icon = CSD_disperse_riots
		cost = 10
		
		available = {
			AND = {
				has_country_flag = formed_department_of_new_spain
				has_country_flag = formed_department_of_new_granada
				has_country_flag = formed_department_of_peru
				has_country_flag = formed_department_of_rio_de_la_plata
				has_country_flag = formed_department_of_brazil
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_department_of_brazil
		}

		relative_position_id = SPR_fopo_department_of_brazil
		x = 1
		y = 1
		
		completion_reward = {
			MEX = {
				add_ideas = {
					idea_spr_spanish_occupational_assistance
				}
			}
			ARG = {
				add_ideas = {
					idea_spr_spanish_occupational_assistance
				}
			}
			COL = {
				add_ideas = {
					idea_spr_spanish_occupational_assistance
				}
			}
			BRA = {
				add_ideas = {
					idea_spr_spanish_occupational_assistance
				}
			}
			PRU = {
				add_ideas = {
					idea_spr_spanish_occupational_assistance
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_our_international_alignment
		icon = play_off_both_sides
		cost = 1
		
		available = {
			OR = {
				has_completed_focus = SPR_fopo_begin_reintegration_projects
				has_completed_focus = SPR_fopo_iberian_mutual_defense_pact
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_foreign_policy
		}

		relative_position_id = SPR_fopo_foreign_policy
		x = 17
		y = 1
		
		completion_reward = {
			add_political_power = 50
		}
	}
	focus = {
		id = SPR_fopo_open_trade_with_the_EUSSR
		icon = european_union
		cost = 4
		
		available = {
			OR = {
				has_government = communist
				has_government = revolutionary_socialist
				has_government = moderate_socialist
				has_government = new_democrat
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_our_international_alignment
		}

		relative_position_id = SPR_fopo_our_international_alignment
		x = -4
		y = 1
		
		completion_reward = {
			every_country = {
				limit = {
					has_idea = idea_eu_member
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = spain_eussr_trade
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_apply_for_warsaw_pact_aid
		icon = warsaw_pact_investment
		cost = 6
		
		available = {
			OR = {
				AND = {
					country_exists = SOV
					SOV = {
						is_faction_leader = yes
						has_government = communist
					}
				}
				AND = {
					country_exists = GER
					GER = {
						is_faction_leader = yes
						has_government = communist
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_open_trade_with_the_EUSSR
		}

		relative_position_id = SPR_fopo_open_trade_with_the_EUSSR
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					AND = {
						country_exists = SOV
						SOV = {
							has_government = communist
							is_faction_leader = yes
						}
					}
				}
				SOV = {
					country_event = {
						id = spain_diplo.149
					}
				}
			}
			ELSE_IF = {
				limit = {
					AND = {
						country_exists = GER
						GER = {
							has_government = communist
							is_faction_leader = yes
						}
					}
				}
				GER = {
					country_event = {
						id = spain_diplo.149
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_join_the_warsaw_pact
		icon = warsaw_pact
		cost = 5
		
		available = {
			is_in_faction = no
			AND = {
				OR = {
					AND = {
						country_exists = SOV
						SOV = {
							is_faction_leader = yes
						}
					}
					AND = {
						country_exists = GER
						GER = {
							is_faction_leader = yes
							has_government = communist
						}
					}
				}
				NOT = {
					has_country_flag = SPR_warsaw_refused_to_ally_us
				}
				has_government = communist
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_join_a_revolutionary_power_bloc
			focus = SPR_fopo_join_the_democratic_league
			focus = SPR_fopo_policy_of_neutrality
			focus = SPR_fopo_our_own_internationale
		}
		
		prerequisite = {
			focus = SPR_fopo_apply_for_warsaw_pact_aid
		}

		relative_position_id = SPR_fopo_apply_for_warsaw_pact_aid
		x = 0
		y = 2
		
		completion_reward = {
			IF = {
				limit = {
					AND = {
						country_exists = SOV
						SOV = {
							has_government = communist
							is_faction_leader = yes
						}
					}
				}
				SOV = {
					country_event = {
						id = spain_diplo.112
					}
				}
			}
			ELSE_IF = {
				limit = {
					AND = {
						country_exists = GER
						GER = {
							has_government = communist
							is_faction_leader = yes
						}
					}
				}
				GER = {
					country_event = {
						id = spain_diplo.112
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_apply_for_eussr_membership
		icon = CUB_establish_ties_with_eu
		cost = 7.2
		
		available = {
			OR = {
				GER = {
					has_idea = idea_eu_member
				}
				ITA = {
					has_idea = idea_eu_member
				}
				FRA = {
					has_idea = idea_eu_member
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_join_the_warsaw_pact
		}

		relative_position_id = SPR_fopo_join_the_warsaw_pact
		x = -1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					ITA = {
						has_completed_focus = ITA_unite_the_eu
					}
				}
				ITA = {
					country_event = {
						id = spain_diplo.152
					}
				}
			}
			ELSE_IF = {
				limit = {
					NOT = {
						ITA = {
							has_completed_focus = ITA_unite_the_eu
						}
					}
				}
				add_ideas = {
					idea_eu_member
				}
				hidden_effect = {
					every_country = {
						limit = {
							NOT = {
								OR = {
									tag = SPR
									tag = SPN
								}
							}
						}
						news_event = {
							id = spain_news.7
						}
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_the_irrevocability_of_marxism_leninism
		icon = GFX_goal_worker_with_hammer_and_flag
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_join_the_warsaw_pact
		}

		relative_position_id = SPR_fopo_join_the_warsaw_pact
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_spr_vanguards_of_socialism
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_vanguards_of_socialism
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_purchase_russian_oil_rights
		icon = GFX_russian_oil
		cost = 4
		
		available = {
			OR = {
				AND = {
					country_exists = RUS
					NOT = {
						has_government = communist
					}
					NOT = {
						has_government = revolutionary_socialist
					}
				}
				AND = {
					country_exists = SOV
					SOV = {
						has_government = communist
					}
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = moderate_socialist
					}
				}
				AND = {
					country_exists = SOV
					SOV = {
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
					}
					NOT = {
						has_government = communist
					}
					NOT = {
						has_government = revolutionary_socialist
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_our_international_alignment
		}

		relative_position_id = SPR_fopo_our_international_alignment
		x = -2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					country_exists = SOV
					NOT = {
						country_exists = RUS
					}
				}
				SOV = {
					country_event = {
						id = spain_diplo.155
					}
				}
			}
			IF = {
				limit = {
					country_exists = RUS
					NOT = {
						country_exists = SOV
					}
				}
				RUS = {
					country_event = {
						id = spain_diplo.155
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_invite_russian_military_advisors
		icon = GFX_russian_advisors
		cost = 6
		
		available = {
			OR = {
				AND = {
					country_exists = RUS
					NOT = {
						has_government = communist
					}
					NOT = {
						has_government = revolutionary_socialist
					}
				}
				AND = {
					country_exists = SOV
					SOV = {
						has_government = communist
					}
					OR = {
						has_government = communist
						has_government = revolutionary_socialist
						has_government = moderate_socialist
					}
				}
				AND = {
					country_exists = SOV
					SOV = {
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
					}
					NOT = {
						has_government = communist
					}
					NOT = {
						has_government = revolutionary_socialist
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_purchase_russian_oil_rights
		}

		relative_position_id = SPR_fopo_purchase_russian_oil_rights
		x = 0
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					country_exists = SOV
					NOT = {
						country_exists = RUS
					}
				}
				SOV = {
					country_event = {
						id = spain_diplo.158
					}
				}
			}
			IF = {
				limit = {
					country_exists = RUS
					NOT = {
						country_exists = SOV
					}
				}
				RUS = {
					country_event = {
						id = spain_diplo.158
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_join_the_moscow_accords
		icon = moscow_accords
		cost = 5
		
		available = {
			is_in_faction = no
			NOT = {
				has_country_flag = SPR_russia_refused_to_ally_us
			}
			OR = {
				AND = {
					country_exists = RUS
					RUS = {
						is_faction_leader = yes
					}
					OR = {
						has_government = fascist
						has_government = monarchist
						has_government = national_conservative
						has_government = nationalist
					}
				}
				AND = {
					country_exists = SOV
					SOV = {
						is_faction_leader = yes
					}
					SOV = {
						NOT = {
							has_government = communist
						}
						NOT = {
							has_government = revolutionary_socialist
						}
					}
					OR = {
						has_government = fascist
						has_government = monarchist
						has_government = national_conservative
						has_government = nationalist
					}
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_warsaw_pact
			focus = SPR_fopo_join_a_revolutionary_power_bloc
			focus = SPR_fopo_join_the_democratic_league
			focus = SPR_fopo_policy_of_neutrality
			focus = SPR_fopo_our_own_internationale
		}
		
		prerequisite = {
			focus = SPR_fopo_invite_russian_military_advisors
		}

		relative_position_id = SPR_fopo_invite_russian_military_advisors
		x = 0
		y = 2
		
		completion_reward = {
			IF = {
				limit = {
					country_exists = RUS
				}
				RUS = {
					country_event = {
						id = spain_diplo.103
					}
				}
			}
			ELSE_IF = {
				limit = {
					country_exists = SOV
				}
				SOV = {
					country_event = {
						id = spain_diplo.103
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_army_innovations
		icon = CUB_a_springboard_to_north_america
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_join_the_moscow_accords
		}

		relative_position_id = SPR_fopo_join_the_moscow_accords
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_army_innovations
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_army_innovations
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_for_a_new_global_hegemony
		icon = For_A_New_Global_Hegemony_SPR
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_army_innovations
		}

		relative_position_id = SPR_fopo_army_innovations
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_defenders_of_the_new_world_order
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_defenders_of_the_new_world_order
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_seek_comecom_membership
		icon = comecon
		cost = 7.2
		
		available = {
			any_country = {
				has_idea = idea_comecon_member
			}
			OR = {
				has_government = communist
				has_government = moderate_socialist
				has_government = new_democrat
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_apply_for_warsaw_pact_aid
		}

		relative_position_id = SPR_fopo_apply_for_warsaw_pact_aid
		x = 1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					has_government = communist
				}
				add_ideas = {
					idea_comecon_member
				}
			}
			IF = {
				limit = {
					NOT = {
						has_government = communist
					}
				}
				add_ideas = {
					idea_comecon_observer
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_mission_to_ottawa
		icon = canada
		cost = 4
		
		available = {
			country_exists = CAN
			OR = {
				has_government = nationalist
				has_government = national_conservative
				has_government = centrist
				has_government = liberal
				has_government = new_democrat
				has_government = moderate_socialist
				AND = {
					has_government = monarchist
					NOT = {
						has_completed_focus = SPR_carlist_tradition
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_our_international_alignment
		}

		relative_position_id = SPR_fopo_our_international_alignment
		x = 2
		y = 1
		
		completion_reward = {
			CAN = {
				add_opinion_modifier = {
					target = ROOT
					modifier = spr_ottwa_visit
				}
			}
			add_political_power = 100
		}
	}
	focus = {
		id = SPR_fopo_request_canadian_investment
		icon = maple_syrup
		cost = 6
		
		available = {
			country_exists = CAN
			OR = {
				has_government = nationalist
				has_government = national_conservative
				has_government = centrist
				has_government = liberal
				has_government = new_democrat
				has_government = moderate_socialist
				AND = {
					has_government = monarchist
					NOT = {
						has_completed_focus = SPR_carlist_tradition
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_mission_to_ottawa
		}

		relative_position_id = SPR_fopo_mission_to_ottawa
		x = 0
		y = 1
		
		completion_reward = {
			CAN = {
				country_event = {
					id = spain_diplo.161
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_join_the_democratic_league
		icon = democratic_league
		cost = 5
		
		available = {
			is_in_faction = no
			AND = {
				country_exists = CAN
				CAN = {
					is_faction_leader = yes
				}
				NOT = {
					has_country_flag = SPR_canada_refused_to_ally_us
				}
				OR = {
					has_government = moderate_socialist
					has_government = new_democrat
					has_government = liberal
					has_government = centrist
					has_government = national_conservative
					has_government = nationalist
					AND = {
						has_government = monarchist
						NOT = {
							has_completed_focus = SPR_carlist_tradition
						}
					}
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_join_a_revolutionary_power_bloc
			focus = SPR_fopo_join_the_warsaw_pact
			focus = SPR_fopo_policy_of_neutrality
			focus = SPR_fopo_our_own_internationale
		}
		
		prerequisite = {
			focus = SPR_fopo_request_canadian_investment
		}

		relative_position_id = SPR_fopo_request_canadian_investment
		x = 0
		y = 2
		
		completion_reward = {
			CAN = {
				country_event = {
					id = spain_diplo.106
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_joint_naval_training
		icon = light_cruiser_program
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_join_the_democratic_league
		}

		relative_position_id = SPR_fopo_join_the_democratic_league
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_naval_exercises
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_naval_exercises
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_bastions_of_democracy
		icon = Canada_Spain_military_collaboration
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_joint_naval_training
		}

		relative_position_id = SPR_fopo_joint_naval_training
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_bastions_of_democracy
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_bastions_of_democracy
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_request_investment_from_the_apc
		icon = GFX_invite_apc_investors
		cost = 6
		
		available = {
			NEA = {
				has_government = revolutionary_socialist
			}
			OR = {
				has_government = revolutionary_socialist
				has_government = moderate_socialist
			}
		}
		
		bypass = {
			OR = {
				NEA = {
					NOT = {
						has_government = revolutionary_socialist
					}
				}
				NOT = {
					country_exists = NEA
				}
				AND = {
					NOT = {
						has_government = revolutionary_socialist
					}
					NOT = {
						has_government = moderate_socialist
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_our_international_alignment
		}

		relative_position_id = SPR_fopo_our_international_alignment
		x = 5
		y = 1
		
		completion_reward = {
			NEA = {
				country_event = {
					id = spain_diplo.164
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_reach_out_to_yugoslavia
		icon = yugoslavia
		cost = 4
		
		available = {
			country_exists = YUG
			YUG = {
				has_government = revolutionary_socialist
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					country_exists = YUG
				}
				YUG = {
					NOT = {
						has_government = revolutionary_socialist
					}
				}
				AND = {
					NOT = {
						has_government = revolutionary_socialist
					}
					NOT = {
						has_government = communist
					}
					NOT = {
						has_government = moderate_socialist
					}
				}
			}
		}
		
		prerequisite = {
			focus = SPR_fopo_request_investment_from_the_apc
		}

		relative_position_id = SPR_fopo_request_investment_from_the_apc
		x = 0
		y = 1
		
		completion_reward = {
			YUG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = spain_eussr_trade
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_join_a_revolutionary_power_bloc
		icon = embrace_market_socialism
		cost = 5
		
		available = {
			is_in_faction = no
			has_government = revolutionary_socialist
			any_country = {
				has_government = revolutionary_socialist
				is_faction_leader = yes
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_join_the_warsaw_pact
			focus = SPR_fopo_join_the_democratic_league
			focus = SPR_fopo_policy_of_neutrality
			focus = SPR_fopo_our_own_internationale
		}
		
		prerequisite = {
			focus = SPR_fopo_reach_out_to_yugoslavia
		}

		relative_position_id = SPR_fopo_reach_out_to_yugoslavia
		x = -1
		y = 2
		
		completion_reward = {
			custom_effect_tooltip = spr_we_will_search_for_a_revsoc_faction
			IF = {
				limit = {
					NEA = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				NEA = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					FRA = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				FRA = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					ENG = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				ENG = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					YUG = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				YUG = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					UAR = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				UAR = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					CUB = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				CUB = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					DEN = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				DEN = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					YAR = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				YAR = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
			ELSE_IF = {
				limit = {
					GRL = {
						has_government = revolutionary_socialist
						is_faction_leader = yes
					}
				}
				GRL = {
					country_event = {
						id = spain_diplo.109
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_industrial_development_in_third_world_allies
		icon = english_military_industry
		cost = 7.2
		
		available = {
			is_in_faction = yes
		}
		
		prerequisite = {
			focus = SPR_fopo_join_a_revolutionary_power_bloc
		}

		relative_position_id = SPR_fopo_join_a_revolutionary_power_bloc
		x = 0
		y = 1
		
		completion_reward = {
			custom_effect_tooltip = spr_we_will_invest_in_the_economies_of_any_weak_allies
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					num_of_factories < 50
				}
				country_event = {
					id = spain_diplo.175
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_our_own_internationale
		icon = socialist_alliance_focus
		cost = 5
		
		available = {
			is_in_faction = no
			has_government = revolutionary_socialist
			NOT = {
				any_country = {
					has_government = revolutionary_socialist
					is_faction_leader = yes
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_join_a_revolutionary_power_bloc
			focus = SPR_fopo_join_the_democratic_league
			focus = SPR_fopo_policy_of_neutrality
			focus = SPR_fopo_join_the_warsaw_pact
		}
		
		prerequisite = {
			focus = SPR_fopo_reach_out_to_yugoslavia
		}

		relative_position_id = SPR_fopo_reach_out_to_yugoslavia
		x = 1
		y = 2
		
		completion_reward = {
			set_rule = {
				can_create_factions = yes
			}
			create_faction_from_template = faction_template_spain_international
		}
	}
	focus = {
		id = SPR_fopo_invite_like_minded_nations
		icon = GAL_adopt_a_good_neighbor_policy
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_our_own_internationale
		}

		relative_position_id = SPR_fopo_our_own_internationale
		x = 0
		y = 1
		
		completion_reward = {
			every_country = {
			    limit = {
				    AND = {
					    NOT = {
						    tag = ROOT 
						}
						has_government = revolutionary_socialist
						has_war = no
						is_in_faction = no
						is_puppet = no
					}
				}
				country_event = { id = spain_diplo.176 }
			}
		}
	}
	focus = {
		id = SPR_fopo_ideological_zeal
		icon = mass_socialist_organisation_focus
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_invite_like_minded_nations
			focus = SPR_fopo_industrial_development_in_third_world_allies
		}

		relative_position_id = SPR_fopo_invite_like_minded_nations
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_ideological_zeal
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						tag = ROOT
					}
				}
				add_ideas = {
					idea_spr_ideological_zeal
				}
			}
		}
	}
	focus = {
		id = SPR_fopo_policy_of_neutrality
		icon = GFX_goal_generic_stable_government
		cost = 5
		
		available = {
			is_in_faction = no
			OR = {
				threat > 0.75
				custom_trigger_tooltip = {
					tooltip = spain_ww3_has_begun
					OR = {
						CAN = {
							has_war_with = RUS
						}
						RUS = {
							has_war_with = GER
						}
						GER = {
							has_war_with = CAN
						}
					}
				}
			}
		}
		
		mutually_exclusive = {
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_join_a_revolutionary_power_bloc
			focus = SPR_fopo_join_the_democratic_league
			focus = SPR_fopo_join_the_moscow_accords
			focus = SPR_fopo_our_own_internationale
			focus = SPR_fopo_join_the_warsaw_pact
		}
		
		prerequisite = {
			focus = SPR_fopo_request_canadian_investment
			focus = SPR_fopo_apply_for_warsaw_pact_aid
			focus = SPR_fopo_invite_russian_military_advisors
			focus = SPR_fopo_reach_out_to_yugoslavia
		}

		relative_position_id = SPR_fopo_our_international_alignment
		x = 0
		y = 4
		
		completion_reward = {
			add_ideas = {
				idea_gal_neutrality_focus
			}
		}
	}
	focus = {
		id = SPR_fopo_fortify_our_coasts
		icon = coastal_fort
		cost = 7.2
		
		prerequisite = {
			focus = SPR_fopo_policy_of_neutrality
		}

		relative_position_id = SPR_fopo_policy_of_neutrality
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_coastal_fortification
			}
		}
	}
	focus = {
		id = SPR_fopo_seek_the_protection_of_world_powers
		icon = play_off_both_sides
		cost = 8
		
		prerequisite = {
			focus = SPR_fopo_fortify_our_coasts
		}

		relative_position_id = SPR_fopo_fortify_our_coasts
		x = 0
		y = 1
		
		completion_reward = {
		    IF = {
				limit = {
					country_exists = CAN
				}
				CAN = {
					country_event = {
						id = spain_diplo.100
					}
				}
			}
		    IF = {
				limit = {
					country_exists = RUS
				}
				RUS = {
					country_event = {
						id = spain_diplo.100
					}
				}
			}
		    IF = {
				limit = {
					country_exists = SOV
				}
				SOV = {
					country_event = {
						id = spain_diplo.100
					}
				}
			}
		    IF = {
				limit = {
					country_exists = GER
				}
				GER = {
					country_event = {
						id = spain_diplo.100
					}
				}
			}
		    IF = {
				limit = {
					country_exists = ENG
				}
				ENG = {
					country_event = {
						id = spain_diplo.100
					}
				}
			}
		}
	}
	
	#navy and air
	focus = {
		id = SPR_navy_and_air_sea_and_sky
		icon = air_defense
		cost = 3
		
		available = {
			custom_trigger_tooltip = {
				tooltip = spain_we_have_stabilized_our_government_and_solved_our_military
				OR = {
					has_completed_focus = SPR_leninist_victory
					has_completed_focus = SPR_neocommunist_victory
					has_completed_focus = SPR_syndicalist_victory
					has_completed_focus = SPR_hold_new_elections
					AND = {
						has_completed_focus = SPR_felipe_victory_tour
						NOT = {
							has_completed_focus = SPR_right_coalition
						}
					}
					has_completed_focus = SPR_carlist_tradition
					has_completed_focus = SPR_falangist_tradition
				}
				NOT = {
					has_idea = idea_SPR_lingering_military_radicalism
				}
				NOT = {
					has_idea = idea_SPR_lingering_republican_radicalism
				}
				NOT = {
					has_idea = idea_SPR_bloated_military
				}
				NOT = {
					has_idea = idea_SPR_bloated_military_2
				}
			}
		}

		x = 8
		y = 20
		offset = {
			x = 14
			y = -10
			trigger = {
				has_completed_focus = SPR_submitted_to_general_strike
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = 14
			y = -12
			trigger = {
				has_completed_focus = SPR_continue_with_elections
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		offset = {
			x = 0
			y = -20
			trigger = {
				has_completed_focus = SPR_felipe_stays
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		completion_reward = {
			add_ideas = {
				idea_spr_spanish_air_force_1
			}
			add_ideas = {
				idea_spr_spanish_navy_1
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_develop_aircraft_carrier_designs
		icon = carrier
		cost = 3
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = 0
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = cv_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		icon = air_icon
		cost = 4
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = 2
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_1
					add_idea = idea_spr_spanish_air_force_with_alcala_academy
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing
					add_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
		icon = air_production
		cost = 7.2
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}
		
		available = {
			owns_state = 168
			custom_trigger_tooltip = {
				tooltip = spain_we_have_started_to_improve_our_economy
				NOT = {
					has_idea = idea_SPR_backwards_economy
				}
			}
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = 4
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_1
					add_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcala_academy
					add_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy
				}
			}
		    168 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_prepare_elite_airborne_brigades
		icon = SPR_airborne_brigade
		cost = 5
		
		prerequisite = {
			focus = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
		}
		prerequisite = {
			focus = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		}

		relative_position_id = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
		x = 1
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = para_tech
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_modernize_ground_support
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy
					add_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy_and_paratroopers
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_modernize_ground_support
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy_and_ground_support
					add_idea = idea_spr_spanish_air_force_full
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_prioritize_light_aircraft
		icon = spain_light_fighters_focus
		cost = 3
		
		prerequisite = {
			focus = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
		}
		prerequisite = {
			focus = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		}
		
		mutually_exclusive = {
			focus = SPR_navy_and_air_prioritize_heavy_aircraft
		}

		relative_position_id = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		x = -1
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = light_air
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = cat_air_engine
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_prioritize_heavy_aircraft
		icon = spain_heavy_fighters_focus
		cost = 3
		
		prerequisite = {
			focus = SPR_navy_and_air_expand_alcantarilla_air_manufacturing
		}
		prerequisite = {
			focus = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		}
		
		mutually_exclusive = {
			focus = SPR_navy_and_air_prioritize_light_aircraft
		}

		relative_position_id = SPR_navy_and_air_fund_the_alcala_de_henares_air_academy
		x = 1
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = medium_air
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = cat_air_guns
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_modernize_ground_support
		icon = drone
		cost = 5
		
		prerequisite = {
			focus = SPR_navy_and_air_prioritize_heavy_aircraft
			focus = SPR_navy_and_air_prioritize_light_aircraft
		}

		relative_position_id = SPR_navy_and_air_prioritize_light_aircraft
		x = 1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_prepare_elite_airborne_brigades
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy
					add_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy_and_ground_support
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_prepare_elite_airborne_brigades
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_air_force_with_alcantarilla_air_manufacturing_and_alcala_academy_and_paratroopers
					add_idea = idea_spr_spanish_air_force_full
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_reconstitute_the_naval_military_academy
		icon = navy_doctrine
		cost = 5
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = -2
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_spanish_navy_1
				add_idea = idea_spr_spanish_navy_naval_academy
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_militar_de_carrera
		icon = spain_career_navy_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_navy_and_air_reconstitute_the_naval_military_academy
		}
		
		mutually_exclusive = {
			focus = SPR_navy_and_air_militar_de_complemento
		}

		relative_position_id = SPR_navy_and_air_reconstitute_the_naval_military_academy
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_spanish_navy_naval_academy
				add_idea = idea_spr_spanish_navy_carrera
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_militar_de_complemento
		icon = spain_navy_complemento_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_navy_and_air_reconstitute_the_naval_military_academy
		}
		
		mutually_exclusive = {
			focus = SPR_navy_and_air_militar_de_carrera
		}

		relative_position_id = SPR_navy_and_air_reconstitute_the_naval_military_academy
		x = -1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_spanish_navy_naval_academy
				add_idea = idea_spr_spanish_navy_complemento
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_elite_marine_training
		icon = SPR_marine_infantry_focus_icon
		cost = 7.2
		
		prerequisite = {
			focus = SPR_navy_and_air_militar_de_complemento
			focus = SPR_navy_and_air_militar_de_carrera
		}

		relative_position_id = SPR_navy_and_air_militar_de_complemento
		x = 1
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = marine_tech
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_militar_de_carrera
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_navy_complemento
					add_idea = idea_spr_spanish_navy_complemento_marines
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_militar_de_carrera
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_navy_carrera
					add_idea = idea_spr_spanish_navy_carrera_marines
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_invest_in_amphibious_vehicles
		icon = SPR_amphibious_vehicle_focus
		cost = 7.2
		
		prerequisite = {
			focus = SPR_navy_and_air_elite_marine_training
		}

		relative_position_id = SPR_navy_and_air_elite_marine_training
		x = 0
		y = 1
		
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = tp_tech
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_navy_and_air_militar_de_carrera
					}
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_navy_complemento_marines
					add_idea = idea_spr_spanish_navy_complemento_finished
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_navy_and_air_militar_de_carrera
				}
				swap_ideas = {
					remove_idea = idea_spr_spanish_navy_carrera_marines
					add_idea = idea_spr_spanish_navy_carrera_finished
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_expand_cartagena_shipbuilding_industry
		icon = spain_cartagena_shipbuilding
		cost = 5
		
		available = {
			owns_state = 168
			custom_trigger_tooltip = {
				tooltip = spain_we_have_started_to_improve_our_economy
				NOT = {
					has_idea = idea_SPR_backwards_economy
				}
			}
		}
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = -4
		y = 1
		
		completion_reward = {
		    168 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_modernize_cantabrian_dockyards
		icon = scottish_military_industry
		cost = 5
		
		available = {
			owns_state = 1019
			custom_trigger_tooltip = {
				tooltip = spain_we_have_started_to_improve_our_economy
				NOT = {
					has_idea = idea_SPR_backwards_economy
				}
			}
		}
		
		prerequisite = {
			focus = SPR_navy_and_air_sea_and_sky
		}

		relative_position_id = SPR_navy_and_air_sea_and_sky
		x = -6
		y = 1
		
		completion_reward = {
		    1019 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_navy_and_air_develop_the_straits_maritime_zone
		icon = cruiser
		cost = 10
		
		available = {
			OR = {
				owns_state = 169
				any_country = {
					is_puppet_of = ROOT
					owns_state = 169
				}
			}
			OR = {
				owns_state = 173
				any_country = {
					is_puppet_of = ROOT
					owns_state = 173
				}
			}
		}
		
		prerequisite = {
			focus = SPR_navy_and_air_modernize_cantabrian_dockyards
		}
		prerequisite = {
			focus = SPR_navy_and_air_expand_cartagena_shipbuilding_industry
		}

		relative_position_id = SPR_navy_and_air_modernize_cantabrian_dockyards
		x = 1
		y = 1
		
		completion_reward = {
		    169 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		    173 = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			IF = {
				limit = {
					owns_state = 118
				}
				118 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					OR = {
						owns_state = 931
						any_country = {
							owns_state = 931
							is_puppet_of = ROOT
						}
					}
				}
				931 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					OR = {
						owns_state = 921
						any_country = {
							owns_state = 921
							is_puppet_of = ROOT
						}
					}
				}
				921 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	#late game democratic trees
	focus = {
		id = SPR_democracy_prevails_in_spain
		icon = SPR_democracy_prevails_in_spain
		cost = 0
		
		available = {
			has_country_flag = spr_4_years_have_passed_since_snap_elections
		}
		
		allow_branch = {
			AND = {
				NOT = {
					has_country_flag = military_coup
				}
				NOT = {
					has_country_flag = submitted_to_strikers
				}
				NOT = {
					has_country_flag = felipe_absolutist_constitution
				}
			}
		}

		x = 8
		y = 25
		
		completion_reward = {
			
		}
	}
	focus = {
		id = SPR_freedom_reigns_supreme
		icon = Spain_union_popular_second_election_focus
		cost = 7.2
		
		available = {
			has_country_flag = spr_popular_union_won_elections
			has_government = liberal
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = -2
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_hire_private_military_contractors
		icon = GFX_modernised_armed_forces
		cost = 10
		
		available = {
			has_government = liberal
		}
		
		prerequisite = {
			focus = SPR_freedom_reigns_supreme
		}

		relative_position_id = SPR_freedom_reigns_supreme
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_military_industry_privatization
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_subsidize_intranet_development
		icon = SPR_subsidize_intranet_development
		cost = 10
		
		available = {
			has_government = liberal
			has_completed_focus = SPR_liberal_subsidize_research_spending
		}
		
		prerequisite = {
			focus = SPR_freedom_reigns_supreme
		}

		relative_position_id = SPR_freedom_reigns_supreme
		x = -2
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			swap_ideas = {
				remove_idea = idea_SPR_subsidize_research_spending
				add_idea = idea_SPR_subsidize_research_spending_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_abolish_the_upper_house
		icon = CAN_revert_article_5_enforcement
		cost = 5
		
		available = {
			has_government = liberal
		}
		
		prerequisite = {
			focus = SPR_subsidize_intranet_development
		}
		prerequisite = {
			focus = SPR_hire_private_military_contractors
		}

		relative_position_id = SPR_subsidize_intranet_development
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_upper_house_abolished
			}
		}
	}
	focus = {
		id = SPR_protect_religious_minorities
		icon = SPR_religious_minorities_focus
		cost = 7.2
		
		available = {
			has_government = liberal
		}
		
		prerequisite = {
			focus = SPR_abolish_the_upper_house
		}

		relative_position_id = SPR_abolish_the_upper_house
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_protecting_religious_minorities
			}
		}
	}
	focus = {
		id = SPR_invite_mercenary_companies
		icon = mercenaries_focus
		cost = 10
		
		available = {
			has_government = liberal
		}
		
		prerequisite = {
			focus = SPR_abolish_the_upper_house
		}

		relative_position_id = SPR_abolish_the_upper_house
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {
				idea_SPR_mercenary_army
			}
			division_template = {
				name = "Mercenary Battalion"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }

					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					artillery_brigade = { x = 2 y = 3 }
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Mercenary Battalion\" division_template = \"Mercenary Battalion\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Mercenary Battalion\" division_template = \"Mercenary Battalion\" start_experience_factor = 1  start_equipment_factor = 1"
					owner = ROOT
				}
			}
		}
	}
	focus = {
		id = SPR_unity_and_pragmatism
		icon = Spain_centrist_second_election_tree
		cost = 7.2
		
		available = {
			has_country_flag = spr_one_spain_won_elections
			has_government = centrist
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = 2
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_legalize_gay_marriage
		icon = gay_rights_focus
		cost = 7.2
		
		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = SPR_unity_and_pragmatism
		}

		relative_position_id = SPR_unity_and_pragmatism
		x = 0
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_amc_progressive_agenda
			}
			add_manpower = 25000
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_permit_private_political_contributions
		icon = GFX_RAJ_rigged_elections
		cost = 7.2
		
		available = {
			has_government = centrist
			has_completed_focus = SPR_centrist_allow_nobility_in_parliament
		}
		
		prerequisite = {
			focus = SPR_legalize_gay_marriage
		}
		
		mutually_exclusive = {
			focus = SPR_continue_corruption_purges
		}

		relative_position_id = SPR_legalize_gay_marriage
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_ita_culture_of_corruption
				add_idea = idea_spr_culture_of_corruption_2
			}
		}
	}
	focus = {
		id = SPR_continue_corruption_purges
		icon = GFX_investigate_corruption_in_the_bureaucracy
		cost = 7.2
		
		available = {
			has_government = centrist
			has_completed_focus = SPR_centrist_anti_corruption_campaign
		}
		
		prerequisite = {
			focus = SPR_legalize_gay_marriage
		}
		
		mutually_exclusive = {
			focus = SPR_permit_private_political_contributions
		}

		relative_position_id = SPR_legalize_gay_marriage
		x = -1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_anti_corruption_campaign
				add_idea = idea_SPR_anti_corruption_campaign_2
			}
		}
	}
	focus = {
		id = SPR_denounce_la_envidia_igualitaria
		icon = SPR_social_mobility_focus_icon
		cost = 7.2
		
		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = SPR_continue_corruption_purges
			focus = SPR_permit_private_political_contributions
		}

		relative_position_id = SPR_continue_corruption_purges
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_embracing_disparity
			}
		}
	}
	focus = {
		id = SPR_ensure_royal_accountability
		icon = crown_chains
		cost = 7.2
		
		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = SPR_unity_and_pragmatism
		}

		relative_position_id = SPR_unity_and_pragmatism
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_royal_accountability
			}
		}
	}
	focus = {
		id = SPR_reappropriate_royal_expenditures
		icon = crown_industries
		cost = 10
		
		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = SPR_ensure_royal_accountability
		}

		relative_position_id = SPR_ensure_royal_accountability
		x = 0
		y = 2
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_royal_accountability
				add_idea = idea_SPR_royal_accountability_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_move_towards_energy_independence
		icon = generic_electric
		cost = 7.2
		
		available = {
			OR = {
				has_government = centrist
				has_government = liberal
			}
		}
		
		prerequisite = {
			focus = SPR_unity_and_pragmatism
			focus = SPR_freedom_reigns_supreme
		}

		relative_position_id = SPR_freedom_reigns_supreme
		x = 2
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_measures_towards_energy_independence
			}
		}
	}
	focus = {
		id = SPR_reduce_business_taxes
		icon = CSD_abolish_corporate_taxation
		cost = 7.2
		
		available = {
			OR = {
				has_government = centrist
				has_government = liberal
			}
		}
		
		prerequisite = {
			focus = SPR_move_towards_energy_independence
		}

		relative_position_id = SPR_move_towards_energy_independence
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_lower_business_taxes
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_welcome_technocratic_guidance
		icon = scientific_exchange
		cost = 7.2
		
		available = {
			OR = {
				has_government = centrist
				has_government = liberal
			}
		}
		
		prerequisite = {
			focus = SPR_reduce_business_taxes
		}

		relative_position_id = SPR_reduce_business_taxes
		x = 1
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			add_ideas = {
				idea_SPR_technocrats_in_government
			}
		}
	}
	focus = {
		id = SPR_spains_oldest_party
		icon = spain_second_election_psoe_focus
		cost = 7.2
		
		available = {
			has_country_flag = spr_psoe_won_elections
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = -7
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_united_we_can
		icon = united_labor_party_second_spanish_election_focus
		cost = 7.2
		
		available = {
			has_country_flag = spr_united_labor_party_won_elections
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = -11
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_condemn_the_1979_abandonment_of_marxism
		icon = SPR_reject_1979
		cost = 7.2
		
		available = {
			has_government = moderate_socialist
			has_completed_focus = SPR_modsoc_reconcile_the_communists
		}
		
		prerequisite = {
			focus = SPR_united_we_can
		}

		relative_position_id = SPR_united_we_can
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_a_return_to_marxism
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = new_democrat
				popularity = -0.05
			}
			country_event = {
				id = spain.173
			}
		}
	}
	focus = {
		id = SPR_push_for_greater_socialization
		icon = socialist_industry_generic
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_united_we_can
		}

		relative_position_id = SPR_united_we_can
		x = -1
		y = 1
		
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_seize_franco_family_properties
		icon = seize_franco_assets_focus
		cost = 7.2
		
		available = {
			has_government = moderate_socialist
			has_completed_focus = SPR_modsoc_exhume_francos_remains
		}
		
		prerequisite = {
			focus = SPR_push_for_greater_socialization
		}

		relative_position_id = SPR_push_for_greater_socialization
		x = 0
		y = 2
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_spr_modsoc_welfare_2
				add_idea = idea_spr_modsoc_welfare_4
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
			}
		}
	}
	focus = {
		id = SPR_deliver_the_land_to_the_farmers
		icon = deliver_the_land_to_the_farmers
		cost = 7.2
		
		available = {
			has_government = moderate_socialist
			has_completed_focus = SPR_modsoc_reduce_dependency_on_cash_crops
		}
		
		prerequisite = {
			focus = SPR_push_for_greater_socialization
		}

		relative_position_id = SPR_push_for_greater_socialization
		x = 1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_reduced_dependency_on_cash_crops
				add_idea = idea_SPR_reduced_dependency_on_cash_crops_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_align_the_united_labor_party
		icon = focus_solidarity_front_government
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_spains_oldest_party
		}

		relative_position_id = SPR_spains_oldest_party
		x = -1
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain.176
			}
			add_ideas = {
				idea_spr_bringing_back_the_ulp
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPR_embrace_post_capitalist_social_democracy
		icon = GFX_goal_social_democracy
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_spains_oldest_party
		}

		relative_position_id = SPR_spains_oldest_party
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_embrace_post_capitalists_social_democracy
			}
		}
	}
	focus = {
		id = SPR_enact_emancipation_subsidies
		icon = welfare_statism
		cost = 10
		
		available = {
			has_government = new_democrat
			has_completed_focus = SPR_newdem_national_projects_administration
		}
		
		prerequisite = {
			focus = SPR_embrace_post_capitalist_social_democracy
		}

		relative_position_id = SPR_embrace_post_capitalist_social_democracy
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_social_safety_net_4
				add_idea = idea_SPR_social_safety_net_5
			}
		}
	}
	focus = {
		id = SPR_ensure_government_transparency
		icon = GFX_investigate_corruption_in_the_bureaucracy
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_enact_emancipation_subsidies
		}

		relative_position_id = SPR_enact_emancipation_subsidies
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_political_transparency
			}
		}
	}
	focus = {
		id = SPR_reunite_the_psoe
		icon = { 
			trigger = {
				has_government = moderate_socialist
			}
			value = SPR_psoe_united_modsoc
		}
		icon = SPR_psoe_united_newdem
		cost = 7.2
		
		available = {
			OR = {
				has_government = new_democrat
				has_government = moderate_socialist
			}
		}
		
		prerequisite = {
			focus = SPR_condemn_the_1979_abandonment_of_marxism
			focus = SPR_align_the_united_labor_party
		}

		relative_position_id = SPR_condemn_the_1979_abandonment_of_marxism
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_the_socialists_united
			}
			set_party_name = {
				ideology = moderate_socialist
				long_name = SPR_reunited_psoe_modsocs_name_long
				name = SPR_reunited_psoe_modsocs_name
			}
			set_party_name = {
				ideology = new_democrat
				long_name = SPR_reunited_psoe_newdem_name_long
				name = SPR_reunited_psoe_newdem_name
			}
			custom_effect_tooltip = spr_tooltip_we_has_access_to_newdems_and_modsocs
			IF = {
				limit = {
					has_government = moderate_socialist
				}
				country_event = {
					id = spain.183
				}
			}
			ELSE_IF = {
				limit = {
					NOT = {
						has_government = moderate_socialist
					}
				}
				country_event = {
					id = spain.184
				}
			}
		}
	}
	focus = {
		id = SPR_mobilize_the_socialist_youth_of_spain
		icon = socialist_youth
		cost = 7.2
		
		available = {
			OR = {
				has_government = new_democrat
				has_government = moderate_socialist
			}
		}
		
		prerequisite = {
			focus = SPR_reunite_the_psoe
		}

		relative_position_id = SPR_reunite_the_psoe
		x = 0
		y = 2
		
		completion_reward = {
			add_ideas = {idea_spr_socialist_youth}
		}
	}
	focus = {
		id = SPR_socialize_education
		icon = GFX_future_minds_program
		cost = 10
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_embrace_post_capitalist_social_democracy
		}
		prerequisite = {
			focus = SPR_reunite_the_psoe
		}

		relative_position_id = SPR_enact_emancipation_subsidies
		x = -1
		y = 1
		
		completion_reward = {
			add_research_slot = 1
			add_ideas = {
				idea_SPR_socialized_education_system
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = research_center
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_improve_technology_in_schools
		icon = GFX_goal_education
		cost = 7.2
		
		available = {
			has_government = new_democrat
		}
		
		prerequisite = {
			focus = SPR_socialize_education
		}

		relative_position_id = SPR_socialize_education
		x = 0
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_socialized_education_system
				add_idea = idea_SPR_socialized_education_system_2
			}
		}
	}
	focus = {
		id = SPR_restore_the_ugt_psoe_alliance
		icon = SPR_UGT_PSOE_alliance
		cost = 7.2
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_deliver_the_land_to_the_farmers
		}
		prerequisite = {
			focus = SPR_reunite_the_psoe
		}

		relative_position_id = SPR_deliver_the_land_to_the_farmers
		x = 1
		y = 1
		
		completion_reward = {
			country_event = {
				id = spain.174
			}
			swap_ideas = {
				remove_idea = idea_SPR_reconcile_the_communists
				add_idea = idea_SPR_reconcile_the_communists_2
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = spr_modsoc_spain_lets_in_ugt
		}
	}
	focus = {
		id = SPR_encourage_workplace_democracy
		icon = ensure_shengo_loyalty
		cost = 10
		
		available = {
			has_government = moderate_socialist
		}
		
		prerequisite = {
			focus = SPR_restore_the_ugt_psoe_alliance
		}

		relative_position_id = SPR_restore_the_ugt_psoe_alliance
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_workplace_democratization
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_for_the_people_of_spain
		icon = SPR_pp_second_election_win
		cost = 7.2
		
		available = {
			has_country_flag = spr_peoples_party_won_elections
			has_government = national_conservative
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = 7
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_the_voice_of_the_silent_majority
		icon = spain_democracia_nacional_second_election
		cost = 7.2
		
		available = {
			has_country_flag = spr_national_democracy_won_elections
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_democracy_prevails_in_spain
		}

		relative_position_id = SPR_democracy_prevails_in_spain
		x = 9
		y = 1
		
		completion_reward = {

		}
	}
	focus = {
		id = SPR_develop_the_ayoluengo_oil_field
		icon = oil
		cost = 7.2
		
		available = {
			OR = {
				has_government = national_conservative
				has_government = nationalist
			}
		}
		
		prerequisite = {
			focus = SPR_for_the_people_of_spain
			focus = SPR_the_voice_of_the_silent_majority
		}

		relative_position_id = SPR_for_the_people_of_spain
		x = 1
		y = 1
		
		completion_reward = {
			176 = {
				add_resource = {
					type = oil
					amount = 25
				}
			    add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_lower_conscription_age_to_16
		icon = SPR_young_soldiers
		cost = 7.2
		
		available = {
			OR = {
				has_government = national_conservative
				has_government = nationalist
			}
		}
		
		prerequisite = {
			focus = SPR_develop_the_ayoluengo_oil_field
		}

		relative_position_id = SPR_develop_the_ayoluengo_oil_field
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_lowered_conscription_age
			}
		}
	}
	focus = {
		id = SPR_permit_civilian_gun_ownership
		icon = spanish_basque_submachinegun_focus
		cost = 10
		
		available = {
			OR = {
				has_government = national_conservative
				has_government = nationalist
			}
		}
		
		prerequisite = {
			focus = SPR_lower_conscription_age_to_16
		}

		relative_position_id = SPR_lower_conscription_age_to_16
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_spr_civilian_arms_industry
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_extoll_spanish_tradition
		icon = embrace_spanish_traditions
		cost = 7.2
		
		available = {
			OR = {
				has_government = national_conservative
				has_government = nationalist
			}
		}
		
		prerequisite = {
			focus = SPR_lower_conscription_age_to_16
		}

		relative_position_id = SPR_lower_conscription_age_to_16
		x = -1
		y = 1
		
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SPR_centrist_embrace_spanish_cultural_traditions
					}
				}
				add_ideas = {
					idea_SPR_strength_of_tradition
				}
			}
			IF = {
				limit = {
					has_completed_focus = SPR_centrist_embrace_spanish_cultural_traditions
				}
				swap_ideas = {
					remove_idea = idea_SPR_strength_of_tradition
					add_idea = idea_SPR_strength_of_tradition_2
				}
			}
		}
	}
	focus = {
		id = SPR_nationalist_recruitment_propaganda
		icon = propaganda
		cost = 7.2
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_the_voice_of_the_silent_majority
		}

		relative_position_id = SPR_the_voice_of_the_silent_majority
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_nationalist_recruitment_propaganda
			}
		}
	}
	focus = {
		id = SPR_expand_the_death_penalty
		icon = execution_focus
		cost = 7.2
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_the_voice_of_the_silent_majority
		}

		relative_position_id = SPR_the_voice_of_the_silent_majority
		x = 3
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_expansion_of_death_penalty
			}
			country_event = {
				id = spain.178
			}
		}
	}
	focus = {
		id = SPR_embrace_european_identity
		icon = evropean_identity_focus
		cost = 7.2
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_expand_the_death_penalty
		}
		prerequisite = {
			focus = SPR_nationalist_recruitment_propaganda
		}

		relative_position_id = SPR_nationalist_recruitment_propaganda
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_european_identity
			}
		}
	}
	focus = {
		id = SPR_seize_the_property_of_non_spaniards
		icon = GFX_uplift_saada
		cost = 10
		
		available = {
			has_government = nationalist
		}
		
		prerequisite = {
			focus = SPR_embrace_european_identity
		}

		relative_position_id = SPR_embrace_european_identity
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_non_spaniards_disenfranchised
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_infiltrate_one_spain
		icon = dealmaker
		cost = 7.2
		
		available = {
			has_government = national_conservative
		}
		
		prerequisite = {
			focus = SPR_for_the_people_of_spain
		}

		relative_position_id = SPR_for_the_people_of_spain
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_conservative_consolidation
			}
			add_popularity = {
				ideology = centrist
				popularity = -0.05
			}
			country_event = {
				id = spain.378
			}
		}
	}
	focus = {
		id = SPR_wield_the_crown_as_an_instrument
		icon = royal_strength
		cost = 7.2
		
		available = {
			has_government = national_conservative
		}
		
		prerequisite = {
			focus = SPR_infiltrate_one_spain
		}

		relative_position_id = SPR_infiltrate_one_spain
		x = -1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_the_crown_as_a_weapon
			}
			country_event = {
				id = spain.379
			}
		}
	}
	focus = {
		id = SPR_protect_spains_businesses
		icon = canada_protectionism
		cost = 10
		
		available = {
			has_government = national_conservative
		}
		
		prerequisite = {
			focus = SPR_infiltrate_one_spain
		}

		relative_position_id = SPR_infiltrate_one_spain
		x = 1
		y = 1
		
		completion_reward = {
			add_ideas = {
				idea_SPR_spanish_protectionism
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_unite_the_royalists
		icon = Oath_of_Loyalty
		cost = 7.2
		
		available = {
			has_government = national_conservative
		}
		
		prerequisite = {
			focus = SPR_protect_spains_businesses
		}
		prerequisite = {
			focus = SPR_wield_the_crown_as_an_instrument
		}

		relative_position_id = SPR_protect_spains_businesses
		x = -1
		y = 1
		
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_SPR_conservative_consolidation
				add_idea = idea_SPR_the_peoples_party_united
			}
			set_party_name = {
				ideology = centrist
				long_name = SPR_reunited_peoples_party_centrist_name_long
				name = SPR_reunited_peoples_party_centrist_name
			}
			set_party_name = {
				ideology = national_conservative
				long_name = SPR_reunited_peoples_party_natcon_name_long
				name = SPR_reunited_peoples_party_natcon_name
			}
			custom_effect_tooltip = spr_tooltip_we_has_access_to_centrists_and_natcons
			country_event = {
				id = spain.380
			}
		}
	}
}
