focus_tree = {
	id = catalonia_tree
	default = no
	continuous_focus_position = { x = 0 y = 2400 }
	focus = {
		id = CAT_call_the_eu
		icon = CAT_call_for_EU_help
		cost = 1
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		mutually_exclusive = {
			focus = CAT_rally_united_front
		}
		x = 10
		y = 0
		completion_reward = {
			165 = {
				create_unit = {
					division = "name = \"'Josep Moragues i Mas' Infantry Division\" division_template = \"Defense Guard\" start_experience_factor = 0.6 start_equipment_factor = 1"
					owner = CAT
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9824
				}
				create_unit = {
					division = "name = \"'Rafael Casanova' Infantry Division\" division_template = \"Defense Guard\" start_experience_factor = 0.6 start_equipment_factor = 1"
					owner = CAT
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9824
				}
			}
			add_to_variable = {
			   var = catalonia_unity_variable
			   value = -2
			}
			every_country = {
				limit = {
					has_idea = idea_eu_member
				}
				country_event = {
					id = cat.1
				}
			}
		}
	}
	
	focus = {
		id = CAT_request_german_armour
		icon = CAT_request_german_tanks
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_call_the_eu
		}
		relative_position_id = CAT_call_the_eu
		x = -2
		y = 1
		completion_reward = {
			GER = {
				country_event = {
					id = cat.3
				}
				create_production_license = {
					target = CAT
					equipment = {
						type = heavy_tank_chassis_0
						version = 0
					}
					cost_factor = 0
				}
			}
		}
	}
	
	focus = {
		id = CAT_deepen_ties_pact
		icon = warsaw_pact_investment
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_request_german_armour
		}
		relative_position_id = CAT_request_german_armour
		x = 0
		y = 1
		completion_reward = {
			every_country = {
				limit = {
					has_government = communist
					is_in_faction_with = GER
				}
				country_event = {
					id = cat.7
				}
				add_opinion_modifier = {
					target = CAT
					modifier = spr_deepened_ties_to_the_pact
				}
			}
			add_to_variable = {
			   var = catalonia_unity_variable
			   value = -2
			}
			hidden_effect = {
				country_event = {
					id = cat.10
					days = 3
				}
			}
		}
	}
	
	focus = {
		id = CAT_form_provisional_government
		icon = restore_fueros
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_call_the_eu
		}
		relative_position_id = CAT_call_the_eu
		x = 0
		y = 1
		completion_reward = {
			add_political_power = 150
			add_stability = 0.1
			add_popularity = {
				ideology = communist
				popularity = 0.10
			}
		}
	}
	
	focus = {
		id = CAT_peoples_commisariat_liberation
		icon = CAT_commissariat_for_peoples_liberation
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_form_provisional_government
		}
		relative_position_id = CAT_form_provisional_government
		x = 0
		y = 1
		completion_reward = {
			country_event = {
				id = cat.11
			}
			add_ideas = {
				idea_cat_peoples_commissariat_for_liberation
			}
		}
	}
	
	focus = {
		id = CAT_call_valencians_to_arms
		icon = CAT_valencian_brothers
		cost = 2
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_rally_united_front
			focus = CAT_call_the_eu
		}
		relative_position_id = CAT_call_the_eu
		x = 2
		y = 1
		completion_reward = {
			custom_effect_tooltip = tooltip_to_hide_valencia_oob_load
			custom_effect_tooltip = tooltip_to_hide_valencia_oob_load
			hidden_effect = {
				load_oob = CAT_valencians
			}
			IF = {
				limit = {
					has_war_with = SPR
				}
				SPR = {
					country_event = {
						id = cat.12
					}
				}
			}
			IF = {
				limit = {
					has_war_with = SPN
				}
				SPN = {
					country_event = {
						id = cat.12
					}
				}
			}
		}
	}
	
	focus = {
		id = CAT_infiltrate_baleares
		icon = CAT_infiltrate_balearics
		cost = 2
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
		focus = CAT_call_valencians_to_arms
		}
		relative_position_id = CAT_call_valencians_to_arms
		x = 0
		y = 1
		completion_reward = {
			custom_effect_tooltip = tooltip_to_hide_balearic_oob_load
			hidden_effect = {
				load_oob = CAT_balearics
			}
			IF = {
				limit = {
					has_war_with = SPR
				}
				SPR = {
					country_event = {
						id = cat.13
					}
				}
			}
			IF = {
				limit = {
					has_war_with = SPN
				}
				SPN = {
					country_event = {
						id = cat.13
					}
				}
			}
		}
	}
	
	focus = {
		id = CAT_rally_united_front
		icon = focus_CAT_united_front_focus
		cost = 1
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		mutually_exclusive = {
			focus = CAT_call_the_eu
		}
		relative_position_id = CAT_call_the_eu
		x = 6
		y = 0
		completion_reward = {
			country_event = {
				id = cat.6
			}
			add_ideas = {
				idea_cat_united_front_strategies
			}
			add_to_variable = {
			   var = catalonia_unity_variable
			   value = 1
			}
		}
	}
	
	focus = {
		id = CAT_learn_from_basque
		icon = BSQ_the_youth_of_the_nation
		cost = 2
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_rally_united_front
			focus = CAT_call_the_eu
		}
		relative_position_id = CAT_call_the_eu
		x = 4
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_kale_borroka_tactics
			}
		}
	}
		
	focus = {
		id = CAT_utilize_castillians
		icon = armed_spanish_communists_focus
		cost = 2
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_learn_from_basque
		}
		relative_position_id = CAT_learn_from_basque
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_war_with = SPR
				}
				SPR = {
					add_timed_idea = {
						idea = idea_bsq_supply_line_sabotage
						days = 85
					}
				}
			}
			IF = {
				limit = {
					has_war_with = SPN
				}
				SPN = {
					add_timed_idea = {
						idea = idea_bsq_supply_line_sabotage
						days = 85
					}
				}
			}
			IF = {
				limit = {
					has_war_with = SPR
				}
				SPR = {
					country_event = {
						id = cat.14
					}
				}
			}
			IF = {
				limit = {
					has_war_with = SPN
				}
				SPN = {
					country_event = {
						id = cat.14
					}
				}
			}
		}
	}
	
	focus = {
		id = CAT_tolerate_cnt_fai
		icon = tolerate_cnt_fai_focus
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_rally_united_front
		}
		relative_position_id = CAT_call_the_eu
		x = 6
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_united_front_strategies
				add_idea = idea_cat_united_front_strategies_2
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			division_template = {
				name = "Workers' Militia"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 0 y = 3 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 1 y = 3 }
				}
			}
			add_to_variable = {
			   var = catalonia_unity_variable
			   value = 1
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Workers' Militia\" division_template = \"Workers' Militia\" start_experience_factor = 0.15 start_equipment_factor = 1"
					owner = ROOT
				}
			}
			country_event = {
				id = cat.15
			}
		}
	}
	focus = {
		id = CAT_unity_all_costs
		icon = left_wing_win
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_tolerate_cnt_fai
		}
		relative_position_id = CAT_tolerate_cnt_fai
		x = 0
		y = 1
		completion_reward = {
			country_event = {
				id = cat.16
			}
			swap_ideas = {
				remove_idea = idea_cat_united_front_strategies_2
				add_idea = idea_cat_united_front_strategies_3
			}
		}
	}
	
	focus = { #https://www.youtube.com/watch?v=Ms5TYGuprek
		id = CAT_reinvigorate_interbrigades
		icon = international_brigades_focus
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_rally_united_front
		}
		relative_position_id = CAT_rally_united_front
		x = 2
		y = 1
		completion_reward = {
			country_event = {
				id = cat.17
			}
			add_ideas = {
				idea_cat_interbrigades
			}
		}
	}
	
	focus = { 
		id = CAT_rally_all_people
		icon = CAT_rally_all_our_people
		cost = 3
		available = {
			OR ={
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		bypass = {
			has_war = no
		}
		prerequisite = {
			focus = CAT_reinvigorate_interbrigades
		}
		relative_position_id = CAT_reinvigorate_interbrigades
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_rally_all_our_people
			}
			add_to_variable = {
			   var = catalonia_unity_variable
			   value = 1
			}
		}
	}
		
	focus = { 
		id = CAT_paisos_Catalans
		icon = CAT_paisos_catalans
		cost = 3
		available = {
			has_war = no
		}

		relative_position_id = CAT_rally_united_front
		x = 12
		y = 0
		completion_reward = {
			add_war_support = 0.05
		}
	}
	focus = {
		id = CAT_strike_for_catalunya_del_nord
		icon = CAT_nord_catalunya
		cost = 10
		available = {
			NOT = {
				has_country_flag = cat_settled_borders_with_france
			}
			OR = {
				has_government = new_democrat
				has_government = revolutionary_socialist
			}
			OR = {
				has_completed_focus = CAT_republican_left
				has_completed_focus = CAT_madre_anarquia
			}
			has_army_manpower = {
				size > 100000
			}
			NOT = {
				any_country = {
					AND = {
						owns_state = 663
						is_in_faction_with = ROOT
					}
				}
			}
		}
		bypass = {
			owns_state = 663
		}

		prerequisite = {
			focus = CAT_paisos_Catalans
		}
		relative_position_id = CAT_paisos_Catalans
		x = 0
		y = 1
		completion_reward = {
			663 = {
				add_claim_by = ROOT
			}
			every_country = {
				limit = {
					owns_state = 663
				}
				country_event = {
					id = cat_diplo.52
				}
			}
		}
	}
		
	focus = { #brazil< argentina
		id = CAT_undo_french_education
		icon = patriotic_education
		cost = 10
		available = {
			owns_state = 663
		}

		prerequisite = {
			focus = CAT_strike_for_catalunya_del_nord
		}
		relative_position_id = CAT_strike_for_catalunya_del_nord
		x = 0
		y = 1
		completion_reward = {
			663 = {
				add_core_of = ROOT
			}
		}
	}
	
	focus = { 
		id = CAT_extends_pyrenean_connections
		icon = roads
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
			owns_state = 663
		}

		prerequisite = {
			focus = CAT_undo_french_education
		}
		relative_position_id = CAT_undo_french_education
		x = 0
		y = 1
		completion_reward = {
			852 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			663 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			165 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			build_railway = {
				level = 5
				build_only_on_allied = no
				fallback = yes
				start_province = 9853
				target_province = 9764
			}
			build_railway = {
				level = 5
				build_only_on_allied = no
				fallback = yes
				start_province = 9853
				target_province = 13206
			}
		}
	}
	
	focus = { 
		id = CAT_integrate_valencians
		icon = CAT_valencia_integrate
		cost = 3
		available = {
			NOT = {
				has_government = national_conservative
				has_government = nationalist
				has_government = revolutionary_socialist
				has_government = national_bolshevik
			}
			has_army_manpower = {
				size > 80000
			}
		}
		bypass = {
			OR = {
				owns_state = 167
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		prerequisite = {
			focus = CAT_paisos_Catalans
		}
		relative_position_id = CAT_paisos_Catalans
		x = -3
		y = 1
		completion_reward = {
			set_country_flag = catalonia_going_for_paisos
			IF = {
				limit = {
					SPR = {
						owns_state = 167
					}
				}
				SPR = {
					country_event = {
						id = cat_diplo.1
					}
				}
			}
			IF = {
				limit = {
					SPN = {
						owns_state = 167
					}
				}
				SPN = {
					country_event = {
						id = cat_diplo.1
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_anti_blaverist
		icon = catalan_valencian_friendship_focus
		cost = 6
		available = {
			owns_state = 167
		}

		prerequisite = {
			focus = CAT_integrate_valencians
		}
		relative_position_id = CAT_paisos_Catalans
		x = -3
		y = 2
		completion_reward = {
			167 = {
				add_core_of = ROOT
			}
		}
	}
	
	focus = { #cope
		id = CAT_castillian_exemptions
		icon = minority_rights
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}

		mutually_exclusive = {
		focus = CAT_linguistic_unity
		}		
		prerequisite = {
			focus = CAT_anti_blaverist
		}
		relative_position_id = CAT_paisos_Catalans
		x = -5
		y = 3
		completion_reward = {
			add_popularity = {
				ideology = national_conservative
				popularity = 0.03
			}
			add_stability = 0.06
		}
	}
	
	focus = {  #seethe
		id = CAT_linguistic_unity
		icon = propaganda
		cost = 3
		available = {
			NOT = {
				has_government = national_conservative
			}
		}

		mutually_exclusive = {
		focus = CAT_castillian_exemptions
		}
		prerequisite = {
			focus = CAT_anti_blaverist
		}
		relative_position_id = CAT_paisos_Catalans
		x = -3
		y = 3
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
			add_war_support = 0.06
			IF = {
				limit = {
					NOT = {
						has_government = nationalist
					}
				}
				country_event = {
					id = cat.33
				}
			}
		}
	}
	
	focus = { 
		id = CAT_mediterranean_spot
		icon = CAT_mediterrenan_spot
		cost = 3
		available = {
			NOT = {
				has_government = national_conservative
				has_government = nationalist
				has_government = revolutionary_socialist
				has_government = national_bolshevik
			}
			has_army_manpower = {
				size > 80000
			}
		}
		bypass = {
			OR = {
				owns_state = 177
				has_war_with = SPR
				has_war_with = SPN
			}
		}
		prerequisite = {
			focus = CAT_paisos_Catalans
		}
		relative_position_id = CAT_paisos_Catalans
		x = 3
		y = 1
		completion_reward = {
			set_country_flag = catalonia_going_for_paisos
			IF = {
				limit = {
					SPR = {
						owns_state = 167
					}
				}
				SPR = {
					country_event = {
						id = cat_diplo.4
					}
				}
			}
			IF = {
				limit = {
					SPN = {
						owns_state = 167
					}
				}
				SPN = {
					country_event = {
						id = cat_diplo.4
					}
				}
			}
		}
	}
	
	focus = { #https://www.youtube.com/watch?v=Fko5fYIBJFU&list=PLPi81txCiOm3yOm7YFubhYkFmClHr_1z6&index=2
		id = CAT_local_autonomy
		icon = CAT_local_autonomy
		cost = 3
		available = {
			owns_state = 177
		}

		mutually_exclusive = {
			focus = CAT_national_consciousness
		}
		prerequisite = {
			focus = CAT_mediterranean_spot
		}
		relative_position_id = CAT_paisos_Catalans
		x = 3
		y = 2
		completion_reward = {
			177 = {
				add_core_of = ROOT
			}
			177 = {
				add_dynamic_modifier = { modifier = semi_autonomous_state }
			}
		}
	}
	
	focus = { 
		id = CAT_national_consciousness
		icon = CAT_national_consciousness
		cost = 7.2
		available = {
			owns_state = 177
		}

		mutually_exclusive = {
			focus = CAT_local_autonomy
		}
		prerequisite = {
			focus = CAT_mediterranean_spot
		}
		relative_position_id = CAT_paisos_Catalans
		x = 5
		y = 2
		completion_reward = {
			177 = {
				add_core_of = ROOT
			}
			add_popularity = {
				ideology = nationalist
				popularity = 0.02
			}
			add_stability = 0.05
		}
	}
	
	focus = { 
		id = CAT_turist_economy
		icon = GFX_coastal_development_scheme
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}

		prerequisite = {
			focus = CAT_local_autonomy
		}
		relative_position_id = CAT_paisos_Catalans
		x = 3
		y = 3
		completion_reward = {
			177 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = { #more like seethe institute -rob!
		id = CAT_ramon_llull_institute
		icon = CAT_ramon_llull_institute
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}

		prerequisite = {
			focus = CAT_national_consciousness
		}
		relative_position_id = CAT_paisos_Catalans
		x = 5
		y = 3
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = { 
		id = CAT_unitary_state
		icon = CAT_paisos_unitary
		cost = 3
		available = {
			NOT = {
				has_government = revolutionary_socialist
			}
		}

		mutually_exclusive = {
			focus = CAT_federal_state
		}
		prerequisite = {
			focus = CAT_ramon_llull_institute
			focus = CAT_extends_pyrenean_connections
			focus = CAT_linguistic_unity
			focus = CAT_castillian_exemptions
			focus = CAT_turist_economy
		}
		relative_position_id = CAT_paisos_Catalans
		x = 1
		y = 4
		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			country_event = {
				id = cat.161
			}
		}
	}
	
	focus = { 
		id = CAT_federal_state
		icon = CAT_paisos_federal
		cost = 3
		available = {
			NOT = {
				has_government = nationalist
				has_government = national_conservative
			}
		}
		bypass = {
			has_completed_focus = CAT_madre_anarquia
		}

		mutually_exclusive = {
			focus = CAT_unitary_state
		}
		prerequisite = {
			focus = CAT_ramon_llull_institute
			focus = CAT_extends_pyrenean_connections
			focus = CAT_linguistic_unity
			focus = CAT_castillian_exemptions
			focus = CAT_turist_economy
		}
		relative_position_id = CAT_paisos_Catalans
		x = -1
		y = 4
		completion_reward = {
			set_cosmetic_tag = CAT_federal_model
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
			add_ideas = {
				idea_SPR_federalized_state
			}
			country_event = {
				id = cat.160
			}
		}
	}
	
	focus = { 
		id = CAT_first_elections
		icon = CAT_first_elections
		cost = 3
		available = {
			has_country_flag = cat_elections_were_held
		}
		bypass = {
		}
		relative_position_id = CAT_call_the_eu
		x = 4
		y = 5
		completion_reward = {

		}
	}

	focus = { 
		id = CAT_republican_left
		icon = republican_left_of_catalonia_focus1
		cost = 3
		available = {
			has_country_flag = cat_republican_left_won_the_election
			has_government = new_democrat
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_first_elections
		}
		relative_position_id = CAT_first_elections
		x = -17
		y = 1
		completion_reward = {

		}
	}
	focus = { 
		id = CAT_form_a_broad_progress_pact
		icon = uk_federation
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_republican_left
		}
		relative_position_id = CAT_republican_left
		x = 1
		y = 1
		completion_reward = {
            add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
		}
	}
	focus = { 
		id = CAT_reform_the_mossos_d_esquadra
		icon = CAT_reform_the_mossos_d_esquadra
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_form_a_broad_progress_pact
		}
		relative_position_id = CAT_form_a_broad_progress_pact
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_mossos
			}
		}
	}
	focus = { 
		id = CAT_recognize_all_languages_of_catalonia
		icon = SPR_codify_regional_autonomy
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_form_a_broad_progress_pact
		}
		relative_position_id = CAT_form_a_broad_progress_pact
		x = 2
		y = 1
		completion_reward = {
            add_ideas = idea_cat_catalan_multicultiralism
		}
	}
	focus = { 
		id = CAT_grow_the_republican_youth
		icon = socialist_youth
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_recognize_all_languages_of_catalonia
		}
		relative_position_id = CAT_recognize_all_languages_of_catalonia
		x = 1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
			add_political_power = 100
		}
	}
	focus = { 
		id = CAT_develop_the_productive_economy
		icon = factory_build
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_republican_left
		}
		relative_position_id = CAT_republican_left
		x = -1
		y = 1
		completion_reward = {
            random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = { 
		id = CAT_bring_public_services_under_state_control
		icon = generic_electric
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_develop_the_productive_economy
		}
		relative_position_id = CAT_develop_the_productive_economy
		x = 0
		y = 1
		completion_reward = {
            add_ideas = idea_cat_renewed_public_services
		}
	}
	focus = { 
		id = CAT_invest_in_the_rural_economy
		icon = agriculuture_agrarianism
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_develop_the_productive_economy
		}
		relative_position_id = CAT_develop_the_productive_economy
		x = -2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_agricultural_subsidies
			}
		}
	}
	focus = { 
		id = CAT_support_small_and_medium_businesses
		icon = GFX_industry_act
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		mutually_exclusive = {
			focus = CAT_reform_the_state_sector
		}
		prerequisite = {
			focus = CAT_invest_in_the_rural_economy
		}
		relative_position_id = CAT_invest_in_the_rural_economy
		x = -1
		y = 1
		completion_reward = {
            add_ideas = idea_cat_keynesianism
		}
	}
	focus = { 
		id = CAT_reform_the_state_sector
		icon = socialist_industry_generic
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		mutually_exclusive = {
			focus = CAT_support_small_and_medium_businesses
		}
		prerequisite = {
			focus = CAT_invest_in_the_rural_economy
		}
		relative_position_id = CAT_invest_in_the_rural_economy
		x = 1
		y = 1
		completion_reward = {
            add_ideas = idea_cat_state_capitalism
		}
	}
	focus = { 
		id = CAT_rein_in_financial_speculation
		icon = unknown
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_support_small_and_medium_businesses
			focus = CAT_reform_the_state_sector
		}
		relative_position_id = CAT_invest_in_the_rural_economy
		x = 0
		y = 2
		completion_reward = {
            add_political_power = -100
			add_stability = 0.05
			add_popularity = {
				ideology = new_democrat
				popularity = 0.03
			}
		}
	}
	focus = { 
		id = CAT_manage_capitalism_carefully
		icon = industry_paper
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_reform_the_state_sector
		}
		prerequisite = {
			focus = CAT_rein_in_financial_speculation
		}
		relative_position_id = CAT_reform_the_state_sector
		x = 0
		y = 2
		completion_reward = {
            swap_ideas = {
				remove_idea = idea_cat_state_capitalism
				add_idea = idea_cat_state_capitalism2
			}
		}
	}
	focus = { 
		id = CAT_prevent_monopolism
		icon = torch_industry
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_support_small_and_medium_businesses
		}
		prerequisite = {
			focus = CAT_rein_in_financial_speculation
		}
		relative_position_id = CAT_support_small_and_medium_businesses
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_keynesianism
				add_idea = idea_cat_keynesianism2
			}
		}
	}
	focus = { 
		id = CAT_for_social_progress_and_equality
		icon = the_progressive_wave
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_manage_capitalism_carefully
			focus = CAT_prevent_monopolism
		}
		relative_position_id = CAT_rein_in_financial_speculation
		x = 0
		y = 2
		completion_reward = {
            add_ideas = idea_cat_fair_and_progressive_catalonia
		}
	}
	focus = { 
		id = CAT_ensure_welfare_for_the_catalan_people
		icon = generic_welfare_focus
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_bring_public_services_under_state_control
		}
		prerequisite = {
			focus = CAT_reform_the_mossos_d_esquadra
		}
		relative_position_id = CAT_bring_public_services_under_state_control
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_from_cradle_to_grave
			}
		}
	}
	focus = { 
		id = CAT_help_militants_transition_to_peaceful_politics
		icon = YEM_social_alliance
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_bring_public_services_under_state_control
		}
		prerequisite = {
			focus = CAT_reform_the_mossos_d_esquadra
		}
		relative_position_id = CAT_bring_public_services_under_state_control
		x = 3
		y = 1
		completion_reward = {
            add_timed_idea = {
				idea = idea_cat_demobilization_of_militants
				days = 250
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.07
			}
		}
	}
	focus = { 
		id = CAT_develop_public_transportation
		icon = new_cities
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_ensure_welfare_for_the_catalan_people
		}
		relative_position_id = CAT_ensure_welfare_for_the_catalan_people
		x = -1
		y = 1
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = { 
		id = CAT_form_a_concord_with_organized_labor
		icon = minority_rights
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_help_militants_transition_to_peaceful_politics
		}
		prerequisite = {
			focus = CAT_ensure_welfare_for_the_catalan_people
		}
		relative_position_id = CAT_ensure_welfare_for_the_catalan_people
		x = 1
		y = 1
		completion_reward = {
            swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_newdem
			}
		}
	}
	focus = { 
		id = CAT_enact_measures_for_direct_participation
		icon = focus_control_the_vote_counters
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_help_militants_transition_to_peaceful_politics
		}
		prerequisite = {
			focus = CAT_grow_the_republican_youth
		}
		relative_position_id = CAT_help_militants_transition_to_peaceful_politics
		x = 1
		y = 1
		completion_reward = {
            add_ideas = idea_cat_direct_democracy_initiatives
		}
	}
	focus = { 
		id = CAT_promote_social_republicanism
		icon = left_wing_win
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_form_a_concord_with_organized_labor
		}
		prerequisite = {
			focus = CAT_develop_public_transportation
		}
		relative_position_id = CAT_develop_public_transportation
		x = 1
		y = 1
		completion_reward = {
            add_popularity = {
				ideology = new_democrat
				popularity = 0.10
			}
			add_stability = 0.05
		}
	}
	focus = { 
		id = CAT_repudiate_castillian_dictatorship
		icon = SPR_newdem_no_monuments_to_tyrants
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_enact_measures_for_direct_participation
		}
		relative_position_id = CAT_enact_measures_for_direct_participation
		x = 1
		y = 1
		completion_reward = {
            add_ideas = idea_SPR_no_monuments_to_tyrants
		}
	}
	focus = { 
		id = CAT_stand_against_elitism_and_technocracy
		icon = we_step_on_snek
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_enact_measures_for_direct_participation
		}
		relative_position_id = CAT_enact_measures_for_direct_participation
		x = -1
		y = 1
		completion_reward = {
            add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = -0.05
			}
			add_popularity = {
				ideology = liberal
				popularity = -0.05
			}
		}
	}
	focus = { 
		id = CAT_uphold_the_legacy_of_tarradellas
		icon = GFX_freedom_focus
		cost = 6
		available = {
		
		}
		bypass = {
		
		}
		prerequisite = {
			focus = CAT_stand_against_elitism_and_technocracy
		}
		prerequisite = {
			focus = CAT_repudiate_castillian_dictatorship
		}
		relative_position_id = CAT_stand_against_elitism_and_technocracy
		x = 1
		y = 1
		completion_reward = {
            add_ideas = idea_cat_in_the_spirit_of_taradellas
		}
	}

	
	focus = { 
		id = CAT_moderate_socialist_path
		icon = unified_socialist_party_of_catalonia_focus
		cost = 6
		available = {
			has_country_flag = cat_puigdemont_won_the_election
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_first_elections
		}
		relative_position_id = CAT_first_elections
		x = -6
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_struggle_independence
		icon = ideology_fist
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_moderate_socialist_path
		}
		mutually_exclusive = {
		focus = CAT_struggle_democracy
		}
		relative_position_id = CAT_moderate_socialist_path
		x = -2
		y = 1
		completion_reward = {
			add_ideas = idea_cat_nationalist_party_programme
			country_event = cat.98
		}
	}
	
	focus = { 
		id = CAT_close_down_unionist_newspapers
		icon = CAT_close_down_unionist_newspapers
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_struggle_independence
		}
		relative_position_id = CAT_struggle_independence
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = -0.06
			}
			add_stability = 0.1

		}
	}
	
	focus = { 
		id = CAT_honour_independence_heroes
		icon = GFX_female_liberation
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_close_down_unionist_newspapers
		}
		relative_position_id = CAT_close_down_unionist_newspapers
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.1
			}
			swap_ideas = {
				remove_idea = idea_cat_nationalist_party_programme
				add_idea = idea_cat_nationalist_party_programme_2
			}
			country_event = cat.170
		}
	}
	
	focus = { 
		id = CAT_meet_carles_riera
		icon = CAT_meet_with_riera
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_moderate_socialist_path
		}
		relative_position_id = CAT_moderate_socialist_path
		x = 0
		y = 2
		completion_reward = {
			country_event = cat.100
			set_country_flag = cat_can_recruit_cnt_fai_ministers
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}

		}
	}
	
	focus = { 
		id = CAT_industrial_concord
		icon = encourage_cooperatives
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_meet_carles_riera
		}
		relative_position_id = CAT_meet_carles_riera
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_modsoc
			}
		}
	}
	
	focus = { 
		id = CAT_modernise_state_enterprises
		icon = focus_syria_workers_self_management
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_meet_carles_riera
		}
		relative_position_id = CAT_meet_carles_riera
		x = 1
		y = 1
		completion_reward = {
			165 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
				add_extra_state_shared_building_slots = 2
			}
			add_ideas = idea_cat_modernized_state_enterprise
		}
	}
	
	focus = { 
		id = CAT_struggle_democracy
		icon = democracy
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_struggle_independence
		}
		prerequisite = {
			focus = CAT_moderate_socialist_path
		}
		relative_position_id = CAT_moderate_socialist_path
		x = 2
		y = 1
		completion_reward = {
			add_ideas = idea_cat_democratic_party_programme
			country_event = cat.99
		}
	}
	
	focus = { 
		id = CAT_decentralise_government
		icon = focus_reform_port_procedures
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_struggle_democracy
		}
		relative_position_id = CAT_struggle_democracy
		x = 1
		y = 1
		completion_reward = {
			add_ideas = YAR_decentralisation
		}
	}
	
	focus = { #my duty is to the republic to democracy 
		id = CAT_our_duty_democracy
		icon = deal_focus
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_decentralise_government
		}
		relative_position_id = CAT_decentralise_government
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_democratic_party_programme
				add_idea = idea_cat_democratic_party_programme_2
			}
			add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			add_popularity = {
				ideology = fascist
				popularity = -0.05
			}
			add_popularity = {
				ideology = communist
				popularity = -0.05
			}
			country_event = cat.171
		}
	}
	
	focus = { #https://www.paulinacocina.net/empanadas-de-jamon-y-queso/8077
		id = CAT_reafirm_ties_eu
		icon = european_union
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_industrial_concord
		}
		prerequisite = {
			focus = CAT_honour_independence_heroes
		}
		relative_position_id = CAT_honour_independence_heroes
		x = 1
		y = 1
		completion_reward = {
			if = {
				limit = { 
					GER = {
						has_idea = idea_eu_member
					}
				}
				GER = {
					country_event = cat.104
				}
			}
			else = {
				random_country = {
					limit = {
						has_idea = idea_eu_member
					}
					country_event = cat.104
				}
			}
			add_popularity = {
				ideology = communist
				popularity = 0.05
			}
		}
	}
	
	focus = { #vuelve peron,vuelve peron 
		id = CAT_catalan_model_socialism
		icon = focus_socialist_trading_network
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_industrial_concord
		}
		prerequisite = {
			focus = CAT_modernise_state_enterprises
		}
		relative_position_id = CAT_industrial_concord
		x = 1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_catalan_socialism
		}
	}
	
	focus = {
		id = CAT_reject_club_few
		icon = focus_anti_corruption_crusade
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_our_duty_democracy
		}
		prerequisite = {
			focus = CAT_modernise_state_enterprises
		}
		relative_position_id = CAT_modernise_state_enterprises
		x = 2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = liberal
				popularity = 0.05
			}
			country_event = cat.103
			every_country = {
				limit = {
					has_idea = idea_eu_member
				}
				add_opinion_modifier = {
					target = CAT
					modifier = cea_denounced_government
				}
			}
		}
	}
	
	focus = {
		id = CAT_proper_cops
		icon = CAT_proper_corps
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reafirm_ties_eu
		}
		relative_position_id = CAT_reafirm_ties_eu
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_proper_police_force
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							has_completed_focus = CAT_republican_left
						}
						NOT = {
							has_completed_focus = CAT_liberal_path
						}
						NOT = {
							has_completed_focus = CAT_national_conservative_path
						}
					}
				}
				add_naval_commander_role = {
					Character = CAT_Jordi_Boix
					traits={ seawolf gentlemanly }
					skill=2
					attack_skill=2
					defense_skill=2
					maneuvering_skill=3
					coordination_skill=2
				}
				add_naval_commander_role = {
					Character = CAT_Jordi_Olle
					traits={ bold gunnery_expert }
					skill=2
					attack_skill=3
					defense_skill=2
					maneuvering_skill=2
					coordination_skill=2
				}
				add_field_marshal_role = {
					Character = CAT_Joan_Unio
					traits={ old_guard brilliant_strategist trait_cautious offensive_doctrine fast_planner }
					skill=3
					attack_skill=3
					defense_skill=3
					planning_skill=4
					logistics_skill=3
				}
				add_field_marshal_role = {
					Character = CAT_Josep_Milan
					traits={ old_guard inflexible_strategist trait_cautious logistics_wizard thorough_planner }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=2
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = CAT_Miquel_Esquius_i_Mique
					traits={ politically_connected career_officer harsh_leader }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=1
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = CAT_Eduard_Sallent_i_Pena
					traits={ infantry_officer organizer adaptable }
					skill=2
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=1
				}
				add_corps_commander_role = {
					Character = CAT_Joan_Carles_Molinero
					traits={ career_officer commando }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = CAT_Xavier_Vilaro_i_Camps
					traits={ career_officer organizer skilled_staffer trait_cautious }
					skill=2
					attack_skill=1
					defense_skill=2
					planning_skill=2
					logistics_skill=4
				}
				add_corps_commander_role = {
					Character = CAT_Joan_Portals
					traits={ old_guard cavalry_officer cavalry_leader engineer_officer }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=4
					logistics_skill=1
				}
			}
		}
	}
	
	focus = {
		id = CAT_keep_the_bootleg_ira
		icon = align_militias
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_proper_cops
		}
		relative_position_id = CAT_proper_cops
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_nationalist_paramilitaries
			country_event = cat.172
		}
	}
	
	focus = {
		id = CAT_redevelop_industrial_heartland
		icon = industry_in_alabama
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_catalan_model_socialism
		}
		relative_position_id = CAT_catalan_model_socialism
		x = -1
		y = 1
		completion_reward = {
			165 = {
				add_building_construction = {
					type = arms_factory
					level = 2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
				}
				add_extra_state_shared_building_slots = 2
			}

		}
	}
	
	focus = { #more like communsim -rob!
		id = CAT_progressive_taxes
		icon = high_company_tax
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redevelop_industrial_heartland
		}
		relative_position_id = CAT_redevelop_industrial_heartland
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_progressive_taxation
            country_event = cat.173
		}
	}
	
	focus = { 
		id = CAT_improve_francoist_welfare
		icon = welfare_statism
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_catalan_model_socialism
		}
		relative_position_id = CAT_catalan_model_socialism
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_catalan_socialism
				add_idea = idea_cat_catalan_socialism_2
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.03
			}
		}
	}
	
	focus = { 
		id = CAT_big_education_reform
		icon = patriotic_education
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_improve_francoist_welfare
		}
		relative_position_id = CAT_improve_francoist_welfare
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_catalan_socialism_2
				add_idea = idea_cat_catalan_socialism_3
			}
			country_event = cat.174
		}
	}
	
	focus = { #aka make them legal lmao #ACAB
		id = CAT_turn_terrorists_into_cops
		icon = SPR_the_dialectics_of_fists_and_guns
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reject_club_few
		}
		relative_position_id = CAT_reject_club_few
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_freedom_fighter_cops
			}
			IF = {
				limit = {
					AND = {
						NOT = {
							has_completed_focus = CAT_republican_left
						}
						NOT = {
							has_completed_focus = CAT_liberal_path
						}
						NOT = {
							has_completed_focus = CAT_national_conservative_path
						}
					}
				}
				add_naval_commander_role = {
					Character = CAT_Jordi_Boix
					traits={ seawolf gentlemanly }
					skill=2
					attack_skill=2
					defense_skill=2
					maneuvering_skill=3
					coordination_skill=2
				}
				add_naval_commander_role = {
					Character = CAT_Jordi_Olle
					traits={ bold gunnery_expert }
					skill=2
					attack_skill=3
					defense_skill=2
					maneuvering_skill=2
					coordination_skill=2
				}
				add_field_marshal_role = {
					Character = CAT_Joan_Unio
					traits={ old_guard brilliant_strategist trait_cautious offensive_doctrine fast_planner }
					skill=3
					attack_skill=3
					defense_skill=3
					planning_skill=4
					logistics_skill=3
				}
				add_field_marshal_role = {
					Character = CAT_Josep_Milan
					traits={ old_guard inflexible_strategist trait_cautious logistics_wizard thorough_planner }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=2
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = CAT_Miquel_Esquius_i_Mique
					traits={ politically_connected career_officer harsh_leader }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=1
					logistics_skill=3
				}
				add_corps_commander_role = {
					Character = CAT_Eduard_Sallent_i_Pena
					traits={ infantry_officer organizer adaptable }
					skill=2
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=1
				}
				add_corps_commander_role = {
					Character = CAT_Joan_Carles_Molinero
					traits={ career_officer commando }
					skill=2
					attack_skill=3
					defense_skill=2
					planning_skill=2
					logistics_skill=2
				}
				add_corps_commander_role = {
					Character = CAT_Xavier_Vilaro_i_Camps
					traits={ career_officer organizer skilled_staffer trait_cautious }
					skill=2
					attack_skill=1
					defense_skill=2
					planning_skill=2
					logistics_skill=4
				}
				add_corps_commander_role = {
					Character = CAT_Joan_Portals
					traits={ old_guard cavalry_officer cavalry_leader engineer_officer }
					skill=2
					attack_skill=2
					defense_skill=2
					planning_skill=4
					logistics_skill=1
				}
			}
		}
	}
	
	focus = { #
		id = CAT_incorporate_tenants_of_ecosocialism
		icon = GER_green_revolution_program
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_turn_terrorists_into_cops
		}
		relative_position_id = CAT_turn_terrorists_into_cops
		x = 0
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.1
			}
			add_ideas = idea_cat_red_green_policies
			country_event = cat.108
		}
	}
	
	focus = { 
		id = CAT_uplift_rural_regions
		icon = free_some_farms
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_progressive_taxes
		}
		relative_position_id = CAT_progressive_taxes
		x = -1
		y = 1
		completion_reward = {
             every_owned_state = {
				add_extra_state_shared_building_slots = 2
			 }
		}
	}
	
	focus = { 
		id = CAT_restart_public_housing
		icon = housing
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_big_education_reform
		}
		prerequisite = {
			focus = CAT_progressive_taxes
		}
		relative_position_id = CAT_progressive_taxes
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_catalan_socialism_3
				add_idea = idea_cat_catalan_socialism_4
			}
			country_event = cat.175
		}
	}
	
	focus = { 
		id = CAT_expand_university
		icon = CAT_expand_university
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_big_education_reform
		}
		relative_position_id = CAT_big_education_reform
		x = 1
		y = 1
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = { 
		id = CAT_struggle_realized
		icon = SPR_modsoc_model_euro_democracy
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_restart_public_housing
		}
		prerequisite = {
			focus = CAT_expand_university
		}
		prerequisite = {
			focus = CAT_uplift_rural_regions
		}
		relative_position_id = CAT_restart_public_housing
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_a_free_catalan_nation
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.1
			}
			country_event = cat.109
		}
	}
	
	focus = { 
		id = CAT_liberal_path
		icon = democratic_convergence_of_catalonia_focus
		cost = 6
		available = {
			has_country_flag = cat_democratic_convergence_of_catalonia_won
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_first_elections
		}
		relative_position_id = CAT_first_elections
		x = 6
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_unify_national_democratic_bloc
		icon = unknown
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_liberal_path
		}
		relative_position_id = CAT_liberal_path
		x = 0
		y = 1
		completion_reward = {
		add_political_power = 100
			add_popularity = {
				ideology = liberal
				popularity = 0.1
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.07
			}
			country_event = cat.177
		}
	}
	
	focus = { 
		id = CAT_slide_to_the_left
		icon = focus_ideology_liberal
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_unify_national_democratic_bloc
		}
		mutually_exclusive = {
		focus = CAT_slide_to_the_right
		}
		relative_position_id = CAT_unify_national_democratic_bloc
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = liberal
				popularity = 0.05
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.05
			}
			country_event = cat.178
		}
	}
	
	focus = { 
		id = CAT_slide_to_the_right
		icon = focus_ideology_national_conservative
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_unify_national_democratic_bloc
		}
		mutually_exclusive = {
		focus = CAT_slide_to_the_left
		}
		relative_position_id = CAT_unify_national_democratic_bloc
		x = 1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
			country_event = cat.179
		}
	}
	
	focus = { 
		id = CAT_open_state_holdings
		icon = invite_multinationals
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_slide_to_the_left
		}
		relative_position_id = CAT_slide_to_the_left
		x = -2
		y = 1
		completion_reward = {
			add_ideas = idea_cat_private_investors
			add_tech_bonus = {
				name = "Private Investors"
				category = industry
				bonus = 0.75
				uses = 2
			}
		}
	}
	
	focus = { 
		id = CAT_support_moderate_unions
		icon = pay_scabs_to_break_strikes
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_open_state_holdings
		}
		relative_position_id = CAT_open_state_holdings
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_moderate
			}
			add_political_power = 75
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
			country_event = cat.180
		}
	}
	
	focus = { #may be led by elizabeth warren,first native american cabinet member of catalonia
		id = CAT_consumer_protection_bureau
		icon = shopping
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_support_moderate_unions
		}
		relative_position_id = CAT_support_moderate_unions
		x = -0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_consumer_protections
		}
	}
	
	focus = { 
		id = CAT_extensive_urban_renewal
		icon = urban_housing
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_open_state_holdings
		}
		relative_position_id = CAT_open_state_holdings
		x = -0
		y = 1
		completion_reward = {
			165 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes	
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes	
				}
			}
			if = {
				limit = {
					owns_state = 167
				}
				167 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes	
					}
				}
			}
			if = {
				limit = {
					owns_state = 177
				}
				177 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes	
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_minimum_wage
		icon = focus_abolish_wages
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_extensive_urban_renewal
		}
		relative_position_id = CAT_extensive_urban_renewal
		x = -0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_minimum_wage
			country_event = cat.182
		}
	}
	
	focus = { 
		id = CAT_agaisnt_socialism_and_unionism
		icon = against_communists
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_slide_to_the_left
			focus = CAT_slide_to_the_right	
		}
		relative_position_id = CAT_slide_to_the_right
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			country_event = cat.183
		}
	}
	
	focus = { 
		id = CAT_abolish_press_restrictions
		icon = focus_freedom_of_speech
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_agaisnt_socialism_and_unionism	
		}
		relative_position_id = CAT_agaisnt_socialism_and_unionism
		x = -0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_press_freedoms
		}
	}
	
	focus = { 
		id = CAT_strenghtern_republic
		icon = manipulate_swedish_banks
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_abolish_press_restrictions	
		}
		relative_position_id = CAT_abolish_press_restrictions
		x = -0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_parlimentarianism
			add_stability = 0.05
			add_popularity = {
				ideology = liberal
				popularity = 0.1
			}
		}
	}
	
	focus = { 
		id = CAT_behold_the_privatiza_inator
		icon = lucrative_investment
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_slide_to_the_right	
		}
		relative_position_id = CAT_slide_to_the_right
		x = 2
		y = 1
		completion_reward = {
			add_ideas = idea_cat_sold_state_shares
			country_event = cat.184
		}
	}
	
	focus = { 
		id = CAT_attract_foreign_investment
		icon = YEM_trade_with_the_west
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_behold_the_privatiza_inator	
		}
		relative_position_id = CAT_behold_the_privatiza_inator
		x = 0
		y = 1
		completion_reward = {
			hidden_effect = {
				every_country = {
					limit = {
						AND = {
							has_opinion = {
								target = CAT
								value > 80
							}
							NOT = {
								has_government = revolutionary_socialist
							}
							NOT = {
								has_government = communist
							}
							NOT = {
								has_government = national_bolshevik
							}
							NOT = {
								has_government = moderate_socialist
							}
						}
					}
					country_event = cat_diplo.7
				}
			}
			custom_effect_tooltip = cat_investments_tip
		}
	}
	
	focus = { 
		id = CAT_support_primary_sector
		icon = factory_build
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_attract_foreign_investment	
		}
		relative_position_id = CAT_attract_foreign_investment
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_supporting_rural_sector
			add_popularity = {
				ideology = liberal
				popularity = 0.05
			}
			country_event = cat.185
		}
	}
	
	focus = { 
		id = CAT_deal_with_cnt
		icon = focus_spread_democracy
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_behold_the_privatiza_inator	
		}
		relative_position_id = CAT_behold_the_privatiza_inator
		x = 2
		y = 1
		completion_reward = {
			remove_ideas = idea_cat_beating_heart_of_iberian_industry
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.1
			}
			country_event = cat.186
		}
	}
	
	focus = { 
		id = CAT_merits_of_corporatism
		icon = corporatism
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_deal_with_cnt	
		}
		relative_position_id = CAT_deal_with_cnt
		x = 0
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = 0.1
			}
			add_ideas = idea_cat_corporatism
			country_event = cat.188
		}
	}
	
	focus = { 
		id = CAT_legacy_of_dictartorship
		icon = focus_crown_the_new_king
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
		focus = CAT_strenghtern_republic
		}
		prerequisite = {
			focus = CAT_merits_of_corporatism
			focus = CAT_minimum_wage
		}
		prerequisite = {
			focus = CAT_support_primary_sector
			focus = CAT_consumer_protection_bureau
		}
		relative_position_id = CAT_strenghtern_republic
		x = 0
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_confiscate_royal_property
		icon = SPR_outright_abolish_nobility
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_legacy_of_dictartorship	
		}
		relative_position_id = CAT_legacy_of_dictartorship
		x = -4
		y = 1
		completion_reward = {
		add_political_power = -50
		if = {
		limit = {
		has_completed_focus = CAT_slide_to_the_left
				}
		add_political_power = 25
			}
		else = {
		add_popularity = {
			ideology = nationalist
			popularity = 0.01
		}
		}
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	
	focus = { 
		id = CAT_judicial_generation_change
		icon = laws
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_legacy_of_dictartorship	
		}
		relative_position_id = CAT_legacy_of_dictartorship
		x = -2
		y = 1
		completion_reward = {
			add_political_power = 100
			add_popularity = {
				ideology = liberal
				popularity = 0.1
			}

		}
	}
	
	focus = { 
		id = CAT_the_return_of_mossos
		icon = police_action_plan
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_confiscate_royal_property	
		}
		prerequisite = {
			focus = CAT_judicial_generation_change	
		}
		relative_position_id = CAT_confiscate_royal_property
		x = 1
		y = 1
		completion_reward = {

			swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_mossos
			}

		}
	}
	
	focus = { 
		id = CAT_protect_independence
		icon = right_wing_unity
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_return_of_mossos	
		}
		relative_position_id = CAT_the_return_of_mossos
		x = 1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_protecting_our_independence
			random_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 4
				}
				add_extra_state_shared_building_slots = 4

			}

		}
	}
	focus = { 
		id = CAT_patriotic_curriculum
		icon = patriotic_education
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_legacy_of_dictartorship	
		}
		relative_position_id = CAT_legacy_of_dictartorship
		x = 2
		y = 1
		completion_reward = {
			add_ideas = idea_cat_patriotic_education
			add_popularity = {
			ideology = nationalist
			popularity = 0.03
		}

		}
	}
	
	focus = { 
		id = CAT_treddle_neddle_church
		icon = focus_fund_christian_charities
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_legacy_of_dictartorship	
		}
		relative_position_id = CAT_legacy_of_dictartorship
		x = 4
		y = 1
		completion_reward = {
			add_stability = 0.1
			add_popularity = {
				ideology = centrist
				popularity = 0.07
			}
		}
	}
	
	focus = { 
		id = CAT_promote_catalan_language
		icon = information_campaign_generic
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_patriotic_curriculum	
		}
		prerequisite = {
			focus = CAT_treddle_neddle_church	
		}
		relative_position_id = CAT_treddle_neddle_church
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
			ideology = nationalist
			popularity = 0.02
		}
			add_ideas = idea_cat_language_revival
			add_research_slot = 1

		}
	}
	
	focus = { 
		id = CAT_gender_equality_good
		icon = focus_social_democrat_woman
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_promote_catalan_language	
		}
		relative_position_id = CAT_promote_catalan_language
		x = -1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_gender_equality
		}
	}
	
	focus = {
		id = CAT_conmemorate_generalitat
		icon = flags_blue
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_legacy_of_dictartorship	
		}
		relative_position_id = CAT_legacy_of_dictartorship
		x = 0
		y = 2
		completion_reward = {
			add_ideas = idea_cat_legacy_of_the_generalitat

		}
	}
	
	focus = { 
		id = CAT_constitutional_republic
		icon = national_unity
		cost = 6
			available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_protect_independence
		}
		prerequisite = {
			focus = CAT_conmemorate_generalitat	
		}
		prerequisite = {
			focus = CAT_gender_equality_good	
		}
		relative_position_id = CAT_conmemorate_generalitat
		x = 0
		y = 2
		completion_reward = {
		add_political_power = 100
		add_stability = 0.05
		}
	}
	
	focus = { 
		id = CAT_national_conservative_path
		icon = citizens_of_catalonia_focus
		cost = 6
		available = {
			has_country_flag = cat_citizens_won_the_election
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_first_elections
		}
		relative_position_id = CAT_first_elections
		x = 18
		y = 1
		completion_reward = {
		country_event = {
					id = cat.2000
					days = 1
				}
		}
	}
	
	focus = { 
		id = CAT_desincorporate_national_institute_industry
		icon = unknown
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_national_conservative_path
		}
		relative_position_id = CAT_national_conservative_path
		x = -1
		y = 1
		completion_reward = {

			random_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 2
	
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
	
				}
				add_extra_state_shared_building_slots = 3
	
			}
		
		}
	}
	
	focus = { 
		id = CAT_fuck_taxes_atte_friedman
		icon = unknown
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_desincorporate_national_institute_industry
		}
		relative_position_id = CAT_desincorporate_national_institute_industry	
		x = -1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_slashed_tax_rates

		}
	}
	
	focus = { 
		id = CAT_redevelop_barcelona
		icon = focus_develop_odisha_mines
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_fuck_taxes_atte_friedman
		}
		relative_position_id = CAT_fuck_taxes_atte_friedman	
		x = -1
		y = 1
		completion_reward = {

			165 = {
				add_building_construction = {
					type = industrial_complex
					level = 4
				}
				add_building_construction = {
					type = arms_factory
					level = 2
				}
				add_extra_state_shared_building_slots = 6
			}

		}
	}
	
	focus = { 
		id = CAT_expand_tarragona_harbour
		icon = docks
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redevelop_barcelona
		}
		relative_position_id = CAT_redevelop_barcelona	
		x = -1
		y = 1
		completion_reward = {
			165 = {
				add_building_construction = {
					type = dockyard
					level = 4
				}
				add_building_construction = {
					type = naval_base
					level = 2
				}
				add_extra_state_shared_building_slots = 4
			}


		}
	}
	
	focus = { 
		id = CAT_sell_off_railways
		icon = train
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_expand_tarragona_harbour
		}
		relative_position_id = CAT_expand_tarragona_harbour	
		x = 0
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_cat_sold_state_railway
				days = 600
			}
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
		}
	}
	
	focus = { 
		id = CAT_austrian_backpack
		icon = austria_hungary
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redevelop_barcelona
		}
		relative_position_id = CAT_redevelop_barcelona	
		x = 1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_austrian_backpack

		}
	}
	
	focus = { 
		id = CAT_selective_welfare
		icon = welfare_statism
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_austrian_backpack
		}
		relative_position_id = CAT_austrian_backpack	
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_austrian_backpack
				add_idea = idea_cat_selective_welfare
			}

		}
	}
	
	focus = { 
		id = CAT_unions_more_like_disunions
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_selective_welfare
		}
		prerequisite = {
			focus = CAT_sell_off_railways
		}
		relative_position_id = CAT_sell_off_railways	
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_restricted_unions
			}

		}
	}
	
	focus = { 
		id = CAT_livin_in_a_market_paradise
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_unions_more_like_disunions
		}
		relative_position_id = CAT_unions_more_like_disunions	
		x = 0
		y = 1
		completion_reward = {
		add_ideas = idea_cat_market_paradise
		every_country = {
				limit = {
					OR = {
						has_government = nationalist
						has_government = national_conservative
						has_government = liberal
						has_government = centrist
						has_government = new_democrat
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = trade_influence_1
				}
			}

		}
	}
	
	focus = { 
		id = CAT_embrace_post_nationalism
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_reject_post_nationalism_as_cringe
		}
		prerequisite = {
			focus = CAT_national_conservative_path
		}
		relative_position_id = CAT_national_conservative_path	
		x = 2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			add_popularity = {
				ideology = communist
				popularity = -0.05
			}
		}
	}
	
	focus = { 
		id = CAT_reject_post_nationalism_as_cringe
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_embrace_post_nationalism
		}
		prerequisite = {
			focus = CAT_national_conservative_path
		}
		relative_position_id = CAT_national_conservative_path	
		x = 4
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = 0.10
			}
		}
	}
	
	focus = { 
		id = CAT_enshine_bilinguism
		icon = SPR_codify_regional_autonomy
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_embrace_post_nationalism
			focus = CAT_reject_post_nationalism_as_cringe
		}
		relative_position_id = CAT_reject_post_nationalism_as_cringe	
		x = -1
		y = 1
		completion_reward = {
			add_ideas = idea_cat_official_billingualism
		}
	}
	
#	focus = { 
#		id = CAT_sell_your_soul_to_libs
#		icon = focus_ideology_liberal
#		cost = 3
#		available = {
#			NOT = {has_government = nationalist}
#			NOT = {
#				has_completed_focus = CAT_sell_your_soul_to_francoists
#			}
#		}
#		bypass = {
#		}
#		prerequisite = {
#			focus = CAT_enshine_bilinguism
#		}
#		relative_position_id = CAT_enshine_bilinguism	
#		x = -3
#		y = 1
#		completion_reward = {
#			add_popularity = {
#				ideology = centrist
#				popularity = 0.1
#			}
#			add_stability = 0.05
#		}
#	}
	
	focus = { 
		id = CAT_municipal_reform
		icon = peace_money_development
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_enshine_bilinguism
		}
		relative_position_id = CAT_enshine_bilinguism	
		x = -1	
		y = 1
		completion_reward = {

			every_owned_state = {
				add_extra_state_shared_building_slots = 4
			}

		}
	}
	
	focus = { 
		id = CAT_inclusive_catalonia
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_enshine_bilinguism
		}
		relative_position_id = CAT_enshine_bilinguism	
		x = 1	
		y = 1
		completion_reward = {
			swap_ideas = {
			remove_idea = idea_cat_official_billingualism
			add_idea = idea_cat_official_billingualism_two
			}
		}
	}
	
#	focus = { 
#		id = CAT_sell_your_soul_to_francoists
#		icon = SPR_francoists_the_new_spanish_state_secured
#		cost = 3
#		available = {
#			NOT = {has_government = nationalist}
#			NOT = {
#				has_completed_focus = CAT_sell_your_soul_to_libs
#			}
#		}
#		bypass = {
#		}
#		prerequisite = {
#			focus = CAT_enshine_bilinguism
#		}
#		relative_position_id = CAT_enshine_bilinguism	
#		x = 3
#		y = 1
#		completion_reward = {
#			add_popularity = {
#				ideology = nationalist
#				popularity = 0.10
#			}
#		}
#	}
	
	focus = { 
		id = CAT_transparent_government
		icon = focus_enforce_1990_constitution
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_municipal_reform
		}
		relative_position_id = CAT_municipal_reform	
		x = 0
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_state_broadcasting_comapny
		icon = CAT_state_broadcast
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_transparent_government
		}
		relative_position_id = CAT_transparent_government	
		x = 0
		y = 1
		completion_reward = {

			add_ideas = idea_cat_cbs

		}
	}
	
	focus = { 
		id = CAT_dont_keep_fascist_cops
		icon = police_action_plan
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_keep_fascist_cops
		}
		prerequisite = {
			focus = CAT_inclusive_catalonia
		}
		relative_position_id = CAT_inclusive_catalonia	
		x = 0
		y = 1
		completion_reward = {
		if = {
		limit = {
		has_country_flag = CAT_dealt_with_nats
		}
		add_popularity = {
		ideology = nationalist
		popularity = 0.15
			}
		swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_francoist_law_enforcement_botched_reform
			}
		}
		else_if = {
		limit = {
		has_country_flag = CAT_dealt_with_libs
			}
		swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_francoist_law_enforcement_liberal
			}
		add_popularity = {
		ideology = national_conservative
		popularity = -0.05
			}
		}
		else = {
		custom_effect_tooltip = cat_no_coalition
		}
		}
	}
	
	focus = { 
		id = CAT_keep_fascist_cops
		icon = paramilitary_brigades
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_dont_keep_fascist_cops
		}
		prerequisite = {
			focus = CAT_inclusive_catalonia
		}
		relative_position_id = CAT_inclusive_catalonia	
		x = 2
		y = 1
		completion_reward = {
		if = {
		limit = {
		has_country_flag = CAT_dealt_with_libs
		}
		swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_francoist_law_enforcement_botched_reform
			}
					add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
		}
		else_if = {
		limit = {
		has_country_flag = CAT_dealt_with_nats
			}
		swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement
				add_idea = idea_cat_francoist_law_enforcement_2
			}
			add_popularity = {
			ideology = nationalist
			popularity = 0.15
			}
		}
		else = {
		custom_effect_tooltip = cat_no_coalition
		}
			add_field_marshal_role = {
				Character = CAT_pedro_garrido_general
				traits={ career_officer old_guard brilliant_strategist harsh_leader skilled_staffer expert_delegator organisational_leader offensive_doctrine }
				skill=4
				attack_skill=5
				defense_skill=4
				planning_skill=5
				logistics_skill=2
			}
			add_field_marshal_role = {
				Character = CAT_Angel_Gonzalo
				traits={ career_officer inflexible_strategist trait_cautious defensive_doctrine }
				skill=3
				attack_skill=2
				defense_skill=4
				planning_skill=3
				logistics_skill=3
			}
			add_naval_commander_role = {
				Character = CAT_J_Reina
				traits={ old_guard_navy gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Jose_Luis_Tovar
				traits={ organizer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Pizarro
				traits={ trickster infantry_officer trait_reckless }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Daniel_Baena
				traits={ trait_cautious brilliant_strategist armor_officer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Alfonso_Casado
				traits={ career_officer engineer_officer trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Jordi_Verger
				traits={ organizer adaptable harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=3
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Francisco_Barreiro
				traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=4
				logistics_skill=2
			}
		}
	}
	
	focus = { 
		id = CAT_seek_open_spanish_border
		icon = spain
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_keep_fascist_cops
			focus = CAT_dont_keep_fascist_cops
		}
		relative_position_id = CAT_dont_keep_fascist_cops	
		x = 0
		y = 1
		completion_reward = {
			if = {
				limit = { 
					SPR = {exists = yes}
				}
				SPR = {
					country_event = {
						
						id  = cat_diplo.8
                         days = 3
					}

				}
			}

			else = {
				
				SPN = {
					country_event = {
						
						id  = cat_diplo.8
                         days = 3
					}

				}
			}

		}
	}
	
	focus = { 
		id = CAT_electoral_reform
		icon = focus_syria_local_elections
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_seek_open_spanish_border
			focus = CAT_state_broadcasting_comapny
		}
		relative_position_id = CAT_seek_open_spanish_border	
		x = -1	
		y = 1
		completion_reward = {

			add_popularity = {
				ideology = centrist
				popularity = 0.03
			}
			add_popularity = {
				ideology = liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = new_democrat
				popularity = 0.03
			}
			add_popularity = {
				ideology = national_bolshevik
				popularity = 0.03
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.03
			}
			add_political_power = 100

		}
	}
	
	focus = { 
		id = CAT_legal_weed
		icon = legalise_cannabis
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_electoral_reform
		}
		relative_position_id = CAT_electoral_reform	
		x = -1	
		y = 1
		completion_reward = {

			add_ideas = idea_glr_cannabis

		}
	}
	
	focus = { #colonel soll sucks ass long live bludia -rob!
		id = CAT_catalonia_our_homeland
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_electoral_reform
		}
		relative_position_id = CAT_electoral_reform	
		x = 1	
		y = 1
		completion_reward = {

			add_ideas = idea_cat_catalonia_our_homeland

		}
	}
	
	focus = {
		id = CAT_long_live_cnt_fai
		icon = long_live_CNT_FAI_focus
		cost = 3
		available = {
			has_country_flag = cat_cnt_fai_coup
		}
		bypass = {
		}
		relative_position_id = CAT_first_elections
		x = 31
		y = 0
		completion_reward = {

		}
	}
	
	focus = { #purge leninists
		id = CAT_kronstadt_revenge
		icon = CAT_kronstadt_revenge
		cost = 3
		available = {
			NOT = { has_government = nationalist }
			has_war = no 
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_long_live_cnt_fai
		}
		relative_position_id = CAT_long_live_cnt_fai
		x = -2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = -0.1
			}
			country_event = cat.52
		}
	}
	
	focus = { #offer to liberals
		id = CAT_offer_to_liberals
		icon = minority_rights
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			has_war = no 
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_long_live_cnt_fai
		}
		relative_position_id = CAT_long_live_cnt_fai
		x = 0
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = new_democrat
				popularity = 0.1
			}
			country_event = cat.54
		}
	}
	
	focus = { #agaisnt francoism
		id = CAT_return_of_Ddrruti 
		icon = anti_fascist
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			has_war = no 
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_long_live_cnt_fai
		}
		relative_position_id = CAT_long_live_cnt_fai
		x = 2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = nationalist
				popularity = -0.1
			}
			country_event = cat.53

		}
	}
	
	focus = { 
		id = CAT_redemption_thourgh_reconstruccion
		icon = forceful_treaty
		cost = 5
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_return_of_Ddrruti
		}
		prerequisite = {
			focus = CAT_kronstadt_revenge
		}
		prerequisite = {
			focus = CAT_offer_to_liberals
		}
		relative_position_id = CAT_offer_to_liberals
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_redemption_though_reconstruction
			random_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			country_event = {
				id = cat.163
			}
		}
	}
	
	focus = { 
		id = CAT_reign_in_anti_clericalism
		icon = abolish_state_atheism
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redemption_thourgh_reconstruccion
		}
		relative_position_id = CAT_redemption_thourgh_reconstruccion
		x = -3
		y = 1
		completion_reward = {
			country_event = cat.55

		}
	}
	
	focus = { 
		id = CAT_civil_code_goodbye
		icon = GFX_female_liberation
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reign_in_anti_clericalism
		}
		relative_position_id = CAT_reign_in_anti_clericalism
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {idea_cat_abolished_civil_code}
			country_event = {
				id = cat.165
			}
		}
	}
	
	focus = { 
		id = CAT_reestablish_mujeres_libres
		icon = new_soviet_woman
		cost = 8
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_civil_code_goodbye
		}
		relative_position_id = CAT_civil_code_goodbye
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_abolished_civil_code
				add_idea = idea_cat_abolished_civil_code2
			}
			country_event = cat.59
		}
	}
	
	focus = { 
		id = CAT_reject_nationalist_tendencies
		icon = GFX_friends_of_the_world_revolution
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reestablish_mujeres_libres
		}
		relative_position_id = CAT_reestablish_mujeres_libres
		x = -1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = national_bolshevik
				popularity = -0.1
			}
			add_popularity = {
				ideology = communist
				popularity = -0.1
			}
			add_popularity = {
				ideology = liberal
				popularity = -0.1
			}
			country_event = cat.61

		}
	}
	
	focus = { 
		id = CAT_down_with_homework
		icon = scientific_exchange
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reestablish_mujeres_libres
		}
		relative_position_id = CAT_reestablish_mujeres_libres
		x = 1
		y = 1
		completion_reward = {
			country_event = cat.60
			add_ideas = idea_cat_free_schooling

		}
	}
	
	focus = { 
		id = CAT_justice_for_the_opressed
		icon = focus_freedom_of_demonstration
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redemption_thourgh_reconstruccion
		}
		relative_position_id = CAT_redemption_thourgh_reconstruccion
		x = 0
		y = 1
		completion_reward = {
			country_event = cat.56

		}
	}
	
	focus = { 
		id = CAT_all_power_to_the_fededations
		icon = focus_socialist_propaganda
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_justice_for_the_opressed
		}
		relative_position_id = CAT_justice_for_the_opressed
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_2
			}
		}
	}
	
	focus = { 
		id = CAT_end_all_opression
		icon = SPR_the_bastion_of_true_socialism
		cost = 4
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_justice_for_the_opressed
		}
		relative_position_id = CAT_justice_for_the_opressed
		x = 1
		y = 1
		completion_reward = {
			remove_ideas = idea_cat_francoist_law_enforcement
			country_event = cat.58

		}
	}
	
	focus = { 
		id = CAT_consensus_democracy
		icon = glasnost
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_all_power_to_the_fededations
		}
		relative_position_id = CAT_all_power_to_the_fededations
		x = 0
		y = 1
		completion_reward = {
			add_ideas = idea_cat_consensus_democracy

		}
	}
	
	focus = { 
		id = CAT_develop_militias
		icon = revolutionary_militia_focus
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_all_opression
		}
		relative_position_id = CAT_end_all_opression
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_confederal_millitias
			}
			division_template = {
				name = "Revolutionary Militia"
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 0 y = 3 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 1 y = 3 }
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"Revolutionary Militia\" division_template = \"Revolutionary Militia\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Revolutionary Militia\" division_template = \"Revolutionary Militia\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Revolutionary Militia\" division_template = \"Revolutionary Militia\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = ROOT
				}
			}
		}
	}
	
	focus = { 
		id = CAT_affirm_plenary_assembly
		icon = focus_reorganise_trade_councils
		cost = 4
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_consensus_democracy
		}
		prerequisite = {
			focus = CAT_develop_militias
		}
		relative_position_id = CAT_develop_militias
		x = -1
		y = 1
		completion_reward = {
			add_political_power = 100
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy
				add_idea = idea_cat_consensus_democracy2
			}
		}
	}
	
	focus = { 
		id = CAT_handle_expropiations
		icon = focus_seize_the_means
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_redemption_thourgh_reconstruccion
		}
		relative_position_id = CAT_redemption_thourgh_reconstruccion
		x = 3
		y = 1
		completion_reward = {

			country_event = cat.57

		}
	}
	
	focus = { 
		id = CAT_enshine_autogestion
		icon = support_workers
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_handle_expropiations
		}
		relative_position_id = CAT_handle_expropiations
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {idea_apc_workers_self_management}
			country_event = {
				id = cat.164
			}
		}
	}
	
	focus = { 
		id = CAT_support_industial_federations
		icon = socialist_industry_generic
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_enshine_autogestion
		}
		relative_position_id = CAT_enshine_autogestion
		x = 0
		y = 1
		completion_reward = {
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	
	focus = { 
		id = CAT_national_mutual_aid
		icon = aid_to_the_community
		cost = 6
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_support_industial_federations
		}
		relative_position_id = CAT_support_industial_federations
		x = -1
		y = 1
		completion_reward = {

			add_ideas = idea_cat_mutual_aid

		}
	}
	
	focus = { 
		id = CAT_produce_for_human_needs
		icon = focus_humanity_for_all
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_support_industial_federations
		}
		relative_position_id = CAT_support_industial_federations
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {idea_cat_producing_for_human_needs}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.1
			}
		}
	}
	
	focus = { 
		id = CAT_pass_revolutrionary_programme
		icon = left_wing_win
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		allow_branch = {
			NOT = {
				has_country_flag = cat_fall_of_anarchy
			}
		}
		prerequisite = {
			focus = CAT_produce_for_human_needs
		}
		prerequisite = {
			focus = CAT_reject_nationalist_tendencies
		}
		prerequisite = {
			focus = CAT_down_with_homework
		}
		prerequisite = {
			focus = CAT_national_mutual_aid
		}
		prerequisite = {
			focus = CAT_affirm_plenary_assembly
		}
		relative_position_id = CAT_affirm_plenary_assembly
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_iberian_revolutionary_program
			}
			set_country_flag = cnt_fai_irp
			add_research_slot = 1
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = BSQ
						is_core_of = GAL
						is_core_of = POR
						is_core_of = ATA
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = CCM
					}
				}
				add_claim_by = ROOT
			}
			hidden_effect = {
				country_event = {
					id = cat.62
					days = 400
				}
			}
			hidden_effect = {
				country_event = {
					id = cat.94
					days = 350
				}
			}
			hidden_effect = {
				add_ideas = {
					idea_SPR_hidden_ideas_to_make_spain_make_more_divisions_but_fucking_titanic
				}
			}

		}
	}
	
	focus = { 
		id = CAT_direct_the_federations
		icon = galician_gun
		cost = 8
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_pass_revolutrionary_programme
		}
		relative_position_id = CAT_pass_revolutrionary_programme
		x = -2
		y = 1
		completion_reward = {
			every_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 3
				}
				add_extra_state_shared_building_slots = 4
			}

		}
	}
	
	focus = { #get free towels
		id = CAT_free_portugal
		icon = portugal_attack
		cost = 3
		available = {
			is_neighbor_of = POR
		}
		bypass = {
			AND = {
				owns_state = 180
				owns_state = 181
				owns_state = 112
				owns_state = 179
				owns_state = 697
				owns_state = 698
			}
		}
		prerequisite = {
			focus = CAT_direct_the_federations
			focus = CAT_marginalise_counter_revolutionary_sentiments
			focus = CAT_all_must_do_their_part
		}
		relative_position_id = CAT_direct_the_federations
		x = -1
		y = 1
		completion_reward = {
			if = {
				limit = { 
					POR = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = POR
					transfer_troops = yes
				}
			}
			if = {
				limit = { 
					POR = {
						NOT = {
							is_puppet_of = ROOT
						}
						is_in_faction_with = ROOT
					}
				}
				POR = {
					country_event = {
						id = cat_diplo.181
					}
				}
			}
			if = {
				limit = {
					AND = {
						NOT = {
							POR = {
								is_puppet_of = ROOT
							}
						}
						NOT = {
							POR = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				declare_war_on = {
					target = POR
					type = annex_everything
				}
			}
		}
	}
	
	focus = { 
		id = CAT_all_must_do_their_part
		icon = arm_workers
		cost = 8
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_pass_revolutrionary_programme
		}
		relative_position_id = CAT_pass_revolutrionary_programme
		x = 0
		y = 1
		completion_reward = {
			add_ideas = war_economy
			add_ideas = extensive_conscription
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 20000
			}


		}
	}
	
	focus = { 
		id = CAT_marginalise_counter_revolutionary_sentiments
		icon = unknown
		cost = 4
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_pass_revolutrionary_programme
		}
		relative_position_id = CAT_pass_revolutrionary_programme
		x = 2
		y = 1
		completion_reward = {
			add_war_support = 0.1
			add_political_power = 150
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			country_event = {
				id = cat.128
			}
		}
	}
	
	focus = { 
		id = CAT_liberate_castillans
		icon = SPR_attack_communist
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
			AND ={
				owns_state = 166
				owns_state = 176
				owns_state = 174
				owns_state = 928
				owns_state = 1019
				owns_state = 167
				owns_state = 177
				owns_state = 41
				owns_state = 170
				owns_state = 175
				owns_state = 168
				owns_state = 173
				owns_state = 169
				owns_state = 177
				owns_state = 178
				owns_state = 921
				owns_state = 931
			}
		}
		prerequisite = {
			focus = CAT_direct_the_federations
			focus = CAT_marginalise_counter_revolutionary_sentiments
			focus = CAT_all_must_do_their_part
		}
		relative_position_id = CAT_all_must_do_their_part
		x = -1
		y = 1
		completion_reward = {
			if = {
				limit = { 
					SPR = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = SPR
					transfer_troops = yes
				}
			}
			ELSE_IF = {
				limit = {
					SPR = {
						OR = {
							has_country_leader_ideology = syndicalism
							has_country_leader_ideology = orthodox_leninist
							has_country_leader_ideology = christian_communism
						}
					}
				}
				SPR = {
					country_event = {
						id = cat_diplo.68
					}
				}
			}
			ELSE_IF = {
				limit = {
					SPR = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
				SPR = {
					country_event = {
						id = cat_diplo.71
					}
				}
			}
			ELSE_IF = {
				limit = { 
					country_exists = SPR
				}
				declare_war_on = {
					target = SPR
					type = annex_everything
				}
			}
			if = {
				limit = { 
					SPN = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = SPN
					transfer_troops = yes
				}
			}
			ELSE_IF = {
				limit = {
					SPN = {
						OR = {
							has_country_leader_ideology = syndicalism
							has_country_leader_ideology = orthodox_leninist
							has_country_leader_ideology = christian_communism
						}
					}
				}
				SPN = {
					country_event = {
						id = cat_diplo.68
					}
				}
			}
			ELSE_IF = {
				limit = {
					SPN = {
						has_country_leader_ideology = anarcho_syndicalism
					}
				}
				SPN = {
					country_event = {
						id = cat_diplo.71
					}
				}
			}
			ELSE_IF = {
				limit = { 
					country_exists = SPN
				}
				declare_war_on = {
					target = SPN
					type = annex_everything
				}
			}
			if = {
				limit = { 
					CAI = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = CAI
					transfer_troops = yes
				}
			}
			else_if = {
				limit = { 
					country_exists = CAI
				}
				declare_war_on = {
					target = CAI
					type = annex_everything
				}
			}
			if = {
				limit = { 
					ALU = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = ALU
					transfer_troops = yes
				}
			}
			else_if = {
				limit = { 
					country_exists = ALU
				}
				declare_war_on = {
					target = ALU
					type = annex_everything
				}
			}
			if = {
				limit = { 
					ATA = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = ATA
					transfer_troops = yes
				}
			}
			else_if = {
				limit = { 
					country_exists = ATA
				}
				declare_war_on = {
					target = ATA
					type = annex_everything
				}
			}
		}
	}
	
	focus = { #https://www.google.com/search?client=firefox-b-d&q=receta+paella+gallega
		id = CAT_collectivize_paellas
		icon = GAL_attack_communist
		cost = 3
		available = {
			is_neighbor_of = GAL
		}
		bypass = {
			owns_state = 171
		}
		prerequisite = {
			focus = CAT_direct_the_federations
			focus = CAT_marginalise_counter_revolutionary_sentiments
			focus = CAT_all_must_do_their_part
		}
		relative_position_id = CAT_all_must_do_their_part
		x = 1
		y = 1
		completion_reward = {
			if = {
				limit = { 
					GAL = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = GAL
					transfer_troops = yes
				}
			}
			if = {
				limit = { 
					GAL = {
						NOT = {
							is_puppet_of = ROOT
						}
						is_in_faction_with = ROOT
					}
				}
				GAL = {
					country_event = {
						id = cat_diplo.187
					}
				}
			}
			if = {
				limit = {
					AND = {
						NOT = {
							GAL = {
								is_puppet_of = ROOT
							}
						}
						NOT = {
							GAL = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				declare_war_on = {
					target = GAL
					type = annex_everything
				}
			}
		}
	}
	
	focus = { 
		id = CAT_emancipate_the_basque
		icon = BSQ_attack_communist
		cost = 3
		available = {
			is_neighbor_of = BSQ
		}
		bypass = {
			AND = {
				owns_state = 1020
				owns_state = 172
			}
		}
		prerequisite = {
			focus = CAT_marginalise_counter_revolutionary_sentiments
			focus = CAT_all_must_do_their_part
			focus = CAT_direct_the_federations
		}
		relative_position_id = CAT_all_must_do_their_part
		x = 3
		y = 1
		completion_reward = {
			if = {
				limit = { 
					BSQ = {
						is_puppet_of = ROOT
					}
				}
				annex_country = {
					target = BSQ
					transfer_troops = yes
				}
			}
			if = {
				limit = { 
					BSQ = {
						NOT = {
							is_puppet_of = ROOT
						}
						is_in_faction_with = ROOT
					}
				}
				BSQ = {
					country_event = {
						id = cat_diplo.184
					}
				}
			}
			if = {
				limit = {
					AND = {
						NOT = {
							BSQ = {
								is_puppet_of = ROOT
							}
						}
						NOT = {
							BSQ = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				declare_war_on = {
					target = BSQ
					type = annex_everything
				}
			}
		}
	}
	
	focus = { 
		id = CAT_madre_anarquia
		icon = unknown
		cost = 3
		available = {
			owns_state = 41
			owns_state = 112
			owns_state = 171
			owns_state = 1020
		}
		bypass = {
		}
	
		prerequisite = {
			focus = CAT_emancipate_the_basque
			}
		prerequisite = {
			focus = CAT_free_portugal
			}
		prerequisite = {
			focus = CAT_liberate_castillans
			}
		prerequisite = {
			focus = CAT_collectivize_paellas
		}
		relative_position_id = CAT_liberate_castillans
		x = 1
		y = 1
		completion_reward = {
			set_cosmetic_tag = anarchy_iberia
			

		}
	}
	
	focus = { 
		id = CAT_peoples_tribunals
		icon = common_african_judiciary
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_madre_anarquia
		}
		relative_position_id = CAT_madre_anarquia
		x = -1
		y = 1
		completion_reward = {
			country_event = {
				id = cat.125
			}
		}
	}
	
	focus = { 
		id = CAT_extablish_new_federations
		icon = CAT_extablish_new_federations
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_madre_anarquia
		}
		relative_position_id = CAT_madre_anarquia
		x = 1
		y = 1
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = BSQ
						is_core_of = GAL
						is_core_of = POR
						is_core_of = ATA
						is_core_of = CAI
						is_core_of = ALU
						is_core_of = CCM
					}
				}
				add_core_of = ROOT
			}
		}
	}
	
	focus = { 
		id = CAT_liberation_comes_to_iberia
		icon = SPR_no_more_bourgeois_elections
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_peoples_tribunals
		}
		prerequisite = {
			focus = CAT_extablish_new_federations
		}
		relative_position_id = CAT_peoples_tribunals
		x = 1
		y = 1
		completion_reward = {
			country_event = {
				id = cat.119
			}
		}
	}
	focus = { 
		id = CAT_the_renovators
		icon = CAT_renovators
		cost = 3
		available = {
			has_country_flag = cat_renovator_elected_cnt_spokesperson
			has_government = revolutionary_socialist
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_liberation_comes_to_iberia
		}
		relative_position_id = CAT_liberation_comes_to_iberia
		x = 0
		y = 1
		completion_reward = {

		}
	}
	focus = { 
		id = CAT_embrace_non_anarchist_leftists
		icon = CAT_embrace_non_anarchist_leftists
		cost = 5
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_renovators
		}
		relative_position_id = CAT_the_renovators
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy2
				add_idea = idea_cat_consensus_democracy3_renovators
			}
		}
	}
	focus = { 
		id = CAT_standardize_the_chain_of_command
		icon = red_brigades
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_renovators
		}
		relative_position_id = CAT_the_renovators
		x = 2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_confederal_millitias
				add_idea = idea_cat_confederal_millitias_renovators
			}
		}
	}
	focus = { 
		id = CAT_reject_demagogic_vices
		icon = putins_inauguration
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_renovators
		}
		relative_position_id = CAT_the_renovators
		x = -2
		y = 1
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_idea = limited_conscription
					}
				}
				add_ideas = {
					limited_conscription
				}
			}
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program
				add_idea = idea_cat_iberian_revolutionary_program_2_renovators
			}
			set_party_name = {
				ideology = revolutionary_socialist
				long_name = CAT_revsoc_cnt_no_fai_renovators_long
				name = CAT_revsoc_cnt_no_fai_renovators
			}
			set_party_name = {
				ideology = new_democrat
				long_name = CAT_newdem_anarchism_no_fai_long
				name = CAT_newdem_anarchism_no_fai
			}
			country_event = {
				id = cat.126
			}
		}
	}
	focus = { 
		id = CAT_pass_a_fully_proportional_voting_system
		icon = left_wing_win
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reject_demagogic_vices
		}
		prerequisite = {
			focus = CAT_embrace_non_anarchist_leftists
		}
		relative_position_id = CAT_reject_demagogic_vices
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy3_renovators
				add_idea = idea_cat_consensus_democracy4_renovators
			}
			country_event = {
				id = cat.127
			}
		}
	}
	focus = { 
		id = CAT_form_inter_federal_unions
		icon = communist_construction
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_pass_a_fully_proportional_voting_system
		}
		relative_position_id = CAT_pass_a_fully_proportional_voting_system
		x = 0
		y = 1
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			country_event = {
				id = cat.169
			}
		}
	}
	focus = { 
		id = CAT_compulsory_education
		icon = GFX_starscience
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_standardize_the_chain_of_command
		}
		prerequisite = {
			focus = CAT_embrace_non_anarchist_leftists
		}
		relative_position_id = CAT_embrace_non_anarchist_leftists
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_free_schooling
				add_idea = idea_cat_free_schooling_2
			}
		}
	}
	focus = { 
		id = CAT_welcome_foreign_professors
		icon = scientific_exchange
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_compulsory_education
		}
		relative_position_id = CAT_compulsory_education
		x = 0
		y = 1
		completion_reward = {
			add_research_slot = 1
			swap_ideas = {
				remove_idea = idea_cat_free_schooling_2
				add_idea = idea_cat_free_schooling_3
			}
		}
	}
	focus = { 
		id = CAT_the_end_of_anarchist_dictatorship
		icon = focus_reorganise_trade_councils
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_form_inter_federal_unions
		}
		prerequisite = {
			focus = CAT_welcome_foreign_professors
		}
		relative_position_id = CAT_form_inter_federal_unions
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy4_renovators
				add_idea = idea_cat_consensus_democracy5_renovators
			}
		}
	}
	focus = { 
		id = CAT_the_idealists
		icon = CAT_idealists
		cost = 3
		available = {
			has_country_flag = cat_idealist_elected_cnt_spokesperson
			has_government = revolutionary_socialist
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_liberation_comes_to_iberia
		}
		relative_position_id = CAT_liberation_comes_to_iberia
		x = -6
		y = 1
		completion_reward = {

		}
	}
	focus = { 
		id = CAT_revolution_through_peace
		icon = YEM_social_alliance
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_idealists
		}
		relative_position_id = CAT_the_idealists
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program
				add_idea = idea_cat_iberian_revolutionary_program_2_idealists
			}
			IF = {
				limit = {
					NOT = {
						has_idea = volunteer_only
					}
				}
				add_ideas = {
					volunteer_only
				}
			}
			random_owned_state = {
				limit = {
					arms_factory > 0
				}
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				limit = {
					arms_factory > 0
				}
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				limit = {
					arms_factory > 0
				}
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				limit = {
					arms_factory > 0
				}
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				limit = {
					arms_factory > 0
				}
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			country_event = {
				id = cat.166
			}
		}
	}
	focus = { 
		id = CAT_expand_rural_cooperatives
		icon = expand_state_farms
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_revolution_through_peace
		}
		relative_position_id = CAT_revolution_through_peace
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {idea_SPR_farm_collectivization_2}
		}
	}
	focus = { 
		id = CAT_open_our_borders
		icon = SPR_liberal_immigration_reform
		cost = 5
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_revolution_through_peace
		}
		relative_position_id = CAT_revolution_through_peace
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_2_idealists
				add_idea = idea_cat_iberian_revolutionary_program_3_idealists
			}
		}
	}
	focus = { 
		id = CAT_absorb_the_opposition_syndicates
		icon = focus_seize_the_means
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_idealists
		}
		relative_position_id = CAT_the_idealists
		x = 0
		y = 1
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			country_event = {
				id = cat.167
			}
		}
	}
	focus = { 
		id = CAT_devolve_greater_powers_to_local_unions
		icon = encourage_cooperatives
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_absorb_the_opposition_syndicates
		}
		relative_position_id = CAT_absorb_the_opposition_syndicates
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_3_idealists
			}
			country_event = {
				id = cat.168
			}
		}
	}
	focus = { 
		id = CAT_the_end_of_wage_labor
		icon = focus_abolish_wages
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_idealists
		}
		relative_position_id = CAT_the_idealists
		x = 2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_apc_wage_abolition 
			}
		}
	}
	focus = { 
		id = CAT_discourage_reliance_on_currency
		icon = embrace_anti_capitalism
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_end_of_wage_labor
		}
		relative_position_id = CAT_the_end_of_wage_labor
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_spr_moneyless_society_2
			}
		}
	}
	focus = { 
		id = CAT_vindication_for_1937
		icon = CAT_1937_vindicated
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_discourage_reliance_on_currency
		}
		prerequisite = {
			focus = CAT_devolve_greater_powers_to_local_unions
		}
		prerequisite = {
			focus = CAT_expand_rural_cooperatives
		}
		prerequisite = {
			focus = CAT_open_our_borders
		}
		relative_position_id = CAT_devolve_greater_powers_to_local_unions
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_3_idealists
				add_idea = idea_cat_iberian_revolutionary_program_4_idealists
			}
		}
	}
	
	focus = { 
		id = CAT_the_centralisers
		icon = CAT_centralisers
		cost = 3
		available = {
			has_country_flag = cat_centralist_elected_cnt_spokesperson
			has_government = new_democrat
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_liberation_comes_to_iberia
		}
		relative_position_id = CAT_liberation_comes_to_iberia
		x = 5
		y = 1
		completion_reward = {

		}
	}
	focus = { 
		id = CAT_an_olive_branch_to_the_church
		icon = CAT_olive_branch_church
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_centralisers
		}
		relative_position_id = CAT_the_centralisers
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_friendship_with_the_church
			}
			country_event = {
				id = cat.129
			}
		}
	}
	focus = { 
		id = CAT_formalize_law_enforcement
		icon = increase_police_funding
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_an_olive_branch_to_the_church
		}
		relative_position_id = CAT_an_olive_branch_to_the_church
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_anarchist_newdem_cops
			}
			country_event = {
				id = cat.132
			}
		}
	}
	focus = { 
		id = CAT_strengthen_the_confederal_plenary_assembly
		icon = establish_nationalisation_ministry
		cost = 5
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_centralisers
		}
		relative_position_id = CAT_the_centralisers
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy2
				add_idea = idea_cat_consensus_democracy3_centralisers
			}
			country_event = {
				id = cat.130
			}
		}
	}
	focus = { 
		id = CAT_disarm_civilian_populations
		icon = CAT_disarm_civilian_populations
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_strengthen_the_confederal_plenary_assembly
		}
		relative_position_id = CAT_strengthen_the_confederal_plenary_assembly
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program
				add_idea = idea_cat_iberian_revolutionary_program_2_centralisers
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 55000
			}
			random_owned_state = {
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				remove_building = {
					type = arms_factory
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	focus = { 
		id = CAT_reign_in_fai_radicalism
		icon = unknown
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_strengthen_the_confederal_plenary_assembly
		}
		relative_position_id = CAT_strengthen_the_confederal_plenary_assembly
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy3_centralisers
				add_idea = idea_cat_consensus_democracy4_centralisers
			}
			set_party_name = {
				ideology = new_democrat
				long_name = CAT_newdem_anarchism_no_fai_no_faction_long
				name = CAT_newdem_anarchism_no_fai_no_faction
			}
			set_party_name = {
				ideology = revolutionary_socialist
				long_name = CAT_revsoc_cnt_still_with_the_fai_long
				name = CAT_revsoc_cnt_still_with_the_fai
			}
			country_event = {
				id = cat.131
			}
		}
	}
	focus = { 
		id = CAT_a_new_mutual_aid
		icon = welfare_statism
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reign_in_fai_radicalism
		}
		relative_position_id = CAT_reign_in_fai_radicalism
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_mutual_aid
				add_idea = idea_cat_mutual_aid_2
			}
		}
	}
	focus = { 
		id = CAT_reform_the_militia_system
		icon = crush_militias
		cost = 10
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_disarm_civilian_populations
		}
		prerequisite = {
			focus = CAT_formalize_law_enforcement
		}
		relative_position_id = CAT_disarm_civilian_populations
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_confederal_millitias
				add_idea = idea_cat_confederal_millitias_centralisers
			}
		}
	}
	focus = { 
		id = CAT_a_stable_anarchy
		icon = focus_american_peace_act
		cost = 7.2
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_reform_the_militia_system
		}
		prerequisite = {
			focus = CAT_a_new_mutual_aid
		}
		relative_position_id = CAT_reform_the_militia_system
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_3_centralisers
			}
		}
	}
	
	focus = { 
		id = CAT_european_revolution
		icon = CAT_the_european_revolution
		cost = 3
		available = {
			has_country_flag = cat_puigdemont_retained_power
		}
		bypass = {
		}	
		relative_position_id = CAT_long_live_cnt_fai
		x = 13
		y = 0
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_coopt_anarchists
		icon = focus_reorganise_trade_councils
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
			has_war = no 
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_european_revolution
		}
		mutually_exclusive = {
		focus = CAT_control_labour
		}
		relative_position_id = CAT_european_revolution
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = communist
				popularity = 0.05
			}
			country_event = {
				id = cat.134
			}
			custom_effect_tooltip = cat_this_will_anger_the_hardliners
			add_to_variable = { 
				cat_hardliner_anger = 1 
			}
		}
	}
	
	focus = { 
		id = CAT_control_labour
		icon = glasnost
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			has_war = no 
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_european_revolution
		}
		mutually_exclusive = {
		focus = CAT_coopt_anarchists
		}
		relative_position_id = CAT_european_revolution
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry
				add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.1
			}
			country_event = {
				id = cat.135
			}
		}
	}
	
	focus = { 
		id = CAT_the_perpignan_conference
		icon = CAT_the_perpignan_conference
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			FRA = {
				has_government = communist
			}
		}
		bypass = {
			NOT = {
				FRA = {
					has_government = communist
				}
			}
		}
		prerequisite = {
			focus = CAT_control_labour
			focus = CAT_coopt_anarchists
		}
		relative_position_id = CAT_coopt_anarchists
		x = 1
		y = 1
		completion_reward = {
			country_event = {
				id = cat_diplo.14
			}
			FRA = {
				country_event = {
					id = cat_diplo.14
				}
			}
		}
	}
	
	focus = { 
		id = CAT_join_eu
		icon = european_union
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			OR = {
				GER = {
					has_idea = idea_eu_member
				}
				ITA = {
					has_idea = idea_eu_member
				}
				FRA = {
					has_idea = idea_eu_member
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_perpignan_conference
		}
		relative_position_id = CAT_the_perpignan_conference
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					ITA = {
						has_completed_focus = ITA_unite_the_eu
					}
				}
				ITA = {
					country_event = {
						id = cat_diplo.11
					}
				}
			}
			ELSE_IF = {
				limit = {
					NOT = {
						ITA = {
							has_completed_focus = ITA_unite_the_eu
						}
					}
				}
				add_ideas = {
					idea_eu_member
				}
				hidden_effect = {
					news_event = {
						id = cat_news.1
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_make_co_ops
		icon = collectivist_focus
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_join_eu
		}
		relative_position_id = CAT_join_eu
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_2
				}
			}
			country_event = {
				id = cat.144
			}
		}
	}
	
	focus = { 
		id = CAT_build_upon_foundations
		icon = CAT_build_upon_foundations
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_join_eu
		}
		relative_position_id = CAT_join_eu
		x = -3
		y = 1
		completion_reward = {
			country_event = {
				id = cat.140
			}
		}
	}
	
	focus = { 
		id = CAT_sam_catalan_kolkhoz
		icon = collectivize_state_farms
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_build_upon_foundations
		}
		prerequisite = {
			focus = CAT_make_co_ops
		}
		relative_position_id = CAT_make_co_ops
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_SPR_rural_cooperation
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_invest_seat
		icon = CAT_invest_seat
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_build_upon_foundations
		}
		prerequisite = {
			focus = CAT_make_co_ops
		}
		relative_position_id = CAT_build_upon_foundations
		x = -1
		y = 1
		completion_reward = {
		    165 = {
			    add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			country_event = {
				id = cat.146
			}
		}
	}
	
	focus = { 
		id = CAT_invite_ruhr_experts
		icon = corporate_alliance
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			country_exists = GER
		}
		bypass = {
			OR = {
				NOT = {
					GER = {
						has_idea = idea_eu_member
					}
				}
				NOT = {
					country_exists = GER
				}
			}
		}
		prerequisite = {
			focus = CAT_invest_seat
		}
		relative_position_id = CAT_invest_seat
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_2
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_3
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_2
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_3
				}
			}
			country_event = {
				id = cat.147
			}
		}
	}
	
	focus = { 
		id = CAT_bloster_export_economy
		icon = focus_socialist_trading_network
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_sam_catalan_kolkhoz
		}
		relative_position_id = CAT_sam_catalan_kolkhoz
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_catalan_export_economy
			}
		}
	}
	
	focus = { 
		id = CAT_cuban_healthcare_rip
		icon = treatment_facilities
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_sam_catalan_kolkhoz
		}
		relative_position_id = CAT_sam_catalan_kolkhoz
		x = 2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_universal_healthcare
			}
		}
	}
	
	focus = { 
		id = CAT_soverign_wealth_fund
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_invite_ruhr_experts
		}
		prerequisite = {
			focus = CAT_bloster_export_economy
		}
		relative_position_id = CAT_bloster_export_economy
		x = 0
		y = 1
		completion_reward = {
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = {
				idea_cat_sovereign_wealth_fund
			}
		}
	}
	
	focus = { 
		id = CAT_end_uneyployment
		icon = generic_welfare_focus
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_cuban_healthcare_rip
		}
		relative_position_id = CAT_cuban_healthcare_rip	
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_universal_employment
			}
		}
	}
	
	focus = { 
		id = CAT_question_of_managment
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_soverign_wealth_fund
		}
		prerequisite = {
			focus = CAT_end_uneyployment
		}
		relative_position_id = CAT_soverign_wealth_fund
		x = 1
		y = 1
		completion_reward = {
			country_event = {
				id = cat.142
			}
		}
	}
	
	focus = { 
		id = CAT_national_popular_front
		icon = socialist_youth
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_the_perpignan_conference
		}
		relative_position_id = CAT_the_perpignan_conference
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				add_ideas = {
					idea_cat_national_popular_front_with_anarchists
				}
				country_event = {
					id = cat.136
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				add_ideas = {
					idea_cat_national_popular_front_without_anarchists
				}
				country_event = {
					id = cat.137
				}
			}
		}
	}
	
	focus = { #damm literally 1984 
		id = CAT_ministry_of_public_safety
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_national_popular_front
		}
		relative_position_id = CAT_national_popular_front
		x = -1
		y = 1
		completion_reward = {
			country_event = {
				id = cat.143
			}
		}
	}
	
	focus = { 
		id = CAT_lacite_simple_as
		icon = GFX_a_secular_society
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_ministry_of_public_safety
		}
		relative_position_id = CAT_ministry_of_public_safety
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_SPR_secular_governance
			}
		}
	}
	
	focus = { 
		id = CAT_expunge_francoist_legacy
		icon = tear_down_the_symbols_of_franco
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_lacite_simple_as
		}
		relative_position_id = CAT_lacite_simple_as
		x = 1
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = fascist
				popularity = -0.05
			}
			add_popularity = {
				ideology = nationalist
				popularity = -0.05
			}
			add_political_power = 150
			every_owned_state = {
			    add_extra_state_shared_building_slots = 2
			}
			remove_ideas = idea_cat_francoist_law_enforcement
			country_event = {
				id = cat.149
			}
		}
	}
	
	focus = { 
		id = CAT_empower_greuges
		icon = CAT_empower_greuges
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_expunge_francoist_legacy
		}
		relative_position_id = CAT_expunge_francoist_legacy
		x = 0
		y = 1
		completion_reward = {
			add_stability = 0.05
			add_political_power = 75
			add_popularity = {
				ideology = communist
				popularity = 0.05
			}
			country_event = {
				id = cat.145
			}
		}
	}
	
	focus = { 
		id = CAT_comunal_councils
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_national_popular_front
		}
		relative_position_id = CAT_national_popular_front
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_empowered_comarques
			}
			country_event = {
				id = cat.148
			}
		}
	}
	
	focus = { 
		id = CAT_suffer_not_censorship_supervision
		icon = GFX_reaffirms_universal_suffragge
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_comunal_councils
		}
		mutually_exclusive = {
			focus = CAT_meet_autur_mas
		}
		relative_position_id = CAT_comunal_councils
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists
					add_idea = idea_cat_national_popular_front_with_anarchists_with_liberas_no_censorship
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists
					add_idea = idea_cat_national_popular_front_without_anarchists_with_liberals_no_censorship
				}
			}
			country_event = {
				id = cat.139
			}
			custom_effect_tooltip = cat_we_will_get_access_to_national_front_ministers
			custom_effect_tooltip = cat_this_will_anger_the_hardliners
			add_to_variable = { 
				cat_hardliner_anger = 1 
			}
		}
	}
	
	focus = { 
		id = CAT_meet_autur_mas
		icon = CAT_meet_autur_mas
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_comunal_councils
		}
		mutually_exclusive = {
			focus = CAT_suffer_not_censorship_supervision
		}
		relative_position_id = CAT_comunal_councils
		x = 2
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists
					add_idea = idea_cat_national_popular_front_with_anarchists_with_liberas
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists
					add_idea = idea_cat_national_popular_front_without_anarchists_with_liberals
				}
			}
			country_event = {
				id = cat.138
			}
		}
	}
	
	focus = { 
		id = CAT_abolish_francoist_code
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_suffer_not_censorship_supervision
			focus = CAT_meet_autur_mas
		}
		relative_position_id = CAT_suffer_not_censorship_supervision
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_abolished_civil_code
			}
		}
	}
	
	focus = { 
		id = CAT_establish_refedenda_culture
		icon = left_wing_win
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_abolish_francoist_code
		}
		relative_position_id = CAT_abolish_francoist_code
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_referenda_culture
			}
		}
	}
	
	focus = { 
		id = CAT_weld_communism_with_catalanism
		icon = generic_communism_focus
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_empower_greuges
		}
		prerequisite = {
			focus = CAT_establish_refedenda_culture
		}
		relative_position_id = CAT_establish_refedenda_culture
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_a_communist_national_identity
			}
		}
	}
	
	focus = { 
		id = CAT_keep_funni_catalan_man
		icon = miracles_of_spanish_communism
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			NOT = {
				has_country_flag = cat_hardliners_in_power
			}
		}
		bypass = {
			has_country_flag = cat_puigdemont_in_power
		}
		prerequisite = {
			focus = CAT_question_of_managment
		}
		prerequisite = {
			focus = CAT_weld_communism_with_catalanism
		}
		mutually_exclusive = {
		focus =  CAT_dont_keep_funni_catalan_man
		}
		relative_position_id = CAT_weld_communism_with_catalanism
		x = -1
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_end_party_leading_Role
		icon = unknown
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_keep_funni_catalan_man
		}
		relative_position_id = CAT_keep_funni_catalan_man
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					AND = {
						NOT = {
							has_completed_focus = CAT_control_labour
						}
						NOT = {
							has_completed_focus = CAT_coopt_anarchists
						}
						NOT = {
							has_completed_focus = CAT_suffer_not_censorship_supervision
						}
						NOT = {
							has_completed_focus = CAT_meet_autur_mas
						}
					}
				}
				add_ideas = {
					idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists_with_liberas
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists_with_liberas
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists_with_liberals
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists_with_liberals
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists_with_liberas_no_censorship
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists_with_liberas_no_censorship
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists_with_liberals_no_censorship
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists_with_liberals_no_censorship
					add_idea = idea_cat_national_popular_front_equal
				}
			}
			country_event = {
				id = cat.150
			}
		}
	}
	
	focus = { 
		id = CAT_work_independepent_unions
		icon = industry_generic_focus
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_party_leading_Role
		}
		relative_position_id = CAT_end_party_leading_Role
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4alt
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				country_event = {
					id = cat.152
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				country_event = {
					id = cat.151
				}
			}
		}
	}
	
	focus = { 
		id = CAT_market_socialism
		icon = embrace_market_socialism
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_work_independepent_unions
		}
		relative_position_id = CAT_work_independepent_unions
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				free_trade
			}
			IF = {
				limit = {
					has_country_flag = cat_flag_mixed_economy
				}
				swap_ideas = {
					remove_idea = idea_cat_mixed_economy
					add_idea = idea_cat_mixed_economy_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_country_flag = cat_flag_mixed_economy
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_planned_economy
					add_idea = idea_cat_mixed_economy_2
				}
			}
			add_offsite_building = {
				type = industrial_complex
				level = 2
			}
		}
	}
	
	focus = { 
		id = CAT_freedom_over_loyalty
		icon = democracy
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_party_leading_Role
		}
		relative_position_id = CAT_end_party_leading_Role
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_national_popular_front_equal
				add_idea = idea_cat_national_popular_front_equal_2
			}
		}
	}
	
	focus = { 
		id = CAT_elect_president
		icon = putins_inauguration
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_freedom_over_loyalty
		}
		relative_position_id = CAT_freedom_over_loyalty
		x = 0
		y = 1
		completion_reward = {
			add_political_power = 200
			add_stability = 0.1
			custom_effect_tooltip = cat_we_will_have_elections_every_four_years
			hidden_effect = {
				country_event = {
					id = cat.258
					days = 12
				}
			}
		}
	}
	
	focus = { 
		id = CAT_dont_keep_funni_catalan_man
		icon = socialism_focus
		cost = 3
		available = {
			NOT = {has_government = nationalist}
			has_country_flag = cat_hardliners_in_power
		}
		bypass = {
			has_country_flag = cat_hardliners_in_power
		}
		prerequisite = {
			focus = CAT_question_of_managment
		}
		prerequisite = {
			focus = CAT_weld_communism_with_catalanism
		}
		mutually_exclusive = {
		focus =  CAT_keep_funni_catalan_man
		}
		relative_position_id = CAT_weld_communism_with_catalanism
		x = -3
		y = 1
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_centralize_economy
		icon = socialist_industry_generic
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_dont_keep_funni_catalan_man
		}
		relative_position_id = CAT_dont_keep_funni_catalan_man
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_apc_workers_self_management
				}
				swap_ideas = {
					remove_idea = idea_apc_workers_self_management
					add_idea = idea_cat_technocratic_rule
				}
			}
			IF = {
				limit = {
					has_country_flag = cat_flag_mixed_economy
				}
				swap_ideas = {
					remove_idea = idea_cat_mixed_economy
					add_idea = idea_cat_planned_economy_2
				}
			}
			IF = {
				limit = {
					NOT = {
						has_country_flag = cat_flag_mixed_economy
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_planned_economy
					add_idea = idea_cat_planned_economy_2
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_unify_national_popular_front
		icon = accomodate_the_hardliners
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_centralize_economy
		}
		relative_position_id = CAT_centralize_economy
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					AND = {
						NOT = {
							has_completed_focus = CAT_control_labour
						}
						NOT = {
							has_completed_focus = CAT_coopt_anarchists
						}
						NOT = {
							has_completed_focus = CAT_suffer_not_censorship_supervision
						}
						NOT = {
							has_completed_focus = CAT_meet_autur_mas
						}
					}
				}
				add_ideas = {
					idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists_with_liberas
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists_with_liberas
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists_with_liberals
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists_with_liberals
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_with_anarchists_with_liberas_no_censorship
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_with_anarchists_with_liberas_no_censorship
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = idea_cat_national_popular_front_without_anarchists_with_liberals_no_censorship
				}
				swap_ideas = {
					remove_idea = idea_cat_national_popular_front_without_anarchists_with_liberals_no_censorship
					add_idea = idea_cat_national_popular_front_consolidated
				}
			}
		}
	}
	
	focus = { #IM THE SENATE -palpatine
		id = CAT_empower_the_council
		icon = communism_2
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_unify_national_popular_front
		}
		relative_position_id = CAT_unify_national_popular_front
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_empowered_executive_council
			}
		}
	}
	
	focus = { 
		id = CAT_develop_industry
		icon = communist_construction
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_centralize_economy
		}
		relative_position_id = CAT_centralize_economy
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_completed_focus = CAT_coopt_anarchists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_4
				}
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_coopt_anarchists
					}
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_4
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		    random_owned_state = {
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_ecology
		icon = GER_green_revolution_program
		cost = 3
		available = {
			NOT = {has_government = nationalist}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_develop_industry
		}
		relative_position_id = CAT_develop_industry
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_4
				add_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_5
			}
		}
	}
	
	focus = { 
		id = CAT_end_national_experiment
		icon = national_experiment_over_focus2
		cost = 3
		available = {
			has_country_flag = cat_the_civil_guard_seized_power
		}
		bypass = {
		}
		relative_position_id = CAT_european_revolution
		x = 11
		y = 0
		completion_reward = {

		}
	}
	
	focus = { 
		id = CAT_a_new_reaction
		icon = threaten_socialists
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_national_experiment
		}
		relative_position_id = CAT_end_national_experiment
		x = -2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = liberal
				popularity = -0.05
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.05
			}
			add_popularity = {
				ideology = national_bolshevik
				popularity = -0.05
			}
		}
	}
	
	focus = { 
		id = CAT_the_guardia_civil_strikes_back
		icon = CAT_the_guardia_civil_strikes_back
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_national_experiment
		}
		relative_position_id = CAT_end_national_experiment
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_cat_francoist_law_enforcement
				}
				swap_ideas = {
					remove_idea = idea_cat_francoist_law_enforcement
					add_idea = idea_cat_francoist_law_enforcement_nationalists_take_over
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_francoist_law_enforcement_2
				}
				swap_ideas = {
					remove_idea = idea_cat_francoist_law_enforcement_2
					add_idea = idea_cat_francoist_law_enforcement_nationalists_take_over
				}
			}
			add_naval_commander_role = {
				Character = CAT_J_Reina
				traits={ old_guard_navy gentlemanly }
				skill=2
				attack_skill=2
				defense_skill=2
				maneuvering_skill=2
				coordination_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Jose_Luis_Tovar
				traits={ organizer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=3
				logistics_skill=3
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Pizarro
				traits={ trickster infantry_officer trait_reckless }
				skill=2
				attack_skill=3
				defense_skill=2
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Daniel_Baena
				traits={ trait_cautious brilliant_strategist armor_officer }
				skill=1
				attack_skill=2
				defense_skill=1
				planning_skill=1
				logistics_skill=1
			}
			add_corps_commander_role = {
				Character = CAT_Pedro_Alfonso_Casado
				traits={ career_officer engineer_officer trait_cautious }
				skill=2
				attack_skill=2
				defense_skill=3
				planning_skill=2
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Jordi_Verger
				traits={ organizer adaptable harsh_leader }
				skill=2
				attack_skill=3
				defense_skill=3
				planning_skill=1
				logistics_skill=2
			}
			add_corps_commander_role = {
				Character = CAT_Francisco_Barreiro
				traits={ old_guard politically_connected trait_cautious harsh_leader infantry_officer infantry_leader }
				skill=3
				attack_skill=4
				defense_skill=3
				planning_skill=4
				logistics_skill=2
			}
		}
	}
	
	focus = { 
		id = CAT_return_of_order
		icon = CAT_return_of_order
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_end_national_experiment
		}
		relative_position_id = CAT_end_national_experiment
		x = 2
		y = 1
		completion_reward = {
			add_popularity = {
				ideology = communist
				popularity = -0.1
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = -0.05
			}
		}
	}
	
	focus = { 
		id = CAT_outlaw_separatist_parties
		icon = CSD_ban_socialism
		cost = 3
		available = {		
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_a_new_reaction
		}
		prerequisite = {
			focus = CAT_return_of_order
		}
		prerequisite = {
			focus = CAT_the_guardia_civil_strikes_back
		}
		relative_position_id = CAT_the_guardia_civil_strikes_back
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_francoist_law_enforcement_nationalists_take_over
				add_idea = idea_cat_francoist_law_enforcement_nationalists_take_over_2
			}
		}
	}
	
	focus = { 
		id = CAT_return_stolen_property
		icon = CSD_shady_af
		cost = 3
		available = {		
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_a_new_reaction
		}
		prerequisite = {
			focus = CAT_return_of_order
		}
		prerequisite = {
			focus = CAT_the_guardia_civil_strikes_back
		}
		relative_position_id = CAT_the_guardia_civil_strikes_back
		x = 1
		y = 1
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			add_timed_idea = {
				idea = idea_cat_return_of_stolen_stuff
				days = 365
			}
		}
	}
	
	focus = { 
		id = CAT_encurage_spanish_inmigration
		icon = SPR_liberal_immigration_reform
		cost = 3
		available = {		
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_outlaw_separatist_parties
		}
		relative_position_id = CAT_outlaw_separatist_parties
		x = -2
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_cat_influx_of_spaniards
				days = 140
			}
			IF = {
				limit = {
					country_exists = SPR
					SPR = {
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
							has_government = moderate_socialist
						}
					}
				}
				SPR = {
					country_event = {
						id = cat.153
					}
					add_timed_idea = {
						idea = idea_cat_emigration_to_catalonia
						days = 140
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
					SPN = {
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
							has_government = moderate_socialist
						}
					}
				}
				SPN = {
					country_event = {
						id = cat.153
					}
					add_timed_idea = {
						idea = idea_cat_emigration_to_catalonia
						days = 140
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPR
					SPR = {
						OR = {
							has_government = monarchist
							has_government = fascist
							has_government = nationalist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
							has_government = new_democrat
						}
					}
				}
				SPR = {
					country_event = {
						id = cat.154
					}
					add_timed_idea = {
						idea = idea_cat_emigration_to_catalonia
						days = 140
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
					SPN = {
						OR = {
							has_government = monarchist
							has_government = fascist
							has_government = nationalist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
							has_government = new_democrat
						}
					}
				}
				SPN = {
					country_event = {
						id = cat.154
					}
					add_timed_idea = {
						idea = idea_cat_emigration_to_catalonia
						days = 140
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_christian_charity
		icon = focus_fund_christian_charities
		cost = 3
		available = {			
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_encurage_spanish_inmigration
		}
		relative_position_id = CAT_encurage_spanish_inmigration
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_church_charity
			}
		}
	}
	
	focus = { 
		id = CAT_empower_president
		icon = demand
		cost = 3
		available = {			
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_return_stolen_property
		}
		prerequisite = {
			focus = CAT_outlaw_separatist_parties
		}
		relative_position_id = CAT_return_stolen_property
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_power_to_the_president_nationalists
			}
		}
	}
	
	focus = { 
		id = CAT_remember_the_old_costitution
		icon = focus_enforce_1990_constitution
		cost = 3
		available = {		
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_empower_president
		}
		relative_position_id = CAT_empower_president
		x = -1
		y = 1
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 150
			add_popularity = {
				ideology = nationalist
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
			country_event = {
				id = cat.157
			}
		}
	}
	
	focus = { 
		id = CAT_linguistic_homogenisation
		icon = SPR_spain_for_spaniards
		cost = 10
		available = {
		}
		select_effect = {
			add_ideas = {
				idea_cat_linguistic_homogenization
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_christian_charity
		}
		prerequisite = {
			focus = CAT_remember_the_old_costitution
		}
		relative_position_id = CAT_remember_the_old_costitution
		x = -2
		y = 1
		completion_reward = {
			custom_effect_tooltip = CAT_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = idea_cat_linguistic_homogenization
			}
			custom_effect_tooltip = CAT_focus_complete_effect_tt
			swap_ideas = {
				remove_idea = idea_cat_linguistic_homogenization
				add_idea = idea_cat_linguistic_unity
			}	
		}
	}
	
	focus = { 
		id = CAT_privatize_war_industry
		icon = industry_2
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_return_stolen_property
		}
		relative_position_id = CAT_return_stolen_property
		x = 2
		y = 1
		completion_reward = {
			add_offsite_building = {
				type = arms_factory
				level = 4
			}
		}
	}
	
	focus = { #tory gang
		id = CAT_crush_labour
		icon = unknown
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_privatize_war_industry
		}
		relative_position_id = CAT_privatize_war_industry
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_2
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_2
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_3_centrists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_3_centrists
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_3_centralisers
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_3_centralisers
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_3_idealists
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_3_idealists
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_3_trots
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_3_trots
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_modsoc
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_modsoc
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_moderate
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_moderate
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_3_nazis
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_3_nazis
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_4_nazis
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_4_nazis
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_2
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_2
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_2
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_2
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_3
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4alt
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_like_anarkiddies_4alt
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_3
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_3
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_4
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_4
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			IF = {
				limit = {
					has_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_5
				}
				swap_ideas = {
					remove_idea = idea_cat_beating_heart_of_iberian_industry_commies_that_dont_like_anarkiddies_5
					add_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				}
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.1
			}
		}
	}
	
	focus = { 
		id = CAT_invest_loyalist_regions
		icon = industry_generic_focus
		cost = 10
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_privatize_war_industry
		}
		relative_position_id = CAT_privatize_war_industry
		x = 1
		y = 1
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_protect_national_industry
		icon = industry_paper
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_crush_labour
		}
		prerequisite = {
			focus = CAT_invest_loyalist_regions
		}
		relative_position_id = CAT_crush_labour
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				limited_exports
			}
			add_ideas = {
				war_economy
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_rejoin_spain
		icon = a_sensible_spain
		cost = 3
		available = {
			NOT = {
				SPR = {
					has_war_with = SPN
				}
			}
			OR = {
				AND = {
					country_exists = SPR
					SPR = {
						OR = {
							has_government = monarchist
							has_government = nationalist
							has_government = fascist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
							has_government = new_democrat
						}
					}
				}
				AND = {
					country_exists = SPN
					SPN = {
						OR = {
							has_government = monarchist
							has_government = nationalist
							has_government = fascist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
							has_government = new_democrat
						}
					}
				}
			}
		}
		bypass = {
		}
		mutually_exclusive = {
		focus = CAT_make_spain_rejoin_us
		}
		prerequisite = {
			focus = CAT_protect_national_industry
		}
		prerequisite = {
			focus = CAT_linguistic_homogenisation
		}
		relative_position_id = CAT_linguistic_homogenisation
		x = 1
		y = 1
		completion_reward = {
		    IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					change_tag_from = CAT
				}
				SPR = {
					annex_country = {
						target = CAT
						transfer_troops = yes
					}
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_core_of = SPR
				}
				SPR = {
					country_event = {
						id = cat.155
					}
				}
			}
		    IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					change_tag_from = CAT
				}
				SPN = {
					annex_country = {
						target = CAT
						transfer_troops = yes
					}
				}
				every_state = {
					limit = {
						is_core_of = CAT
					}
					add_core_of = SPN
				}
				SPN = {
					country_event = {
						id = cat.155
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_make_spain_rejoin_us
		icon = SPR_nat_reunite_spain
		cost = 3
		available = {
			NOT = {
				SPR = {
					has_war_with = SPN
				}
			}
			OR = {
				AND = {
					country_exists = SPR
					SPR = {
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
							has_government = moderate_socialist
						}
					}
				}
				AND = {
					country_exists = SPN
					SPN = {
						OR = {
							has_government = communist
							has_government = revolutionary_socialist
							has_government = moderate_socialist
						}
					}
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_protect_national_industry
		}
		mutually_exclusive = {
		focus = CAT_rejoin_spain
		}
		prerequisite = {
			focus = CAT_linguistic_homogenisation
		}
		relative_position_id = CAT_protect_national_industry
		x = -1
		y = 1
		completion_reward = {
		    IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					country_event = {
						id = cat.156
					}
				}
			}
		    IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					country_event = {
						id = cat.156
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = ATA
						is_core_of = BSQ
						is_core_of = ALU
						is_core_of = CAI
						is_core_of = ANA
					}
				}
				add_claim_by = ROOT
			}
		}
	}
	
	focus = { 
		id = CAT_democracy_with_pp_characteristics
		icon = the_saviours_of_francos_legacy
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_make_spain_rejoin_us
		}
		relative_position_id = CAT_make_spain_rejoin_us
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_natural_democracy
			}
			add_ideas = {
				extensive_conscription
			}
		}
	}
	
	focus = { #wololo
		id = CAT_unite_spain_again
		icon = SPR_liberal_recentralize_spain
		cost = 3
		available = {
			has_army_manpower = {
				size > 100000
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_democracy_with_pp_characteristics
		}
		relative_position_id = CAT_democracy_with_pp_characteristics
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				create_wargoal = {
					type = annex_everything
					target = SPR
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				create_wargoal = {
					type = annex_everything
					target = SPN
				}
			}
		}
	}
	
	focus = { 
		id = CAT_beat_the_basque
		icon = BSQ_attack_communist
		cost = 3
		available = {
		}
		bypass = {
			AND = {
				owns_state = 1020
				owns_state = 172
				NOT = {
					country_exists = BSQ
				}
			}
		}
		prerequisite = {
			focus = CAT_unite_spain_again
		}
		relative_position_id = CAT_unite_spain_again
		x = -1
		y = 1
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BSQ
			}
		}
	}
	
	focus = { 
		id = CAT_galicia_moment
		icon = GAL_attack_communist
		cost = 3
		available = {
		}
		bypass = {
			AND = {
				NOT = {
					country_exists = GAL
				}
				owns_state = 171
			}
		}
		prerequisite = {
			focus = CAT_beat_the_basque
		}
		relative_position_id = CAT_beat_the_basque
		x = -0
		y = 1
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = GAL
			}
		}
	}
	
	focus = { 
		id = CAT_rif_war_two
		icon = unknown
		cost = 3
		available = {
			has_completed_focus = CAT_spain_cannot_be_divided
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_galicia_moment
		}
		relative_position_id = CAT_galicia_moment
		x = -0
		y = 1
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = MOR
			}
			every_state = {
				limit = {
					is_core_of = MOR
				}
				add_claim_by = ROOT
			}
		}
	}
	focus = { 
		id = CAT_rif_war_two_two
		icon = unknown
		cost = 3
		available = {
			NOT = {
				country_exists = MOR
			}
			owns_state = 290
			owns_state = 461
			owns_state = 462
			owns_state = 882
			owns_state = 699
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_rif_war_two
		}
		relative_position_id = CAT_rif_war_two
		x = 0
		y = 1
		completion_reward = {
			release_puppet = MOR
			ROOT = {
				transfer_state = 290
				transfer_state = 699
				transfer_state = 882
			}
			290 = {
				add_core_of = ROOT
			}
			MOR = {
				set_cosmetic_tag = spr_protectorate_of_morocco
				set_politics = {
					ruling_party = monarchist
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
				}
				add_popularity = {
					ideology = monarchist
					popularity = 0.25
				}
				MOR_Moulay_Ismail = {
					add_country_leader_role = {
						promote_leader = yes		
						country_leader={
							ideology=absolute_monarchist
							expire="1.1.1.1"
							id=-1
						}
					}
				}
			}
			hidden_effect = {
				461 = {
					remove_claim_by = ROOT
				}
				462 = {
					remove_claim_by = ROOT
				}
			}
		}
	}
	
	focus = { 
		id = CAT_room_loyalist_parties
		icon = allow_nobility_in_parliament
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_democracy_with_pp_characteristics
		}
		relative_position_id = CAT_democracy_with_pp_characteristics
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_loyalist_coalition
			}
		}
	}
	
	focus = { 
		id = CAT_make_the_french_pay_for_wall
		icon = construct_military
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_room_loyalist_parties
		}
		relative_position_id = CAT_room_loyalist_parties
		x = -1
		y = 1
		completion_reward = {
			every_owned_state = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_bring_national_catholicism_back
		icon = for_god_and_king
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_make_the_french_pay_for_wall
		}
		relative_position_id = CAT_make_the_french_pay_for_wall
		x = -0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_spr_revitalized_church
			}
		}
	}
	
	focus = { 
		id = CAT_return_of_the_king
		icon = CAT_return_of_the_king
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_room_loyalist_parties
		}
		relative_position_id = CAT_room_loyalist_parties
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_loyalist_coalition
				add_idea = idea_cat_loyalist_coalition_2
			}
			add_popularity = {
				ideology = monarchist
				popularity = 0.1
			}
			set_cosmetic_tag = cat_principality_of_catalonia
			country_event = {
				id = cat.158
			}
		}
	}
	
	focus = { 
		id = CAT_army_rightful_place
		icon = side_with_the_military
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_return_of_the_king
		}
		relative_position_id = CAT_return_of_the_king
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_SPR_military_with_a_state
			}
		}
	}
	
	focus = { 
		id = CAT_spain_cannot_be_divided
		icon = live_up_to_the_name_one_spain
		cost = 3
		available = {
			owns_state = 41
			owns_state = 172
			owns_state = 171
			has_completed_focus = CAT_unite_spain_again
			has_completed_focus = CAT_beat_the_basque
			has_completed_focus = CAT_galicia_moment
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_army_rightful_place
		}
		prerequisite = {
			focus = CAT_bring_national_catholicism_back
		}
		relative_position_id = CAT_army_rightful_place
		x = -1
		y = 1
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SPR
						is_core_of = SPN
						is_core_of = GAL
						is_core_of = ATA
						is_core_of = BSQ
						is_core_of = ALU
						is_core_of = CAI
						is_core_of = ANA
					}
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					NOT = {
						has_country_flag = cat_carlist_catalonia
					}
				}
				set_cosmetic_tag = SPR
			}
			IF = {
				limit = {
					has_country_flag = cat_carlist_catalonia
				}
				set_cosmetic_tag = SPR_carlism
			}
			set_capital = {state = 41}
		}
	}
	
	focus = { 
		id = CAT_new_economic_micracle
		icon = peace_money_development
		cost = 3
		available = {
			has_completed_focus = CAT_spain_cannot_be_divided
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_democracy_with_pp_characteristics
		}
		relative_position_id = CAT_democracy_with_pp_characteristics
		x = 3
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_non_revsoc
				add_idea = idea_cat_beating_heart_of_iberian_industry_nationalist
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_opus_dei_legacy_tno
		icon = unknown
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_new_economic_micracle
		}
		relative_position_id = CAT_new_economic_micracle
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_nationalist
				add_idea = idea_cat_beating_heart_of_iberian_industry_nationalist_2
			}
		}
	}
	
	focus = { 
		id = CAT_expand_technical_universities
		icon = focus_trade_council_influence
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_opus_dei_legacy_tno
		}
		relative_position_id = CAT_opus_dei_legacy_tno
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_nationalist_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_nationalist_3
			}
			add_research_slot = 1
		}
	}
	
	focus = { 
		id = CAT_expand_national_infraestructure
		icon = roads
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_opus_dei_legacy_tno
		}
		relative_position_id = CAT_opus_dei_legacy_tno
		x = 2
		y = 1
		completion_reward = {
		    every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = { 
		id = CAT_modernise_national_institute
		icon = torch_industry
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_expand_technical_universities
		}
		prerequisite = {
			focus = CAT_expand_national_infraestructure
		}
		relative_position_id = CAT_expand_technical_universities
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_national_institute_of_industry
			}
		}
	}
	
	focus = { 
		id = CAT_improve_poor_states
		icon = deliver_the_land_to_the_farmers
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_expand_technical_universities
		}
		prerequisite = {
			focus = CAT_expand_national_infraestructure
		}
		relative_position_id = CAT_expand_national_infraestructure
		x = -1
		y = 1
		completion_reward = {
			170 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			169 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			173 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			178 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			175 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			IF = {
				limit = {
					owns_state = 921
				}
				921 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 931
				}
				931 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = { 
		id = CAT_hemos_pasado
		icon = celebrate_salvation_day
		cost = 3
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = CAT_improve_poor_states
		}
		prerequisite = {
			focus = CAT_rif_war_two
		}
		prerequisite = {
			focus = CAT_spain_cannot_be_divided
		}
		prerequisite = {
			focus = CAT_modernise_national_institute
		}
		relative_position_id = CAT_spain_cannot_be_divided
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_spains_glory_restored
			}
		}
	}


	#post anarchy stuff

	focus = {
		id = cat_fall_of_anarchy
		icon = CAT_fall_of_anarchism
		cost = 2
		allow_branch = {
			has_country_flag = cat_fall_of_anarchy
		}
		
		relative_position_id = CAT_affirm_plenary_assembly

		x = 0
		y = 1
		completion_reward = {
			
		}
	}


	focus = {
		id = cat_la_aurora_shines
		icon = fourth_international
		cost = 3

		available = {
			has_government = revolutionary_socialist
		}

		allow_branch = {
         has_country_flag = cat_la_auroras
		}

		mutually_exclusive = {
			focus = cat_return_of_christian_democrats
			focus = cat_revolution_of_spirit
		}
		prerequisite = {
			focus = cat_fall_of_anarchy
		}
		relative_position_id = cat_fall_of_anarchy
		
		x = 0
		y = 1
		completion_reward = {
			
		}
	}

	focus = {
		id = cat_purge_the_fai
		icon = GFX_integrate_the_militaries
		cost = 7.2

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_la_aurora_shines
		}
		
		relative_position_id = cat_la_aurora_shines
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program
				add_idea = idea_cat_iberian_revolutionary_program_2_trots
			}
			IF = {
				limit = {
					has_idea = war_economy
				}
				swap_ideas = {
					remove_idea = war_economy
					add_idea = low_economic_mobilisation
				}
			}
			country_event = {
				id = cat.133
			}
		}
	}

	focus = {
		id = cat_strengthen_the_executive
		icon = a_cabinet_of_the_partys_best
		cost = 5

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_purge_the_fai
		}
		
		relative_position_id = cat_purge_the_fai
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy2
				add_idea = idea_cat_consensus_democracy3_trots
			}
		}
	}

	focus = {
		id = cat_rebuild_barcelona
		icon = caliphate_build_up
		cost = 7.2

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_purge_the_fai
		}
		
		relative_position_id = cat_purge_the_fai
		x = 1
		y = 1
		completion_reward = {
			165 = {
				set_building_level = {
					type = infrastructure
					level = 10
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = idea_cat_trot_reconstruction
				days = 180
			}
		}
	}

	focus = {
		id = cat_form_a_broad_leftist_coalition
		icon = left_wing_win
		cost = 5

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_strengthen_the_executive
		}
		
		relative_position_id = cat_strengthen_the_executive
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy3_trots
				add_idea = idea_cat_consensus_democracy4_trots
			}			
		}
	}

	focus = {
		id = cat_from_rev_millitia_to_red_army
		icon = cat_from_rev_millitia_to_red_army
		cost = 10

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_strengthen_the_executive
		}
		
		relative_position_id = cat_strengthen_the_executive
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_confederal_millitias
				add_idea = idea_cat_confederal_millitias_trots
			}		
		}
	}

	focus = {
		id = cat_align_opposition_syndicates
		icon = SPR_no_more_bourgeois_elections
		cost = 10

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_rebuild_barcelona
		}
		
		relative_position_id = cat_rebuild_barcelona
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_3_trots
			}
			add_offsite_building = {
				type = industrial_complex
				level = 2
			}			
		}
	}

	focus = {
		id = cat_rehabilitate_the_cnt
		icon = arm_workers
		cost = 8

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_align_opposition_syndicates
		}
		
		relative_position_id = cat_align_opposition_syndicates
		x = 0
		y = 2
		completion_reward = {
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 177
				}
				177 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			IF = {
				limit = {
					owns_state = 167
				}
				167 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}			
		}
	}

	focus = {
		id = cat_reign_in_revolutionary_excess
		icon = threaten_socialists
		cost = 10

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_rebuild_barcelona
		}
		prerequisite = {
			focus = cat_from_rev_millitia_to_red_army
		}
		
		relative_position_id = cat_rebuild_barcelona
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_2_trots
				add_idea = idea_cat_iberian_revolutionary_program_3_trots
			}
			custom_effect_tooltip = CAT_this_will_unlock_fopo
		}
	}

	focus = {
		id = cat_democratic_centralism
		icon = leningrad_conference
		cost = 5

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_form_a_broad_leftist_coalition
		}
		prerequisite = {
			focus = cat_from_rev_millitia_to_red_army
		}
		
		relative_position_id = cat_form_a_broad_leftist_coalition
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy4_trots
				add_idea = idea_cat_consensus_democracy5_trots
			}			
		}
	}

	focus = {
		id = cat_preserve_the_social_revolution
		icon = communists_marching
		cost = 7.2

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_democratic_centralism
		}
		prerequisite = {
			focus = cat_reign_in_revolutionary_excess
		}
		
		relative_position_id = cat_democratic_centralism
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_abolished_civil_code2
				add_idea = idea_cat_abolished_civil_code3_trots
			}			
		}
	}

	focus = {
		id = cat_streamline_colectivisation
		icon = socialist_industry_generic
		cost = 7.2

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_democratic_centralism
		}
		prerequisite = {
			focus = cat_reign_in_revolutionary_excess
		}
		
		relative_position_id = cat_democratic_centralism
		x = 1
		y = 1
		completion_reward = {
			add_timed_idea = {
				idea = idea_cat_catalan_five_year_plan
				days = 1826
			}			
		}
	}

	focus = {
		id = cat_permanent_revolution
		icon = miracles_of_spanish_communism
		cost = 7.2

		available = {
			has_government = revolutionary_socialist
		}

		

		prerequisite = {
			focus = cat_preserve_the_social_revolution
		}
		prerequisite = {
			focus = cat_streamline_colectivisation
		}
		prerequisite = {
			focus = cat_rehabilitate_the_cnt
		}
		
		relative_position_id = cat_streamline_colectivisation
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_3_trots
				add_idea = idea_cat_iberian_revolutionary_program_4_trots
			}			
		}
	}

	


	focus = {
		id = cat_return_of_christian_democrats
		icon = democracy
		cost = 3

		available = {
			has_government = centrist
		}

		allow_branch = {
			has_country_flag = cat_christdem
		}

		mutually_exclusive = {
			focus = cat_la_aurora_shines
			focus = cat_revolution_of_spirit
		}

		prerequisite = {
			focus = cat_fall_of_anarchy
		}
		relative_position_id = cat_fall_of_anarchy
		x = 0
		y = 1
		
		completion_reward = {
			remove_ideas = {
				idea_cat_iberian_revolutionary_program
				idea_cat_mutual_aid
				idea_cat_redemption_though_reconstruction
			}
		}
	}

	focus = {
		id = cat_restore_parlimentary_power
		icon = council_advisors
		cost = 5

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_return_of_christian_democrats
		}
		
		relative_position_id = cat_return_of_christian_democrats
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy2
				add_idea = idea_cat_parliamentary_democracy
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.05
			}
			country_event = {
				id = cat.255
			}
		}
	}

	focus = {
		id = cat_strengthen_the_presidency
		icon = from_sheikhs_to_ceo
		cost = 5

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_return_of_christian_democrats
		}
		
		relative_position_id = cat_return_of_christian_democrats
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_power_to_the_president
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.10
			}
			custom_effect_tooltip = CAT_this_will_unlock_fopo
		}
	}

	focus = {
		id = cat_trial_of_the_revolutionaries
		icon = threaten_socialists
		cost = 10

		available = {
			has_government = centrist
		}

		prerequisite = {
			focus = cat_restore_parlimentary_power
		}
		prerequisite = {
			focus = cat_strengthen_the_presidency
		}
		
		relative_position_id = cat_restore_parlimentary_power
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_abolished_civil_code2
				add_idea = idea_cat_abolished_civil_code3_centrists
			}
			swap_ideas = {
				remove_idea = idea_cat_confederal_millitias
				add_idea = idea_cat_confederal_millitias_centrists
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.10
			}
		}
	}

	focus = {
		id = cat_enact_enviormental_policies
		icon = GER_green_revolution_program
		cost = 7.2

		available = {
			has_government = centrist
		}

		prerequisite = {
			focus = cat_restore_parlimentary_power
		}
		prerequisite = {
			focus = cat_strengthen_the_presidency
		}
		
		relative_position_id = cat_restore_parlimentary_power
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_environmentalism
			}
		}
	}

	
	focus = {
		id = cat_rebuild_to_greatness
		icon = cat_rebuild_to_greatness
		cost = 7.2

		available = {
			has_government = centrist
		}

		prerequisite = {
			focus = cat_restore_parlimentary_power
		}
		prerequisite = {
			focus = cat_strengthen_the_presidency
		}
		
		relative_position_id = cat_strengthen_the_presidency
		x = 1
		y = 1
		completion_reward = {
			165 = {
				set_building_level = {
					type = infrastructure
					level = 10
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = idea_cat_trot_reconstruction
				days = 180
			}
			IF = {
				limit = {
					has_idea = war_economy
				}
				swap_ideas = {
					remove_idea = war_economy
					add_idea = low_economic_mobilisation
				}
			}
		}
	}

	
	focus = {
		id = cat_sponsor_cathotic_recovery
		icon = soften_church_traditions
		cost = 7.2

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_restore_parlimentary_power
		}
		
		relative_position_id = cat_restore_parlimentary_power
		x = 0
		y = 2
		completion_reward = {
			add_ideas = {
				idea_cat_friendship_with_the_church_centrist
			}
		}
	}

	
	focus = {
		id = cat_modest_welfare_state
		icon = welfare_statism
		cost = 7.2

		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = cat_enact_enviormental_policies
		}
		prerequisite = {
			focus = cat_sponsor_cathotic_recovery
		}
		
		relative_position_id = cat_enact_enviormental_policies
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_mutual_aid
				add_idea = idea_cat_mutual_aid_centrist
			}
		}
	}

	focus = {
		id = cat_encourage_liberal_parties
		icon = information_campaign_generic
		cost = 5

		available = {
			has_government = centrist
		}
		
		prerequisite = {
			focus = cat_trial_of_the_revolutionaries
		}
		
		relative_position_id = cat_trial_of_the_revolutionaries
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_parliamentary_democracy
				add_idea = idea_cat_parliamentary_democracy_2
			}
			add_popularity = {
				ideology = moderate_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = liberal
				popularity = 0.05
			}
			add_popularity = {
				ideology = centrist
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_conservative
				popularity = 0.05
			}
			country_event = {
				id = cat.256
			}
		}
	}

	focus = {
		id = cat_privatize_heart
		icon = power_to_the_corporations
		cost = 10

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_rebuild_to_greatness
		}
		
		relative_position_id = cat_rebuild_to_greatness
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_3_centrists
			}	
		}
	}

	focus = {
		id = cat_break_organized_labour
		icon = focus_showcase_public_opinion
		cost = 8

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_rebuild_to_greatness
		}
		
		relative_position_id = cat_rebuild_to_greatness
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_apc_workers_self_management
				add_idea = idea_cat_capitalist_reconstruction
			}
		}
	}

	focus = {
		id = cat_seek_foreign_investment
		icon = lucrative_investment
		cost = 10

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_privatize_heart
		}
		prerequisite = {
			focus = cat_break_organized_labour
		}
		
		relative_position_id = cat_privatize_heart
		x = 1
		y = 1
		completion_reward = {
			hidden_effect = {
				every_country = {
					limit = {
						AND = {
							has_opinion = {
								target = CAT
								value > 80
							}
							NOT = {
								has_government = revolutionary_socialist
							}
							NOT = {
								has_government = communist
							}
							NOT = {
								has_government = national_bolshevik
							}
							NOT = {
								has_government = moderate_socialist
							}
						}
					}
					country_event = cat_diplo.7
				}
			}
			custom_effect_tooltip = cat_investments_tip
			swap_ideas = {
				remove_idea = idea_cat_producing_for_human_needs
				add_idea = idea_cat_producing_for_profit
			}
		}
	}

	focus = {
		id = cat_free_from_anarchist_opression
		icon = CAN_fopo_pm_trudeau
		cost = 7.2

		available = {
			has_government = centrist
		}

		

		prerequisite = {
			focus = cat_modest_welfare_state
		}
		prerequisite = {
			focus = cat_encourage_liberal_parties
		}
		prerequisite = {
			focus = cat_seek_foreign_investment
		}
		
		relative_position_id = cat_encourage_liberal_parties
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_parliamentary_democracy_2
				add_idea = idea_cat_parliamentary_democracy_3
			}
			hidden_effect = {
				country_event = {
					id = cat.257
					days = 100
				}
			}
		}
	}




	focus = {
		id = cat_revolution_of_spirit
		icon = fascism_3
		cost = 3

		available = {
			has_government = national_bolshevik
		}

		allow_branch = {
			has_country_flag = cat_nazis
		}

		mutually_exclusive = {
			focus = cat_return_of_christian_democrats
			focus = cat_la_aurora_shines
		}

		prerequisite = {
			focus = cat_fall_of_anarchy
		}
		
		relative_position_id = cat_fall_of_anarchy
		x = 0
		y = 1
		completion_reward = {
			
		}
	}

	focus = {
		id = cat_root_out_anarchist_poisoners
		icon = threaten_socialists
		cost = 6

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_revolution_of_spirit
		}
		
		relative_position_id = cat_revolution_of_spirit
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_consensus_democracy2
				add_idea = idea_cat_dictatorship_nazis
			}
			remove_ideas = {
				idea_cat_mutual_aid
			}
			remove_ideas = {
				idea_cat_redemption_though_reconstruction
			}
			add_popularity = {
				ideology = revolutionary_socialist
				popularity = -0.15
			}
		}
	}

	focus = {
		id = cat_end_religion
		icon = cat_end_religion
		cost = 8

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_revolution_of_spirit
		}
		
		relative_position_id = cat_revolution_of_spirit
		x = 2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_faith_pure_of_consumption
			}
		}
	}

	focus = {
		id = cat_nationalize_unions
		icon = GFX_seize_more_assets
		cost = 10

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_revolution_of_spirit
		}
		
		relative_position_id = cat_revolution_of_spirit
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_apc_workers_self_management
				add_idea = idea_cat_nationalized_unions_nazis
			}
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_2
				add_idea = idea_cat_beating_heart_of_iberian_industry_3_nazis
			}
		}
	}

	focus = {
		id = cat_end_class_disparity
		icon = embrace_anti_capitalism
		cost = 7.2

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_nationalize_unions
		}
		prerequisite = {
			focus = cat_root_out_anarchist_poisoners
		}
		
		relative_position_id = cat_nationalize_unions
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program
				add_idea = idea_cat_iberian_revolutionary_program_2_nazis
			}
		}
	}

	focus = {
		id = cat_empower_aryan_spirits
		icon = right_wing_unity
		cost = 10

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_root_out_anarchist_poisoners
		}
		prerequisite = {
			focus = cat_end_religion
		}
		
		relative_position_id = cat_root_out_anarchist_poisoners
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_broad_salvation_front
				add_idea = idea_cat_aryan_dictatorship
			}
			set_party_name = {
				ideology = national_bolshevik
				long_name = "Spiritual Brotherhood of Catalonia"
				name = "Spiritual Brotherhood"
			}
		}
	}

	focus = {
		id = cat_devotion_to_tradition
		icon = cat_devotion_to_tradition
		cost = 7.2

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_end_class_disparity
		}
		prerequisite = {
			focus = cat_empower_aryan_spirits
		}
		
		relative_position_id = cat_end_class_disparity
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_abolished_civil_code2
				add_idea = idea_cat_abolished_civil_code3_nazis
			}
		}
	}

	focus = {
		id = cat_cult_of_labor
		icon = cat_cult_of_labor
		cost = 10

		available = {
			has_government = national_bolshevik
		}

		

		prerequisite = {
			focus = cat_end_class_disparity
		}
	
		
		relative_position_id = cat_end_class_disparity
		x = 0
		y = 2
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_producing_for_human_needs
				add_idea = idea_cat_cult_of_labor
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = cat_cult_of_nature
		icon = cat_cult_of_nature
		cost = 7.2

		available = {
			has_government = national_bolshevik
		}

		

		
		prerequisite = {
			focus = cat_empower_aryan_spirits
		}
		prerequisite = {
			focus = cat_end_class_disparity
		}
		
		relative_position_id = cat_empower_aryan_spirits
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_2_nazis
				add_idea = idea_cat_iberian_revolutionary_program_3_nazis
			}	
		}
	}

	focus = {
		id = cat_cult_of_discipline
		icon = cat_cult_of_discipline
		cost = 10

		available = {
			has_government = national_bolshevik
		}

		

		
		prerequisite = {
			focus = cat_cult_of_nature
		}
		
		relative_position_id = cat_cult_of_nature
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_confederal_millitias
				add_idea = idea_cat_the_cult_of_discipline
			}
			swap_ideas = {
				remove_idea = idea_cat_free_schooling
				add_idea = idea_cat_free_schooling_nazis
			}	
		}
	}
	focus = {
		id = cat_strenght_of_will
		icon = cat_strenght_of_will
		cost = 10

		available = {
			has_government = national_bolshevik
		}

		

		
		prerequisite = {
			focus = cat_cult_of_labor
		}
		prerequisite = {
			focus = cat_devotion_to_tradition
		}
		prerequisite = {
			focus = cat_cult_of_discipline
		}

		
		relative_position_id = cat_cult_of_labor
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_3_nazis
				add_idea = idea_cat_iberian_revolutionary_program_4_nazis
			}	
		}
	}

	focus = {
		id = cat_catalan_ethnic_spirit_liberated
		icon = focus_ideology_fascist
		cost = 7.2

		available = {
			has_government = national_bolshevik
		}

		mutually_exclusive = {
			focus = cat_iberian_spiritual_revoution
		}

		
		prerequisite = {
			focus = cat_strenght_of_will
		}
		
		relative_position_id = cat_strenght_of_will
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_iberian_revolutionary_program_4_nazis
				add_idea = idea_cat_iberian_revolutionary_program_5_nazis
			}
			swap_ideas = {
				remove_idea = idea_cat_beating_heart_of_iberian_industry_3_nazis
				add_idea = idea_cat_beating_heart_of_iberian_industry_4_nazis
			}
			custom_effect_tooltip = CAT_this_will_unlock_fopo
		}
	}

	focus = {
		id = cat_iberian_spiritual_revoution
		icon = focus_ideology_fascist
		cost = 7.2

		available = {
			has_government = national_bolshevik
		}

		mutually_exclusive = {
			focus = cat_catalan_ethnic_spirit_liberated
		}

		
		prerequisite = {
			focus = cat_strenght_of_will
		}
		
		relative_position_id = cat_strenght_of_will
		x = 1
		y = 1
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						OR = {
							tag = SPR
							tag = SPN
							tag = ALU
							tag = ATA
							tag = CAI
							tag = BSQ
							tag = GAL
						}
					}
					ROOT = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = cat_nazis_will_gain_war_goals_against_iberia
		}
	}

	focus = {
		id = cat_free_the_races_of_europe
		icon = focus_ideology_fascist
		cost = 7.2

		available = {
			has_government = national_bolshevik
			AND = {
				POR = {
					is_puppet_of = ROOT
				}
				OR = {
					SPR = {
						is_puppet_of = ROOT
					}
					SPN = {
						is_puppet_of = ROOT
					}
				}
			}
		}

	
		prerequisite = {
			focus = cat_iberian_spiritual_revoution
		}
		
		relative_position_id = cat_iberian_spiritual_revoution
		x = 0
		y = 1
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = {
							has_country_leader_ideology = national_socialist
						}
						NOT = {
							has_country_leader_ideology = revolutionary_nazi
						}
						capital_scope = { is_on_continent = europe }
					}
					ROOT = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = cat_nazis_will_gain_war_goals_against_europe
		}
	}

#foreign policy
	focus = {
		id = CAT_catalonia_on_the_world_stage
		icon = focus_commonwealth_un_membership
		cost = 1
		available = {
			OR ={
				has_completed_focus = CAT_liberation_comes_to_iberia
				has_completed_focus = CAT_seek_open_spanish_border
				has_completed_focus = CAT_legacy_of_dictartorship
				has_completed_focus = CAT_catalan_model_socialism
				has_completed_focus = CAT_enact_measures_for_direct_participation
				has_completed_focus = CAT_dont_keep_funni_catalan_man
				has_completed_focus = CAT_keep_funni_catalan_man
				has_completed_focus = CAT_unite_spain_again
				hidden_trigger = {
					has_completed_focus = cat_strengthen_the_presidency
				}
				hidden_trigger = {
					has_completed_focus = cat_reign_in_revolutionary_excess
				}
				hidden_trigger = {
					has_completed_focus = cat_catalan_ethnic_spirit_liberated
				}
			}
		}
		x = 55
		y = 0
		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
		}
	}
	focus = {
		id = CAT_expel_french_diplomats
		icon = france_attack
		cost = 3

		available = {
			country_exists = FRA
			NOT = {
				is_in_faction_with = FRA
			}
			NOT = {
				FRA = {
					has_government = ROOT
				}
			}
		}

		mutually_exclusive = {
			focus = CAT_solidify_franco_catalan_friendship
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = 0
		y = 1
		completion_reward = {
			every_country = {
				limit = {
					owns_state = 663
				}
				add_opinion_modifier = {
					target = CAT
					modifier = bsq_fra_expelled_aides
				}
			}
			add_war_support = 0.05
		}
	}
	focus = {
		id = CAT_fortify_the_pyrenees
		icon = unknown
		cost = 3
		available = {

		}
		prerequisite = {
			focus = CAT_expel_french_diplomats
		}
		
		relative_position_id = CAT_expel_french_diplomats
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 9824
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 11779
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 3898
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 3899
					}
				}
			}
			IF = {
				limit = {
					owns_state = 166
				}
				166 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 11838
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 915
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 899
					}
				}
			}
			IF = {
				limit = {
					owns_state = 172
				}
				172 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 3931
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 3737
					}
				}
			}
			IF = {
				limit = {
					owns_state = 852
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
	}
	focus = {
		id = CAT_prepare_for_the_war_in_the_air
		icon = unknown
		cost = 3
		available = {

		}
		prerequisite = {
			focus = CAT_fortify_the_pyrenees
		}
		
		relative_position_id = CAT_fortify_the_pyrenees
		x = 0
		y = 2
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_exploit_french_intelligence_leaks
					}
				}
				add_ideas = {
					idea_cat_prepare_for_war_with_france_2
				}
			}
			ELSE_IF = {
				limit = {
					has_completed_focus = CAT_exploit_french_intelligence_leaks
				}
				swap_ideas = {
					remove_idea = idea_cat_prepare_for_war_with_france_1
					add_idea = idea_cat_prepare_for_war_with_france_3
				}
			}
		}
	}
	focus = {
		id = CAT_encourage_french_catalan_defection
		icon = unknown
		cost = 3
		available = {

		}
		bypass = {
			owns_state = 663
		}
		prerequisite = {
			focus = CAT_expel_french_diplomats
		}
		
		relative_position_id = CAT_expel_french_diplomats
		x = 1
		y = 1
		completion_reward = {
			663 = {
				add_manpower = -5000
			}
			165 = {
				add_manpower = 5000
			}
			add_timed_idea = {
				idea = idea_cat_french_catalan_immigration
				days = 120
			}
			FRA = {
				country_event = {
					id = cat_diplo.135
				}
			}
		}
	}
	focus = {
		id = CAT_exploit_french_intelligence_leaks
		icon = unknown
		cost = 3
		available = {

		}
		prerequisite = {
			focus = CAT_encourage_french_catalan_defection
		}
		prerequisite = {
			focus = CAT_fortify_the_pyrenees
		}
		
		relative_position_id = CAT_fortify_the_pyrenees
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_completed_focus = CAT_prepare_for_the_war_in_the_air
					}
				}
				add_ideas = {
					idea_cat_prepare_for_war_with_france_1
				}
			}
			ELSE_IF = {
				limit = {
					has_completed_focus = CAT_prepare_for_the_war_in_the_air
				}
				swap_ideas = {
					remove_idea = idea_cat_prepare_for_war_with_france_2
					add_idea = idea_cat_prepare_for_war_with_france_3
				}
			}
		}
	}
	focus = {
		id = CAT_solidify_franco_catalan_friendship
		icon = france
		cost = 3

		available = {
			country_exists = FRA
			NOT = {
				owns_state = 663
			}
		}

		mutually_exclusive = {
			focus = CAT_expel_french_diplomats
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = -3
		y = 1
		completion_reward = {
            add_opinion_modifier = {
				target = FRA
				modifier = cat_declaration_of_friendship
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = cat_declaration_of_friendship
				}
			}
		}
	}
	focus = {
		id = CAT_settle_border_disputes
		icon = unknown
		cost = 3
		available = {
		
		}
		prerequisite = {
			focus = CAT_solidify_franco_catalan_friendship
		}
		bypass = {
			OR = {
				has_completed_focus = CAT_the_perpignan_conference
				NOT = {
					owns_state = 852
				}
			}
		}
		relative_position_id = CAT_solidify_franco_catalan_friendship
		x = 0
		y = 1
		completion_reward = {
			FRA = {
				country_event = {
					id = cat_diplo.136
				}
			}
		}
	}
	focus = {
		id = CAT_negotiate_privileges_for_french_catalans
		icon = unknown
		cost = 3
		available = {
		
		}
		prerequisite = {
			focus = CAT_settle_border_disputes
		}
		relative_position_id = CAT_settle_border_disputes
		x = 1
		y = 1
		completion_reward = {
			FRA = {
				country_event = {
					id = cat_diplo.139
				}
			}
		}
	}
	focus = {
		id = CAT_seek_french_industrial_aid
		icon = unknown
		cost = 3
		available = {
		
		}
		prerequisite = {
			focus = CAT_settle_border_disputes
		}
		relative_position_id = CAT_settle_border_disputes
		x = -1
		y = 1
		completion_reward = {
			FRA = {
				country_event = {
					id = cat_diplo.116
				}
			}
		}
	}
	focus = {
		id = CAT_press_for_french_protection
		icon = unknown
		cost = 3
		available = {
		
		}
		prerequisite = {
			focus = CAT_seek_french_industrial_aid
		}
		prerequisite = {
			focus = CAT_negotiate_privileges_for_french_catalans
		}
		relative_position_id = CAT_seek_french_industrial_aid
		x = 1
		y = 1
		completion_reward = {
			FRA = {
				country_event = {
					id = cat_diplo.102
				}
			}
		}
	}
	focus = {
		id = CAT_diplomatic_mission_to_alghero
		icon = italy
		cost = 3

		available = {
			country_exists = ITA
			ITA = {
				owns_state = 114
			}
			NOT = {
				has_completed_focus = CAT_madre_anarquia
			}
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = 4
		y = 1
		completion_reward = {
			country_event = {
				id = cat_diplo.105
			}
			ITA = {
				country_event = {
					id = cat_diplo.106
				}
			}
		}
	}
	focus = {
		id = CAT_negotiate_italo_catalan_protections
		icon = unknown
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_diplomatic_mission_to_alghero
		}
		
		relative_position_id = CAT_diplomatic_mission_to_alghero
		x = 0
		y = 1
		completion_reward = {
			ITA = {
				country_event = {
					id = cat_diplo.119
				}
			}
		}
	}
	focus = {
		id = CAT_catalan_repatriation_initiative
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_unsuccessful_talks_with_italy
		}
		mutually_exclusive = {
			focus = CAT_draw_closer_to_italy
		}
		prerequisite = {
			focus = CAT_negotiate_italo_catalan_protections
		}
		
		relative_position_id = CAT_negotiate_italo_catalan_protections
		x = -2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_catalan_repatriation_initiative
			}
			ITA = {
				country_event = {
					id = cat_diplo.125
				}
			}
		}
	}
	focus = {
		id = CAT_exploit_sympathizers
		icon = unknown
		cost = 3

		available = {
			has_war_with = ITA
		}

		prerequisite = {
			focus = CAT_catalan_repatriation_initiative
		}
		
		relative_position_id = CAT_catalan_repatriation_initiative
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_aid_from_sympathizers
			}
		}
	}
	focus = {
		id = CAT_mediterranean_defense_plan
		icon = unknown
		cost = 3

		available = {
			
		}

		prerequisite = {
			focus = CAT_catalan_repatriation_initiative
		}
		
		relative_position_id = CAT_catalan_repatriation_initiative
		x = -1
		y = 1
		completion_reward = {
			every_owned_state = {
				add_building_construction = {
					type = coastal_bunker
					level = 5
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
			}
		}
	}
	focus = {
		id = CAT_draw_closer_to_italy
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_successful_talks_with_italy
		}
		mutually_exclusive = {
			focus = CAT_catalan_repatriation_initiative
		}
		prerequisite = {
			focus = CAT_negotiate_italo_catalan_protections
		}
		
		relative_position_id = CAT_negotiate_italo_catalan_protections
		x = 2
		y = 1
		completion_reward = {
			add_opinion_modifier = {
				target = ITA
				modifier = cat_declaration_of_friendship
			}
			ITA = {
				add_opinion_modifier = {
					target = ITA
					modifier = cat_declaration_of_friendship
				}
			}
			custom_effect_tooltip = cat_we_can_ally_italy
		}
	}
	focus = {
		id = CAT_italo_catalan_trade_agreements
		icon = unknown
		cost = 3

		available = {
			
		}

		prerequisite = {
			focus = CAT_draw_closer_to_italy
		}
		
		relative_position_id = CAT_draw_closer_to_italy
		x = -1
		y = 1
		completion_reward = {
			ITA = {
				country_event = {
					id = cat_diplo.132
				}
			}
		}
	}
	focus = {
		id = CAT_in_search_of_allies
		icon = alliance
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = 12
		y = 1
		completion_reward = {
			add_political_power = 150
		}
	}
	focus = {
		id = CAT_purchase_australian_mining_technology
		icon = australia
		cost = 3

		available = {
			country_exists = AST
			NOT = {
				has_war_with = AST
			}
		}
	
		prerequisite = {
			focus = CAT_in_search_of_allies
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = -4
		y = 1
		completion_reward = {
			AST = {
				country_event = {
					id = cat_diplo.154
				}
			}
		}
	}
	focus = {
		id = CAT_negotiate_with_british_shipbuilders
		icon = britain
		cost = 3

		available = {
			country_exists = ENG
			NOT = {
				has_war_with = ENG
			}
		}
	
		prerequisite = {
			focus = CAT_in_search_of_allies
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = -2
		y = 1
		completion_reward = {
			ENG = {
				country_event = {
					id = cat_diplo.142
				}
			}
		}
	}
	focus = {
		id = CAT_trade_for_yugoslav_electronics
		icon = yugoslavia
		cost = 3
		
		available = {
			country_exists = YUG
			NOT = {
				has_war_with = YUG
			}
		}
	
		prerequisite = {
			focus = CAT_in_search_of_allies
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 0
		y = 1
		completion_reward = {
			YUG = {
				country_event = {
					id = cat_diplo.151
				}
			}
		}
	}
	focus = {
		id = CAT_buy_into_polish_steel_supply
		icon = poland
		cost = 3

		available = {
			country_exists = POL
			NOT = {
				has_war_with = POL
			}
		}
	
		prerequisite = {
			focus = CAT_in_search_of_allies
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 2
		y = 1
		completion_reward = {
			POL = {
				country_event = {
					id = cat_diplo.145
				}
			}
		}
	}
	focus = {
		id = CAT_purchase_saudi_oil
		icon = saudi_arabia
		cost = 3

		available = {
			country_exists = SAU
			NOT = {
				has_war_with = SAU
			}
		}
	
		prerequisite = {
			focus = CAT_in_search_of_allies
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 4
		y = 1
		completion_reward = {
			SAU = {
				country_event = {
					id = cat_diplo.148
				}
			}
		}
	}
	focus = {
		id = CAT_seek_canadian_investments
		icon = canada
		cost = 3

		available = {
			country_exists = CAN
			NOT = {
				has_war_with = CAN
			}
			NOT = {
				has_government = revolutionary_socialist
			}
			NOT = {
				has_government = communist
			}
			hidden_trigger = {
				NOT = {
					has_government = national_bolshevik
				}
			}
		}
	
		prerequisite = {
			focus = CAT_purchase_saudi_oil
			focus = CAT_purchase_australian_mining_technology
			focus = CAT_buy_into_polish_steel_supply
			focus = CAT_negotiate_with_british_shipbuilders
			focus = CAT_trade_for_yugoslav_electronics
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = -4
		y = 2
		completion_reward = {
			CAN = {
				country_event = {
					id = cat_diplo.157
				}
			}
		}
	}
	focus = {
		id = CAT_request_russian_military_aid
		icon = GFX_russian_advisors
		cost = 3

		available = {
			OR = {
				AND = {
					country_exists = RUS
					NOT = {
						has_war_with = RUS
					}
				}
				AND = {
					country_exists = SOV
					NOT = {
						has_war_with = SOV
					}
				}
			}
		}
	
		prerequisite = {
			focus = CAT_purchase_saudi_oil
			focus = CAT_purchase_australian_mining_technology
			focus = CAT_buy_into_polish_steel_supply
			focus = CAT_negotiate_with_british_shipbuilders
			focus = CAT_trade_for_yugoslav_electronics
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = -2
		y = 2
		completion_reward = {
			IF = {
				limit = {
					country_exists = RUS
				}
				RUS = {
					country_event = {
						id = cat_diplo.163
					}
				}
			}
			ELSE_IF = {
				limit = {
					AND = {
						country_exists = SOV
						SOV = {
							NOT = {
								has_government = communist
							}
							NOT = {
								has_government = revolutionary_socialist
							}
							NOT = {
								has_government = moderate_socialist
							}
						}
					}
				}
				SOV = {
					country_event = {
						id = cat_diplo.163
					}
				}
			}
			ELSE_IF = {
				limit = {
					country_exists = SOV
					OR = {
						SOV = {
							has_government = communist
						}
						SOV = {
							has_government = revolutionary_socialist
						}
						SOV = {
							has_government = moderate_socialist
						}
					}
				}
				SOV = {
					country_event = {
						id = cat_diplo.160
					}
				}
			}
		}
	}
	focus = {
		id = CAT_recongize_the_apc
		icon = commonwealth
		cost = 3

		available = {
			country_exists = NEA
			NOT = {
				has_war_with = NEA
			}
			
			custom_trigger_tooltip = {
				tooltip = cat_we_are_following_compatible_forms_of_socialism
				OR = {
					AND = {
						OR = {
							has_country_leader_ideology = anarcho_syndicalism
							has_country_leader_ideology = syndicalism
							has_country_leader_ideology = labourist
						}
						NEA = {
							has_country_leader_ideology = anarcho_syndicalism
						}
					}
					AND = {
						NEA = {
							has_government = revolutionary_socialist
							NOT = {
								has_country_leader_ideology = anarcho_syndicalism
							}
						}
						OR = {
							has_government = revolutionary_socialist
							has_country_leader_ideology = labourist
						}
						NOT = {
							has_country_leader_ideology = anarcho_syndicalism
						}
					}
					AND = {
						NEA = {
							has_government = centrist
						}
						OR = {
							has_government = nationalist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
							has_government = new_democrat
							has_government = moderate_socialist
						}
					}
					AND = {
						NEA = {
							has_government = nationalist
						}
						OR = {
							has_government = nationalist
							has_government = national_conservative
							has_government = centrist
							has_government = liberal
						}
					}
					AND = {
						NEA = {
							has_government = fascist
						}
						OR = {
							has_government = nationalist
							has_government = national_bolshevik
						}
					}
					AND = {
						NEA = {
							has_government = communist
						}
						OR = {
							has_government = communist
							has_government = moderate_socialist
						}
					}
				}
			}
		}
	
		prerequisite = {
			focus = CAT_purchase_saudi_oil
			focus = CAT_purchase_australian_mining_technology
			focus = CAT_buy_into_polish_steel_supply
			focus = CAT_negotiate_with_british_shipbuilders
			focus = CAT_trade_for_yugoslav_electronics
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 0
		y = 2
		completion_reward = {
			NEA = {
				add_opinion_modifier = {
					target = CAT
					modifier = cat_recognized_nea
				}
			}
			custom_effect_tooltip = cat_we_can_ally_apc
		}
	}
	focus = {
		id = CAT_work_with_german_tank_designers
		icon = CAT_work_with_german_tank_designers
		cost = 3

		available = {
			country_exists = GER
			NOT = {
				has_war_with = GER
			}
		}
	
		prerequisite = {
			focus = CAT_purchase_saudi_oil
			focus = CAT_purchase_australian_mining_technology
			focus = CAT_buy_into_polish_steel_supply
			focus = CAT_negotiate_with_british_shipbuilders
			focus = CAT_trade_for_yugoslav_electronics
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 2
		y = 2
		completion_reward = {
			GER = {
				country_event = {
					id = cat_diplo.166
				}
			}
		}
	}
	focus = {
		id = CAT_seek_cuban_medical_expertise
		icon = cuba
		cost = 3

		available = {
			country_exists = CUB
			NOT = {
				has_war_with = CUB
			}
		}
	
		prerequisite = {
			focus = CAT_purchase_saudi_oil
			focus = CAT_purchase_australian_mining_technology
			focus = CAT_buy_into_polish_steel_supply
			focus = CAT_negotiate_with_british_shipbuilders
			focus = CAT_trade_for_yugoslav_electronics
		}
		
		relative_position_id = CAT_in_search_of_allies
		x = 4
		y = 2
		completion_reward = {
			CUB = {
				country_event = {
					id = cat_diplo.169
				}
			}
		}
	}
	focus = {
		id = CAT_codify_our_alliances
		icon = play_off_both_sides
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_seek_canadian_investments
			focus = CAT_request_russian_military_aid
			focus = CAT_recongize_the_apc
			focus = CAT_work_with_german_tank_designers
			focus = CAT_seek_cuban_medical_expertise
			focus = CAT_draw_closer_to_italy
		}
		
		relative_position_id = CAT_recongize_the_apc
		x = 0
		y = 1
		completion_reward = {
			custom_effect_tooltip = cat_we_can_join_factions
		}
	}
	focus = {
		id = CAT_reconciliation_with_spain
		icon = spain
		cost = 3

		available = {
			OR = {
				country_exists = SPR
				country_exists = SPN
			}
			NOT = {
				has_completed_focus = CAT_liberation_comes_to_iberia
			}
			custom_trigger_tooltip = {
				tooltip = spain_is_not_hell_bent_on_reunification
				OR = {
					AND = {
						country_exists = SPR
						SPR = {
							NOT = {
								has_government = fascist
							}
						}
						SPR = {
							NOT = {
								has_government = monarchist
							}
						}
						SPR = {
							NOT = {
								has_government = national_conservative
							}
						}
						SPR = {
							NOT = {
								has_government = centrist
							}
						}
						SPR = {
							NOT = {
								has_government = liberal
							}
						}
						SPR = {
							NOT = {
								has_government = nationalist
							}
						}
						SPR = {
							NOT = {
								has_completed_focus = SPR_fopo_demand_reunification
							}
						}
					}
					AND = {
						country_exists = SPN
						SPN = {
							NOT = {
								has_government = fascist
							}
						}
						SPN = {
							NOT = {
								has_government = monarchist
							}
						}
						SPN = {
							NOT = {
								has_government = national_conservative
							}
						}
						SPN = {
							NOT = {
								has_government = centrist
							}
						}
						SPN = {
							NOT = {
								has_government = liberal
							}
						}
						SPN = {
							NOT = {
								has_government = nationalist
							}
						}
						SPN = {
							NOT = {
								has_completed_focus = SPR_fopo_demand_reunification
							}
						}
					}
				}
			}
		}
		
		bypass = {
			OR = {
				SPR = {
					is_puppet_of = ROOT
				}
				SPN = {
					is_puppet_of = ROOT
				}
			}
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		mutually_exclusive = {
			focus = CAT_fortify_the_spanish_border
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = -7
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				add_opinion_modifier = {
					target = SPR
					modifier = cat_reconciliation
				}
				SPR = {
					add_opinion_modifier = {
						target = ROOT
						modifier = cat_reconciliation
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				add_opinion_modifier = {
					target = SPN
					modifier = cat_reconciliation
				}
				SPN = {
					add_opinion_modifier = {
						target = ROOT
						modifier = cat_reconciliation
					}
				}
			}
		}
	}
	focus = {
		id = CAT_seek_an_enduring_peace
		icon = peace_chance
		cost = 3

		available = {

		}
		
		bypass = {
			OR = {
				SPR = {
					is_puppet_of = ROOT
				}
				SPN = {
					is_puppet_of = ROOT
				}
			}
		}
	
		prerequisite = {
			focus = CAT_reconciliation_with_spain
		}
		
		relative_position_id = CAT_reconciliation_with_spain
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					country_event = {
						id = cat_diplo.77
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					country_event = {
						id = cat_diplo.77
					}
				}
			}
		}
	}
	focus = {
		id = CAT_encourage_border_transcience
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_spain_agreed_to_peace
		}
		
		bypass = {
			OR = {
				has_completed_focus = CAT_seek_open_spanish_border
				NOT = {
					has_country_flag = cat_spain_agreed_to_peace
				}
			}
		}
		
		prerequisite = {
			focus = CAT_seek_an_enduring_peace
		}
		
		relative_position_id = CAT_seek_an_enduring_peace
		x = 0
		y = 1
		completion_reward = {
		    add_ideas = {
				idea_bsq_relaxed_border_laws
			}
		}
	}
	focus = {
		id = CAT_lobby_for_spanish_protection
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_spain_agreed_to_peace
		}
		
		bypass = {
			NOT = {
				has_country_flag = cat_spain_agreed_to_peace
			}
		}
	
		prerequisite = {
			focus = CAT_encourage_border_transcience
		}
		
		relative_position_id = CAT_encourage_border_transcience
		x = 0
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					country_event = {
						id = cat_diplo.107
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					country_event = {
						id = cat_diplo.107
					}
				}
			}
		}
	}
	focus = {
		id = CAT_castillo_catalan_worker_exchange
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_spain_agreed_to_peace
		}
		
		bypass = {
			NOT = {
				has_country_flag = cat_spain_agreed_to_peace
			}
		}
	
		prerequisite = {
			focus = CAT_encourage_border_transcience
		}
		
		relative_position_id = CAT_encourage_border_transcience
		x = 2
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					country_event = {
						id = cat_diplo.110
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					country_event = {
						id = cat_diplo.110
					}
				}
			}
		}
	}
	focus = {
		id = CAT_joint_armed_forces_training
		icon = unknown
		cost = 3

		available = {
			has_country_flag = cat_spain_agreed_to_peace
		}
		
		bypass = {
			NOT = {
				has_country_flag = cat_spain_agreed_to_peace
			}
		}
	
		prerequisite = {
			focus = CAT_encourage_border_transcience
		}
		
		relative_position_id = CAT_encourage_border_transcience
		x = -2
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = SPR
				}
				SPR = {
					country_event = {
						id = cat_diplo.113
					}
				}
			}
			IF = {
				limit = {
					country_exists = SPN
				}
				SPN = {
					country_event = {
						id = cat_diplo.113
					}
				}
			}
		}
	}
	focus = {
		id = CAT_fortify_the_spanish_border
		icon = spain_attack
		cost = 3

		available = {
			OR = {
				country_exists = SPR
				country_exists = SPN
			}
			NOT = {
				has_completed_focus = CAT_liberation_comes_to_iberia
			}
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		mutually_exclusive = {
			focus = CAT_reconciliation_with_spain
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = -10
		y = 1
		completion_reward = {
			IF = {
				limit = {
					owns_state = 165
				}
				165 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 6966
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 6836
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 872
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 897
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 3899
					}
				}
			}
			IF = {
				limit = {
					owns_state = 167
				}
				167 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
	}
	focus = {
		id = CAT_cooperate_with_post_spanish_states
		icon = SPR_reclaim_the_breakaways
		cost = 3

		available = {
			AND = {
				OR = {
					country_exists = SPR
					country_exists = SPN
				}
				OR = {
					country_exists = BSQ
					country_exists = GAL
				}
			}
		}
		
		bypass = {
			AND = {
				NOT = {
					country_exists = BSQ
				}
				NOT = {
					country_exists = GAL
				}
			}
		}
	
		prerequisite = {
			focus = CAT_fortify_the_spanish_border
		}
		
		relative_position_id = CAT_fortify_the_spanish_border
		x = -1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					country_exists = BSQ
				}
				BSQ = {
					country_event = {
						id = cat_diplo.99
					}
				}
			}
			IF = {
				limit = {
					country_exists = GAL
				}
				GAL = {
					country_event = {
						id = cat_diplo.99
					}
				}
			}
		}
	}
	focus = {
		id = CAT_incorporate_basque_and_galician_guerilla_tactics
		icon = unknown
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_cooperate_with_post_spanish_states
		}
		
		relative_position_id = CAT_cooperate_with_post_spanish_states
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_guerrilla_specialty
			}
		}
	}
	focus = {
		id = CAT_national_mobilization_law
		icon = generic_marching
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_fortify_the_spanish_border
		}
		
		relative_position_id = CAT_fortify_the_spanish_border
		x = 1
		y = 1
		completion_reward = {
			IF = {
				limit = {
					NOT = {
						has_idea = extensive_conscription
					}
				}
				add_ideas = {
					extensive_conscription
				}
			}
			add_ideas = {
				idea_cat_national_mobilization_law
			}
		}
	}
	focus = {
		id = CAT_expand_military_production
		icon = industry_2
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_national_mobilization_law
		}
		prerequisite = {
			focus = CAT_cooperate_with_post_spanish_states
		}
		
		relative_position_id = CAT_cooperate_with_post_spanish_states
		x = 1
		y = 1
		completion_reward = {
			add_offsite_building = {
				type = arms_factory
				level = 3
			}
		}
	}
	focus = {
		id = CAT_no_passaran
		icon = unknown
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_expand_military_production
		}
		
		relative_position_id = CAT_expand_military_production
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_national_mobilization_law
				add_idea = idea_cat_national_mobilization_law_2
			}
		}
	}
	focus = {
		id = CAT_establish_connections_to_portugal
		icon = portugal
		cost = 3

		available = {
			country_exists = POR
			NOT = {
				has_completed_focus = CAT_liberation_comes_to_iberia
			}
		}
	
		prerequisite = {
			focus = CAT_catalonia_on_the_world_stage
		}
		
		relative_position_id = CAT_catalonia_on_the_world_stage
		x = -14
		y = 1
		completion_reward = {
			POR = {
				add_opinion_modifier = {
					target = CAT
					modifier = cat_working_together
				}
			}
			add_opinion_modifier = {
				target = POR
				modifier = cat_working_together
			}
		}
	}
	focus = {
		id = CAT_purchase_tungsten_rights
		icon = tungsten
		cost = 3

		available = {
			country_exists = POR
		}
	
		prerequisite = {
			focus = CAT_establish_connections_to_portugal
		}
		
		relative_position_id = CAT_establish_connections_to_portugal
		x = -1
		y = 1
		completion_reward = {
			POR = {
				country_event = {
					id = cat_diplo.84
				}
			}
		}
	}
	focus = {
		id = CAT_cooperate_with_the_portuguese_army
		icon = unknown
		cost = 3

		available = {
			country_exists = POR
		}
	
		prerequisite = {
			focus = CAT_establish_connections_to_portugal
		}
		
		relative_position_id = CAT_establish_connections_to_portugal
		x = 0
		y = 2
		completion_reward = {
			POR = {
				country_event = {
					id = cat_diplo.90
				}
			}
		}
	}
	focus = {
		id = CAT_propose_industrial_cooperation
		icon = CAT_production_focus
		cost = 3

		available = {
			country_exists = POR
		}
	
		prerequisite = {
			focus = CAT_purchase_tungsten_rights
		}
		
		relative_position_id = CAT_purchase_tungsten_rights
		x = -1
		y = 1
		completion_reward = {
			POR = {
				country_event = {
					id = cat_diplo.87
				}
			}
		}
	}
	focus = {
		id = CAT_purchase_portuguese_military_tech
		icon = unknown
		cost = 3

		available = {
			country_exists = POR
		}
	
		prerequisite = {
			focus = CAT_propose_industrial_cooperation
		}
		prerequisite = {
			focus = CAT_cooperate_with_the_portuguese_army
		}
		
		relative_position_id = CAT_propose_industrial_cooperation
		x = 1
		y = 1
		completion_reward = {
			POR = {
				country_event = {
					id = cat_diplo.96
				}
			}
		}
	}
	focus = {
		id = CAT_request_portugals_protection
		icon = unknown
		cost = 3

		available = {
			country_exists = POR
		}
	
		prerequisite = {
			focus = CAT_establish_connections_to_portugal
		}
		prerequisite = {
			focus = CAT_incorporate_basque_and_galician_guerilla_tactics
		}
		
		relative_position_id = CAT_establish_connections_to_portugal
		x = 1
		y = 3
		completion_reward = {
			POR = {
				country_event = {
					id = cat_diplo.93
				}
			}
		}
	}

	#military trees
	focus = { 
		id = CAT_military_reorganization
		icon = army_doctrine
		cost = 5
		available = {
			OR = {
				has_completed_focus = CAT_help_militants_transition_to_peaceful_politics
				has_completed_focus = CAT_honour_independence_heroes
				has_completed_focus = CAT_turn_terrorists_into_cops
				has_completed_focus = CAT_protect_independence
				has_completed_focus = CAT_dont_keep_fascist_cops
				has_completed_focus = CAT_keep_fascist_cops
				has_completed_focus = CAT_the_perpignan_conference
				has_completed_focus = CAT_make_spain_rejoin_us
				has_completed_focus = CAT_develop_militias
			}
		}
		bypass = {
		}
		relative_position_id = CAT_first_elections
		x = 0
		y = 13
		completion_reward = {
			army_experience = 50
		}
	}
	focus = {
		id = CAT_public_manufacturing_companies
		icon = RAJ_our_own_equipment
		cost = 7.2

		available = {
			
		}
	
		prerequisite = {
			focus = CAT_military_reorganization
		}
		
		relative_position_id = CAT_military_reorganization
		x = -2
		y = 1
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAT_bring_in_spanish_defectors
		icon = unknown
		cost = 7.2

		available = {
			OR = {
				country_exists = SPR
				country_exists = SPN
			}
		}
		
		bypass = {
			OR = {
				AND = {
					NOT = {
						country_exists = SPR
					}
					NOT = {
						country_exists = SPN
					}
				}
				SPR = {
					is_puppet_of = ROOT
				}
				SPN = {
					is_puppet_of = ROOT
				}
				has_completed_focus = CAT_reconciliation_with_spain
			}
		}
	
		prerequisite = {
			focus = CAT_military_reorganization
		}
		
		relative_position_id = CAT_military_reorganization
		x = 0
		y = 1
		completion_reward = {
			add_manpower = 25000
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 7500
				producer = SPR
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 1500
				producer = SPR
			}
		}
	}
	focus = {
		id = CAT_invest_in_keeping_the_peace
		icon = unknown
		cost = 5

		available = {
			
		}
	
		prerequisite = {
			focus = CAT_military_reorganization
		}
		
		relative_position_id = CAT_military_reorganization
		x = 2
		y = 1
		completion_reward = {
		    add_tech_bonus = {
				bonus = 1
				uses = 2
				category = military_police_tech
			}
		}
	}
	focus = {
		id = CAT_utilize_our_industrial_might
		icon = spanish_guns
		cost = 7.2

		available = {
			OR = {
				has_government = nationalist
				has_government = national_conservative
				hidden_trigger = {
					has_government = centrist
				}
				has_government = liberal
				has_government = new_democrat
				hidden_trigger = {
					has_government = national_bolshevik
				}
				has_government = moderate_socialist
			}	
		}
		
		mutually_exclusive = {
			focus = CAT_rely_on_the_command
		}
	
		prerequisite = {
			focus = CAT_invest_in_keeping_the_peace
		}
		prerequisite = {
			focus = CAT_bring_in_spanish_defectors
		}
		prerequisite = {
			focus = CAT_public_manufacturing_companies
		}
		
		relative_position_id = CAT_bring_in_spanish_defectors
		x = -1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_bury_them_in_munitions
			}
		}
	}
	focus = {
		id = CAT_decimate_the_enemy
		icon = unknown
		cost = 7.2

		available = {

		}

		prerequisite = {
			focus = CAT_utilize_our_industrial_might
		}
		
		relative_position_id = CAT_utilize_our_industrial_might
		x = -2
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_bury_them_in_munitions
				add_idea = idea_cat_bury_them_in_munitions_2
			}
		}
	}
	focus = {
		id = CAT_counter_offensive_equipment_strategy
		icon = unknown
		cost = 7.2

		available = {

		}

		prerequisite = {
			focus = CAT_decimate_the_enemy
		}
		
		relative_position_id = CAT_decimate_the_enemy
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_bury_them_in_munitions_2
				add_idea = idea_cat_bury_them_in_munitions_3
			}
		}
	}
	focus = {
		id = CAT_move_past_french_equipment
		icon = new_weapon_designs
		cost = 4

		available = {

		}

		prerequisite = {
			focus = CAT_utilize_our_industrial_might
		}
		
		relative_position_id = CAT_utilize_our_industrial_might
		x = 0
		y = 1
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = CAT_invest_into_artillery_developments
		icon = artillery_2
		cost = 4

		available = {

		}

		prerequisite = {
			focus = CAT_move_past_french_equipment
		}
		
		relative_position_id = CAT_move_past_french_equipment
		x = 0
		y = 1
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = artillery
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 1
			}
		}
	}
	focus = {
		id = CAT_shock_awe_victory
		icon = send_the_army_in
		cost = 7.2

		available = {

		}

		prerequisite = {
			focus = CAT_invest_into_artillery_developments
		}
		prerequisite = {
			focus = CAT_counter_offensive_equipment_strategy
		}
		
		relative_position_id = CAT_invest_into_artillery_developments
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_bury_them_in_munitions_3
				add_idea = idea_cat_bury_them_in_munitions_4
			}
		}
	}
	focus = {
		id = CAT_rely_on_the_command
		icon = GFX_female_liberation
		cost = 7.2

		available = {
			OR = {
				has_government = communist
				has_government = revolutionary_socialist
				AND = {
					has_government = new_democrat
					has_completed_focus = CAT_long_live_cnt_fai
				}
				AND = {
					has_government = moderate_socialist
					has_completed_focus = CAT_struggle_independence
				}
			}	
		}
		
		mutually_exclusive = {
			focus = CAT_utilize_our_industrial_might
		}
	
		prerequisite = {
			focus = CAT_invest_in_keeping_the_peace
		}
		prerequisite = {
			focus = CAT_bring_in_spanish_defectors
		}
		prerequisite = {
			focus = CAT_public_manufacturing_companies
		}
		
		relative_position_id = CAT_bring_in_spanish_defectors
		x = 1
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_the_peoples_army
			}
		}
	}
	focus = {
		id = CAT_lessons_from_the_interbrigades
		icon = class_not_nation
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_rely_on_the_command
		}
		
		relative_position_id = CAT_rely_on_the_command
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_the_peoples_army
				add_idea = idea_cat_the_peoples_army_2
			}
		}
	}
	focus = {
		id = CAT_officer_training_program
		icon = GFX_commissars
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_lessons_from_the_interbrigades
		}
		
		relative_position_id = CAT_lessons_from_the_interbrigades
		x = 0
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_the_peoples_army_2
				add_idea = idea_cat_the_peoples_army_3
			}
		}
	}
	focus = {
		id = CAT_play_the_bugle
		icon = unknown
		cost = 4

		available = {

		}
	
		prerequisite = {
			focus = CAT_rely_on_the_command
		}
		
		relative_position_id = CAT_rely_on_the_command
		x = 2
		y = 1
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 25000
				producer = FRA
			}
			country_event = {
				id = cat.162
			}
		}
	}
	focus = {
		id = CAT_infantry_advancements
		icon = revolutionary_militia_focus
		cost = 4

		available = {

		}
	
		prerequisite = {
			focus = CAT_play_the_bugle
		}
		
		relative_position_id = CAT_play_the_bugle
		x = 0
		y = 1
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = support_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_revolutionary_assault
		icon = red_gold_army
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_infantry_advancements
		}
		prerequisite = {
			focus = CAT_officer_training_program
		}
		
		relative_position_id = CAT_officer_training_program
		x = 1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_the_peoples_army_3
				add_idea = idea_cat_the_peoples_army_4
			}
		}
	}
	focus = { 
		id = CAT_found_the_catalan_air_force
		icon = air_icon
		cost = 5
		available = {
			OR = {
				has_completed_focus = CAT_help_militants_transition_to_peaceful_politics
				has_completed_focus = CAT_honour_independence_heroes
				has_completed_focus = CAT_turn_terrorists_into_cops
				has_completed_focus = CAT_protect_independence
				has_completed_focus = CAT_dont_keep_fascist_cops
				has_completed_focus = CAT_keep_fascist_cops
				has_completed_focus = CAT_the_perpignan_conference
				has_completed_focus = CAT_make_spain_rejoin_us
				has_completed_focus = CAT_liberate_castillans
				has_completed_focus = CAT_free_portugal
				has_completed_focus = CAT_collectivize_paellas
				has_completed_focus = CAT_emancipate_the_basque
			}
		}
		bypass = {
		}
		relative_position_id = CAT_military_reorganization
		x = -9
		y = 0
		completion_reward = {
			air_experience = 50
		}
	}
	focus = {
		id = CAT_expand_the_barcela_provisional_air_base
		icon = unknown
		cost = 4

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_air_force
		}
		
		relative_position_id = CAT_found_the_catalan_air_force
		x = 0
		y = 1
		completion_reward = {
			165 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAT_advance_stam_technology
		icon = unknown
		cost = 6

		available = {

		}
	
		prerequisite = {
			focus = CAT_expand_the_barcela_provisional_air_base
		}
		
		relative_position_id = CAT_expand_the_barcela_provisional_air_base
		x = 0
		y = 1
		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = rocketry
			}
			add_tech_bonus = {
				bonus = 0.75
				uses = 2
				category = cat_anti_air
			}
			every_owned_state = {
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 1
			}
		}
	}
	focus = {
		id = CAT_revive_the_manises_air_base
		icon = build_airforce
		cost = 4

		available = {
			owns_state = 167
		}
	
		prerequisite = {
			focus = CAT_advance_stam_technology
		}
		
		relative_position_id = CAT_advance_stam_technology
		x = 0
		y = 1
		completion_reward = {
			167 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAT_open_the_lleida_air_force_academy
		icon = CAT_open_the_lleida_air_force_academy
		cost = 5

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_air_force
		}
		
		relative_position_id = CAT_found_the_catalan_air_force
		x = 2
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_lleida_academy
			}
		}
	}
	focus = {
		id = CAT_fighter_research
		icon = generic_fighter_2
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_open_the_lleida_air_force_academy
		}
		
		relative_position_id = CAT_open_the_lleida_air_force_academy
		x = 0
		y = 1
		completion_reward = {
		    add_tech_bonus = {
				name = tactical_bomber_bonus
				bonus = 0.75
				uses = 1
				category = light_fighter
			}
			swap_ideas = {
				remove_idea = idea_cat_lleida_academy
				add_idea = idea_cat_lleida_academy_2
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_close_air_support_technology
		icon = close_air_support
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_fighter_research
		}
		
		relative_position_id = CAT_fighter_research
		x = 1
		y = 1
		completion_reward = {
		    add_tech_bonus = {
				name = tactical_bomber_bonus
				bonus = 0.75
				uses = 1
				category = cas_bomber
			}
			swap_ideas = {
				remove_idea = idea_cat_lleida_academy_2
				add_idea = idea_cat_lleida_academy_3
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_radar_development
		icon = unknown
		cost = 4

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_air_force
		}
		
		relative_position_id = CAT_found_the_catalan_air_force
		x = -2
		y = 1
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = radar_tech
			}
			add_ideas = {
				idea_cat_air_innovations
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_develop_attack_bombers
		icon = generic_bomber
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_radar_development
		}
		
		relative_position_id = CAT_radar_development
		x = 0
		y = 1
		completion_reward = {
		    add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = heavy_air
			}
			swap_ideas = {
				remove_idea = idea_cat_air_innovations
				add_idea = idea_cat_air_innovations_2
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_augment_uav_quality
		icon = plane_art
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_develop_attack_bombers
		}
		
		relative_position_id = CAT_develop_attack_bombers
		x = -1
		y = 1
		completion_reward = {
			swap_ideas = {
				remove_idea = idea_cat_air_innovations_2
				add_idea = idea_cat_air_innovations_3
			}
		}
	}
	focus = { 
		id = CAT_found_the_catalan_navy
		icon = navy_doctrine
		cost = 7.2
		available = {
			OR = {
				has_completed_focus = CAT_help_militants_transition_to_peaceful_politics
				has_completed_focus = CAT_honour_independence_heroes
				has_completed_focus = CAT_turn_terrorists_into_cops
				has_completed_focus = CAT_protect_independence
				has_completed_focus = CAT_dont_keep_fascist_cops
				has_completed_focus = CAT_keep_fascist_cops
				has_completed_focus = CAT_the_perpignan_conference
				has_completed_focus = CAT_make_spain_rejoin_us
				has_completed_focus = CAT_liberate_castillans
				has_completed_focus = CAT_free_portugal
				has_completed_focus = CAT_collectivize_paellas
				has_completed_focus = CAT_emancipate_the_basque
			}
		}
		bypass = {
		}
		relative_position_id = CAT_military_reorganization
		x = 7
		y = 0
		completion_reward = {
			navy_experience = 50
			add_offsite_building = {
				type = dockyard
				level = 2
			}
		}
	}
	focus = {
		id = CAT_cruiser_research
		icon = cruiser
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_navy
		}
		
		relative_position_id = CAT_found_the_catalan_navy
		x = 1
		y = 1
		completion_reward = {
		   	add_tech_bonus = {
				bonus = 1
				uses = 2
				category = cl_tech
			}
		   	add_tech_bonus = {
				bonus = 1
				uses = 2
				category = ca_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_destroyer_research
		icon = anti_submarine
		cost = 3

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_navy
		}
		
		relative_position_id = CAT_found_the_catalan_navy
		x = -1
		y = 1
		completion_reward = {
		   	add_tech_bonus = {
				bonus = 1
				uses = 2
				category = dd_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_submarine_strategy
		icon = submarine
		cost = 3

		available = {

		}
		
		mutually_exclusive = {
			focus = CAT_battleship_doctrine
		}
	
		prerequisite = {
			focus = CAT_destroyer_research
		}
		
		relative_position_id = CAT_destroyer_research
		x = 0
		y = 2
		completion_reward = {
		   	add_tech_bonus = {
				bonus = 1
				uses = 2
				category = ss_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_battleship_doctrine
		icon = battleship
		cost = 3

		available = {

		}
		
		mutually_exclusive = {
			focus = CAT_submarine_strategy
		}
	
		prerequisite = {
			focus = CAT_cruiser_research
		}
		
		relative_position_id = CAT_cruiser_research
		x = 0
		y = 2
		completion_reward = {
		    add_tech_bonus = {
				name = bb_tech_bonus
				bonus = 1
				uses = 2
				category = bb_tech
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}
	focus = {
		id = CAT_catalonia_rules_the_waves
		icon = CAT_catalonia_rules_the_waves
		cost = 10

		available = {

		}

		prerequisite = {
			focus = CAT_battleship_doctrine
		}
		
		relative_position_id = CAT_battleship_doctrine
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_catalonia_rules_the_waves
			}
			add_offsite_building = {
				type = dockyard
				level = 2
			}
		}
	}
	focus = {
		id = CAT_the_impenatrable_coast
		icon = unknown
		cost = 10

		available = {

		}

		prerequisite = {
			focus = CAT_submarine_strategy
		}
		
		relative_position_id = CAT_submarine_strategy
		x = 0
		y = 1
		completion_reward = {
			add_ideas = {
				idea_cat_impenetrable_coast
			}
			add_offsite_building = {
				type = dockyard
				level = 2
			}
		}
	}
	focus = {
		id = CAT_dockyard_edification
		icon = naval_dockyard
		cost = 7.2

		available = {

		}
	
		prerequisite = {
			focus = CAT_found_the_catalan_navy
		}
		
		relative_position_id = CAT_found_the_catalan_navy
		x = 0
		y = 2
		completion_reward = {
			add_ideas = {
				idea_cat_dockyard_modernization
			}
		}
	}
	focus = {
		id = CAT_expand_las_palmas_naval_base
		icon = naval_occupation
		cost = 6

		available = {

		}
	
		prerequisite = {
			focus = CAT_dockyard_edification
		}
		
		relative_position_id = CAT_dockyard_edification
		x = 0
		y = 3
		completion_reward = {
			165 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = naval_base
					level = 5
					instant_build = yes
					province = 9764
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
}